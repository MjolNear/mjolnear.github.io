{"version":3,"sources":["business-logic/near/enviroment/network.ts","business-logic/near/enviroment/contract-names.ts","business-logic/near/enviroment/near.ts","business-logic/near/enviroment/config.ts","business-logic/near/constants.ts","business-logic/near/api/rpc.ts","business-logic/near/api/collection/api.ts","utils/css-utils.ts","components/Common/navbar/buttons.js","pages/navbar/menu/TabDropDownMenu.jsx","resources/hammer.png","resources/label6.png","pages/navbar/Navbar.js","hooks/redux.ts","pages/navbar/NavbarContainer.js","pages/landing/GreetingText.tsx","pages/landing/LandingPage.tsx","pages/not-found/NotFoundPage.jsx","components/Common/text/DarkBlueTitle.jsx","components/Common/loaders/MjolLoader.tsx","components/Common/shadow/BlueShadowContainer.jsx","pages/create/nft/upload/lines/SingleCharLine.jsx","pages/create/nft/upload/lines/SingleNumberLine.jsx","pages/create/nft/upload/containers/SingleLineContainer.jsx","pages/create/nft/upload/containers/MultiLineContainer.jsx","resources/doc-img.png","pages/create/nft/upload/UploadFileInput.jsx","business-logic/ipfs/upload.ts","pages/create/collection/CreateCollectionPage.jsx","business-logic/near/api/nfts/mint.js","pages/create/nft/upload/containers/OptionInputContainer.jsx","business-logic/near/api/collections/api.ts","business-logic/near/api/collections/get-user-collections.ts","business-logic/near/get-utils.js","business-logic/near/api/collections/get-collections-traits.js","pages/create/nft/upload/lines/OptionInput.jsx","pages/create/nft/CreateNftPage.jsx","pages/explore/collection/ExploreCollectionsPage.jsx","state/preview/nft/slice.ts","business-logic/near/api/utils.ts","business-logic/near/api/contracts/parser/lib/interfaces.ts","business-logic/near/api/core.ts","business-logic/near/api/contracts/api.ts","business-logic/near/api/contracts/marketplaces.ts","business-logic/near/api/standardization/nft-converter.ts","business-logic/near/api/nfts/api.ts","business-logic/near/api/market/api.ts","business-logic/near/api/batch-request/batchify.ts","business-logic/near/api/nfts/get-user-nfts.ts","hoc/withAuthData.tsx","components/Preview/PreviewNftImage.tsx","components/Common/borders/Hr.jsx","components/Common/buttons/DropDownMjolBlueButton.jsx","components/Icons/IconText.jsx","state/transaction/state.ts","utils/string.js","components/Preview/Attributes/PreviewAttribute.jsx","components/Preview/Attributes/PreviewAttributes.jsx","components/Preview/Blocks/NftPreviewTitle.tsx","components/Icons/ShareIcon.jsx","components/Preview/Blocks/NftPreviewCollectionLink.tsx","components/Preview/Blocks/NftPreviewInfo.jsx","hooks/useNftMarketStatus.ts","components/Common/buttons/DarkBlueGradientButton.jsx","components/Preview/Status/connect-wallet/ConnectWalletButton.jsx","components/Common/text/DarkBlueMjolText.jsx","resources/near-protocol-near-logo.svg","components/Icons/near/NearBlackLogo.tsx","components/Preview/Blocks/PreviewNftPrice.tsx","components/Preview/Status/withPriceContainer.tsx","components/Preview/Status/BuyNftContainer.jsx","state/transaction/nft/slice.ts","business-logic/near/api/market/transaction.ts","state/transaction/nft/thunk.ts","components/Common/modal/Modal.jsx","components/Preview/Status/sell/recieve/SinglePayout.jsx","components/Preview/Status/sell/recieve/PayoutsPreview.jsx","components/Preview/Status/sell/InputPriceModal.jsx","components/Preview/Status/sell/SellNftContainer.jsx","components/Preview/Status/UnlistNftContainer.tsx","components/Preview/Status/NftContractNotSupported.tsx","components/Preview/Status/NotListedNftContainer.tsx","pages/preview/nft/PreviewNftPage.tsx","state/preview/nft/thunk.ts","hoc/auth/Logout.tsx","components/Filter/search/SearchInput.jsx","pages/explore/nft/NftFilters.jsx","components/Card/CardLoader.tsx","components/CardList/CardsGridContainer.tsx","components/CardList/CardListLoader.tsx","components/Card/Blocks/ImageBlock.tsx","components/Card/Blocks/MintedBlock.tsx","components/Card/Blocks/TitleBlock.tsx","components/Card/Blocks/CollectionBlock.tsx","components/Card/Blocks/PriceBlock.tsx","components/Card/Card.tsx","components/CardList/CardGrid.tsx","state/explore/nfts/slice.ts","business-logic/near/api/market/get-nfts-market.ts","state/explore/nfts/thunk.ts","state/profile/nfts/slice.ts","components/CardList/CardList.tsx","pages/explore/nft/ExploreNftsPage.tsx","pages/profile/collections/ProfileCollectionsPage.tsx","pages/profile/nfts/ProfileHistoryFetch.tsx","components/CardList/EmptyCardList.tsx","pages/profile/nfts/ProfileNftsFetch.tsx","state/profile/nfts/thunk.ts","components/Common/buttons/MjolBlueGradientButton.jsx","pages/profile/nfts/navbar/ProfileNavigationBar.tsx","pages/profile/nfts/ProfileNftsPage.tsx","AppRouter.tsx","App.tsx","state/preview/reducer.ts","state/navbar/slice.ts","state/explore/reducer.ts","state/profile/reducer.ts","state/store.ts","index.tsx","business-logic/near/api/contracts/parser/lib/parseWasm.ts"],"names":["NetworkEnv","MJOL_MARKET_CONTRACT_ID","config","env","PRODUCTION","MAINNET","networkId","nodeUrl","contractName","walletUrl","helperUrl","explorerUrl","DEVELOPMENT","TESTNET","BETANET","LOCAL","keyPath","process","HOME","TEST","CI","masterAccount","CI_BETANET","Error","getConfig","near","Near","keyStore","keyStores","BrowserLocalStorageKeyStore","wallet","WalletConnection","getAccountId","Contract","account","viewMethods","changeMethods","signIn","requestSignIn","then","catch","GAS","BN","SM_DEPOSIT","YOCTO_NEAR","viewFunction","contractId","methodName","args","functionCall","gas","attachedDeposit","walletCallbackUrl","mjolViewFunction","mjolFunctionCall","collectionAPI","collectionId","from","limit","collection_id","classNames","classes","filter","Boolean","join","grayGradient","direction","CloseMenuButton","Button","className","DropDownButton","isOpen","tabName","MenuButton","TabsDropDownMenu","name","tabs","isProfile","as","Fragment","enter","enterFrom","enterTo","leave","leaveFrom","leaveTo","Panel","map","path","to","SmallNavBar","Navbar","React","memo","exploreTabs","explore","createTabs","create","profileTabs","profile","singleTabs","single","src","imgLogo","alt","imgLabel","Group","isSignedIn","onClick","focus","item","useAppDispatch","useDispatch","useAppSelector","useSelector","NavbarContainer","state","navbar","GreetingText","LandingPage","NotFoundPage","DarkBlueTitle","title","undefined","MjolLoader","size","style","border","borderTop","borderRadius","width","height","animation","BlueShadowContainer","children","SingleCharLine","props","type","id","placeholder","text","minLength","maxLength","onChange","e","setState","target","value","SingleNumberLine","min","max","SingleLineContainer","required","extra_name","MultiLineContainer","rows","defaultValue","UploadFileInput","extra_text","viewBox","fill","stroke","d","strokeWidth","strokeLinecap","strokeLinejoin","htmlFor","accept","files","file_text","docFileImg","URL","createObjectURL","xmlns","description","image","traits","a","client","NFTStorage","token","store","storeCollection","bannerImage","makeNftLink","nftIpfsLink","startsWith","slice","LineAlert","role","CreateCollectionPage","useState","setTitle","setDescription","fileIcon","setFileIcon","fileBanner","setFileBanner","fileTraits","setFileTraits","isLoading","setIsLoading","alertText","setAlertText","prepareCollection","res","console","log","ipfsMedia","data","href","ipfsRef","url","collectionMetadata","metadata","createCollection","desc","media","reference","finally","onSubmit","preventDefault","length","reader","FileReader","onload","event","jsonTraits","JSON","parse","result","readAsText","OptionInputContainer","setCurCollection","myCollections","accountId","owner_id","NftAPI","fetch","timeout","response","ok","error","statusText","status","json","collections","collection","getJsonByURL","OptionInput","setCurValues","choosenValues","concat","values","CreateNftPage","setMyCollections","collectionTraits","setCollectionTraits","nftTraits","setNftTraits","curCollection","royalty","setRoyalty","file","setFile","useEffect","getUserContracts","myColls","getTraitsFromCollectionsLinks","traitsDict","call","obj","storeNFT","dictWithOneKey","tmpKey","Object","keys","preprocessTraits","token_metadata","copies","payout","toString","tokenMetadata","token_owner_id","mintToCommonCollection","traitKey","ExploreCollectionsPage","initialState","payouts","fetching","previewNftSlice","createSlice","reducers","success","action","nft","payload","failure","toggleFetching","setPayouts","reset","previewNftReducer","reducer","formatOptionalPrice","price","formatPrice","getPrice","uid","tokenPrices","stringPrice","toLocaleString","useGrouping","utils","format","formatNearAmount","buildUID","tokenId","freeze","nep171","methods","nep177","nep178","nep181","nep199","resource","options","controller","AbortController","setTimeout","abort","signal","clearTimeout","Marketplace","contractAPI","fetchWithTimeout","isIPFS","require","getRealUrl","urlHash","storageLink","endsWith","cid","getNftMintedSiteInfo","PARAS","holder","token_id","split","nftLink","convertStandardNFT","mediaUrl","media_hash","Promise","reject","resolve","ownerId","mediaURL","referenceURL","reference_hash","mintSite","getMintbaseNFT","jsonNFT","Account","getConvertedNFT","jsonNft","nftAPI","account_id","from_index","balance","max_len_payout","marketAPI","tokens","has_next_batch","total_count","prices","forEach","nft_contract_id","tokenUID","token_uid","batchRequest","batch","request","errors","all","push","getNFTsByContractAndTokenId","tokenPrice","getNftPayouts","TREASURY_PERCENT","rawRoyalties","royalties","payoutKey","parseInt","highestPayout","payoutVal","addExtraContracts","curContracts","contract","includes","getUserNfts","nftContracts","fetchNfts","nfts","flat","withAuthData","Child","signedIn","PreviewNftImage","link","Hr","color","DropDownMjolBlueButton","buttonContent","initialVisible","visible","setVisible","ItemMarketStatus","IconText","icon","getPercentage","percentage","maxValue","MAX_ITEM_PRICE","getStringPercentage","minValue","maximumFractionDigits","PreviewAttribute","shrinkValue","string","chunkSize","sizeToSplit","shortenString","navigator","clipboard","writeText","place","delayShow","PreviewAttributes","attributes","attribute","NftPreviewTitle","ShareIcon","cx","cy","r","x1","y1","x2","y2","NftPreviewCollectionLink","NftPreviewInfo","statusElement","ownerAttributes","formattedPayouts","entries","kv","element","tab","DarkBlueGradientButton","ConnectWalletButton","DarkBlueMjolText","NearBlackLogo","logo","PreviewNftPrice","withPriceContainer","pending","marketNftTransactionSlice","commit","giveApprove","parseNearAmount","json_nft","stringify","msg","buyNftWithPayouts","nearAmount","unlistNFT","Modal","close","closeOnBgClick","closeOnEscape","modalRef","useRef","onKeydown","key","document","addEventListener","removeEventListener","ref","current","backgroundColor","SinglePayout","PayoutsPreview","treasury","rest","reduce","b","receive","InputPriceModal","imgSrc","closeModal","useForm","mode","defaultValues","register","watch","handleSubmit","formState","isValid","step","message","objectFit","aspectRatio","disabled","SellNftContainer","NftContractNotSupported","NotListedNftContainer","useParams","preview","dispatch","actions","p","fetchNft","nftStatus","isListed","LISTED","CAN_SELL","CAN_BUY","FREE","useNftMarketStatus","buyNft","sellNft","unlistNft","NOT_SUPPORTED","getStatus","Logout","navigate","useNavigate","signOut","SearchInput","isTyping","onCancel","onSearch","NftFilters","CardLoader","gradient","background","CardsGridContainer","CardListLoader","ImageBlock","scrollPosition","loading","setLoading","effect","threshold","afterLoad","MintedBlock","market","TitleBlock","CollectionBlock","PriceBlock","Card","previewLink","CardGrid","hasMore","total","exploreNftsSlice","setPageData","exploreNftsReducer","getMarketNfts","marketNfts","ProfileNftsTab","fetchMarketNfts","trackWindowScroll","next","scrollThreshold","loader","dataLength","endMessage","ExploreNftsPage","totalItems","ProfileCollectionsPage","All","Listed","History","activeTab","contracts","history","profileNftsSlice","changeTab","addNft","resetNfts","profileNftsReducer","ProfileHistoryFetch","EmptyCardList","motion","div","initial","rotate","animate","transition","repeatType","duration","repeat","Infinity","ProfileNftsFetch","fetchMyNfts","MjolBlueGradientButton","isActive","ProfileNavigationBar","child","useMemo","AppRouter","ProfileNftsPage","App","previewReducer","combineReducers","navbarReducer","exploreReducer","profileReducer","rootReducer","configureStore","ReactDOM","render","StrictMode","getElementById","parseWasm","wasmb64","decode","strb64","Buffer","Uint8Array","atob","trim","c","charCodeAt"],"mappings":"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","file":"static/js/main.cd8ad247.chunk.js","sourcesContent":["export enum NetworkEnv {\n    MAINNET = \"mainnet\",\n    TESTNET = \"testnet\",\n    DEVELOPMENT = \"development\",\n    BETANET = \"betanet\",\n    PRODUCTION = \"production\",\n    LOCAL = \"local\",\n    TEST = \"test\",\n    CI = \"ci\",\n    CI_BETANET = \"ci-betanet\"\n}","export const MJOL_MARKET_CONTRACT_ID = 'market.mjol.near'","import {Contract, keyStores, Near, WalletConnection} from \"near-api-js\";\nimport {getConfig} from \"./config\";\nimport {NetworkEnv} from \"./network\";\n\nexport const network = NetworkEnv.MAINNET\nexport const config = getConfig(network)\n\nconst near = new Near({\n    keyStore: new keyStores.BrowserLocalStorageKeyStore(),\n    ...config,\n})\n\nexport const wallet = new WalletConnection(near, config.contractName)\n\n// Initializing our setup APIs by setup name and configuration\nexport const contract = new Contract(wallet.account(), config.contractName, {\n    // View methods are read only. They don't modify the state, but usually return some value.\n    viewMethods: ['get_nfts', 'get_user_nfts', 'get_nft_price'],\n    // Change methods can modify the state. But you don't receive the returned value when called.\n    changeMethods: ['buy_with_payouts', 'remove_from_market'],\n})\n\nexport const getAccountId = () => {\n    return wallet.getAccountId()\n}\n\nexport const signIn = () => {\n    wallet.requestSignIn(config.contractName)\n        .then()\n        .catch()\n}\n\nexport const signOut = () => {\n    wallet.signOut()\n}","import {NetworkEnv} from \"./network\";\nimport {NearConfig} from \"near-api-js/lib/near\";\nimport {MJOL_MARKET_CONTRACT_ID} from \"./contract-names\";\n\n\nexport interface Config extends NearConfig {\n    contractName: string,\n    explorerUrl?: string,\n    keyPath?: string\n}\n\nexport const getConfig = (env: NetworkEnv): Config => {\n    switch (env) {\n        case NetworkEnv.PRODUCTION:\n        case NetworkEnv.MAINNET:\n            return {\n                networkId: 'mainnet',\n                nodeUrl: 'https://rpc.mainnet.near.org',\n                contractName: MJOL_MARKET_CONTRACT_ID,\n                walletUrl: 'https://wallet.near.org',\n                helperUrl: 'https://helper.mainnet.near.org',\n                explorerUrl: 'https://explorer.mainnet.near.org',\n            };\n        case NetworkEnv.DEVELOPMENT:\n        case NetworkEnv.TESTNET:\n            return {\n                networkId: 'testnet',\n                nodeUrl: 'https://rpc.testnet.near.org',\n                contractName: MJOL_MARKET_CONTRACT_ID,\n                walletUrl: 'https://wallet.testnet.near.org',\n                helperUrl: 'https://helper.testnet.near.org',\n                explorerUrl: 'https://explorer.testnet.near.org',\n            };\n        case NetworkEnv.BETANET:\n            return {\n                networkId: 'betanet',\n                nodeUrl: 'https://rpc.betanet.near.org',\n                contractName: MJOL_MARKET_CONTRACT_ID,\n                walletUrl: 'https://wallet.betanet.near.org',\n                helperUrl: 'https://helper.betanet.near.org',\n                explorerUrl: 'https://explorer.betanet.near.org',\n            };\n        case NetworkEnv.LOCAL:\n            return {\n                networkId: 'local',\n                nodeUrl: 'http://localhost:3030',\n                keyPath: `${process.env.HOME}/.near/validator_key.json`,\n                walletUrl: 'http://localhost:4000/wallet',\n                contractName: MJOL_MARKET_CONTRACT_ID,\n            };\n        case NetworkEnv.TEST:\n        case NetworkEnv.CI:\n            return {\n                networkId: 'shared-test',\n                nodeUrl: 'https://rpc.ci-testnet.near.org',\n                contractName: MJOL_MARKET_CONTRACT_ID,\n                masterAccount: 'test.near',\n            };\n        case NetworkEnv.CI_BETANET:\n            return {\n                networkId: 'shared-test-staging',\n                nodeUrl: 'https://rpc.ci-betanet.near.org',\n                contractName: MJOL_MARKET_CONTRACT_ID,\n                masterAccount: 'test.near',\n            };\n        default:\n            throw Error(`Unconfigured environment '${env}'. Can be configured in src/config.js.`)\n    }\n}\n\n// Why do we need that?\n// module.exports = getConfig;\n","import BN from \"bn.js\";\n\n// 0.0000000003 \nexport const GAS = new BN(\"300000000000000\");\n\n// 0.1 \nexport const SM_DEPOSIT = new BN(\"100000000000000000000000\")\n\n// one yocto \nexport const YOCTO_NEAR = new BN(\"1\");\n\n","import BN from \"bn.js\";\nimport {wallet} from \"../enviroment/near\";\nimport {MJOL_MARKET_CONTRACT_ID} from \"../enviroment/contract-names\";\nimport {GAS, SM_DEPOSIT} from \"../constants\";\nimport {ContractId} from \"../../models/types\";\n\nexport interface ViewFunctionOptions {\n    contractId: ContractId,\n    methodName: string,\n    args: object\n}\n\nexport interface FunctionCallOptions extends ViewFunctionOptions {\n    gas?: BN,\n    attachedDeposit?: BN,\n    walletCallbackUrl?: string\n}\n\nexport interface MjolViewFunctionOptions {\n    methodName: string,\n    args: object\n}\n\nexport interface MjolFunctionCallOptions extends MjolViewFunctionOptions {\n    gas?: BN,\n    attachedDeposit?: BN,\n    walletCallbackUrl?: string\n}\n\nexport function viewFunction<T = any>({contractId, methodName, args}: ViewFunctionOptions): Promise<T> {\n    return wallet.account().viewFunction(contractId, methodName, args)\n}\n\nexport const functionCall = ({\n    contractId,\n    methodName,\n    args,\n    gas,\n    attachedDeposit,\n    walletCallbackUrl\n}: FunctionCallOptions) => {\n    return wallet.account().functionCall({\n        contractId,\n        methodName,\n        args,\n        gas,\n        attachedDeposit,\n        walletCallbackUrl\n    })\n}\n\nexport function mjolViewFunction<T = any>({methodName, args}: MjolViewFunctionOptions) {\n    return viewFunction<T>({\n        contractId: MJOL_MARKET_CONTRACT_ID, methodName, args\n    })\n}\n\nexport const mjolFunctionCall = ({\n    methodName,\n    args,\n    gas = GAS,\n    attachedDeposit = SM_DEPOSIT,\n    walletCallbackUrl\n}: MjolFunctionCallOptions) => {\n    return functionCall({\n        contractId: MJOL_MARKET_CONTRACT_ID,\n        methodName,\n        args,\n        gas,\n        attachedDeposit,\n        walletCallbackUrl\n    })\n}","import {mjolViewFunction} from \"../rpc\";\nimport {CollectionTokens} from \"../types/response/collection\";\nimport {AccountId, CollectionId} from \"../../../models/types\";\n\nexport const collectionAPI = {\n\n    /**\n     * Fetches NFTs from collection.<br>\n     *\n     * @param collectionId valid collection id\n     * @param from  start index for fetching\n     * @param limit maximum amount of fetched tokens\n     */\n    fetchNfts: (collectionId: CollectionId, from: number, limit: number) =>\n        mjolViewFunction<CollectionTokens>({\n            methodName: 'get_nfts_from_collection',\n            args: {\n                collection_id: collectionId,\n                from,\n                limit\n            }\n        }),\n\n    // fetchUserCollections: (accountId: AccountId) =>\n    //     mjolViewFunction({\n    //         methodName: ''\n    //     })\n\n\n\n//     pub fn get_collection_info(&self, collection_id: CollectionId) -> Option<CollectionMetadata> {\n//     self.collections.get(&collection_id)\n// }\n//\n// pub fn get_collections_by_owner_id(&self, owner_id: AccountId) -> Vec<CollectionId> {\n//     self\n//     .collections_by_owner_id\n//         .get(&owner_id.clone())\n// .map(|x| x.to_vec())\n// .unwrap_or_else(|| vec![])\n// }\n}","export default function classNames(...classes: string[]) {\n    return classes.filter(Boolean).join(' ')\n}\n\n\nexport const grayGradient = (direction: \"left\" | \"right\") => {\n    return `linear-gradient(to ${direction}, rgb(229, 232, 235), rgba(255, 255, 255, 0))`\n}","import {Popover} from \"@headlessui/react\";\nimport {MenuIcon, XIcon} from \"@heroicons/react/outline\";\nimport React from \"react\";\nimport classNames from \"../../../utils/css-utils\";\nimport {ChevronDownIcon} from \"@heroicons/react/solid\";\n\nexport const CloseMenuButton = () => {\n    return (\n        <Popover.Button\n            className=\"bg-white rounded-md p-2 inline-flex nfts-center justify-center text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500\">\n            <span className=\"sr-only\">Close menu</span>\n            <XIcon className=\"h-6 w-6\" aria-hidden=\"true\"/>\n        </Popover.Button>\n    );\n};\n\nexport const DropDownButton = ({isOpen, tabName}) => {\n    return (\n        <Popover.Button\n            className={classNames(\n                isOpen ? 'text-gray-900' : 'text-cyan-700',\n                'group bg-light_white rounded-md inline-flex items-center ' +\n                'text-lg font-extrabold hover:text-gray-900 focus:outline-none ' +\n                'focus:bg-light_white'\n            )}\n        >\n            {tabName}\n            <ChevronDownIcon\n                className={classNames(\n                    isOpen ? 'text-gray-900' : 'text-cyan-700',\n                    'ml-2 h-5 w-5 group-hover:text-gray-900'\n                )}\n                aria-hidden=\"true\"\n            />\n        </Popover.Button>\n    );\n};\n\nexport const MenuButton = () => {\n    return (\n        <Popover.Button\n            className=\"bg-white rounded-md p-2 inline-flex nfts-center justify-center text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500\">\n            <span className=\"sr-only\">Open menu</span>\n            <MenuIcon className=\"h-6 w-6\" aria-hidden=\"true\"/>\n        </Popover.Button>\n    );\n};\n","import {Popover, Transition} from \"@headlessui/react\";\nimport {DropDownButton} from \"../../../components/Common/navbar/buttons\";\nimport React, {Fragment} from \"react\";\nimport classNames from \"../../../utils/css-utils\";\nimport {Link} from \"react-router-dom\";\n\nexport const TabsDropDownMenu = ({name, tabs, isProfile}) => {\n    return (\n        <Popover className=\"relative\">\n            {({isOpen}) => (\n                <div key={name}>\n                    <DropDownButton isOpen={isOpen} tabName={name}/>\n                    <Transition\n                        as={Fragment}\n                        enter=\"transition ease-out duration-200\"\n                        enterFrom=\"opacity-0 translate-y-1\"\n                        enterTo=\"opacity-100 translate-y-0\"\n                        leave=\"transition ease-in duration-150\"\n                        leaveFrom=\"opacity-100 translate-y-0\"\n                        leaveTo=\"opacity-0 translate-y-1\"\n                    >\n                        <Popover.Panel\n                            className={classNames(\n                                isProfile ? '-ml-20' : '-ml-4',\n                                \"absolute z-10 -ml-4 mt-3 transform px-2\"\n                            )}>\n                            <div className=\"rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 overflow-hidden\">\n                                <div className=\"relative grid gap-6 bg-white px-5 py-6 sm:gap-8 sm:p-8\">\n                                    {tabs.map(({path, name}) => (\n                                        <Link key={name} to={path}>\n                                            <div\n                                                className=\"cursor-pointer -m-3 p-3 flex items-start rounded-lg hover:bg-gray-100\"\n                                            >\n                                                <p className=\"text-medium font-medium text-gray-900\">{name}</p>\n                                            </div>\n                                        </Link>\n                                    ))}\n                                </div>\n                            </div>\n                        </Popover.Panel>\n                    </Transition>\n                </div>\n            )}\n        </Popover>\n    )\n}","export default __webpack_public_path__ + \"static/media/hammer.743d332f.png\";","export default __webpack_public_path__ + \"static/media/label6.5b6747ff.png\";","import React, {Fragment} from 'react'\nimport {Popover, Transition} from '@headlessui/react'\nimport classNames from \"../../utils/css-utils\";\nimport {CloseMenuButton, MenuButton} from \"../../components/Common/navbar/buttons\";\nimport {Link} from \"react-router-dom\";\nimport {TabsDropDownMenu} from \"./menu/TabDropDownMenu\";\nimport imgLogo from \"../../resources/hammer.png\"\nimport imgLabel from \"../../resources/label6.png\"\nimport {signIn, wallet} from \"../../business-logic/near/enviroment/near\";\n\n\nfunction SmallNavBar({tabs}) {\n    return (\n        <div className=\"grid grid-cols-2 gap-y-4 gap-x-8\">\n            {tabs.map(({path, name}) => (\n                <>\n                    {name === \"Launchpad\" || name === \"Docs\" ? (\n                        <div\n                            className=\"cursor-not-allowed text-base font-medium text-gray-900 hover:text-gray-500\">\n                            {name}\n                        </div>\n                    ) : (\n                        <Link to={path} key={name}>\n                            <div\n                                className=\"cursor-pointer text-base font-medium text-gray-900 hover:text-gray-500\">\n                                {name}\n                            </div>\n                        </Link>\n                    )}\n                </>\n            ))}\n        </div>\n    )\n}\n\nconst Navbar = React.memo(({tabs}) => {\n    const exploreTabs = tabs.explore\n    const createTabs = tabs.create\n    const profileTabs = tabs.profile\n    const singleTabs = tabs.single\n\n    return (\n        <Popover className=\"bg-white\">\n            <div className=\"max-w-7xl mx-auto px-4 sm:px-6\">\n                <div\n                    className=\"flex justify-between items-center py-6 md:justify-start md:space-x-10\">\n                    <div className=\"flex justify-start lg:w-0 lg:flex-1\">\n                        <Link to=\"/\">\n                            <img\n                                className=\"inline-block h-8 w-auto sm:h-10\"\n                                src={imgLogo}\n                                alt=\"\"\n                            />\n                            <img\n                                className=\"inline-block h-8 w-auto sm:h-10\"\n                                src={imgLabel}\n                                alt=\"\"\n                            />\n                        </Link>\n                    </div>\n                    <div className=\"-mr-2 -my-2 md:hidden\">\n                        <MenuButton/>\n                    </div>\n                    <Popover.Group as=\"nav\" className=\"hidden md:flex space-x-10\">\n                        <TabsDropDownMenu key=\"Explore\" name=\"Explore\" tabs={exploreTabs} isProfile={false}/>\n                        <TabsDropDownMenu key=\"Create\" name=\"Create\" tabs={createTabs} isProfile={false}/>\n                        {singleTabs.map(({name, path}) => (\n                            <div\n                                className={classNames(\n                                    name === \"Launchpad\" || name === \"Docs\" ? 'cursor-not-allowed' : 'cursor-pointer',\n                                    \"text-lg font-extrabold text-cyan-700 hover:text-gray-900\"\n                                )}>\n                                {name}\n                            </div>\n                        ))}\n                    </Popover.Group>\n                    {wallet.isSignedIn() ? (\n                        <div className=\"hidden md:flex items-center justify-end md:flex-1 lg:w-0\">\n                            <TabsDropDownMenu name=\"Profile\" tabs={profileTabs} isProfile={true}/>\n                        </div>\n                    ) : (\n                        <div className=\"hidden md:flex items-center justify-end md:flex-1 lg:w-0\">\n                            <Link to=\"/\"\n                                  onClick={signIn}\n                                  className=\"inline-flex justify-center py-1.5 px-4 font-bold text-lg font-large rounded-md text-white bg-gradient-to-br from-mjol-blue-base to-green-200 hover:from-green-200 hover:to-mjol-blue-base\"\n                            >\n                                Sign in\n                            </Link>\n                        </div>\n                    )}\n                </div>\n            </div>\n\n            <Transition\n                as={Fragment}\n                enter=\"duration-200 ease-out\"\n                enterFrom=\"opacity-0 scale-95\"\n                enterTo=\"opacity-100 scale-100\"\n                leave=\"duration-100 ease-in\"\n                leaveFrom=\"opacity-100 scale-100\"\n                leaveTo=\"opacity-0 scale-95\"\n            >\n                <Popover.Panel focus\n                               className=\"absolute top-0 inset-x-0 p-2 transition transform origin-top-right md:hidden\">\n                    <div\n                        className=\"rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 bg-white divide-y-2 divide-gray-50\">\n                        <div className=\"pt-5 pb-6 px-5\">\n                            <div className=\"flex items-center justify-between\">\n                                <div>\n                                    <Link to=\"/\">\n                                        <img\n                                            className=\"h-8 w-auto\"\n                                            src={imgLogo}\n                                            alt=\"logo\"/>\n                                    </Link>\n                                </div>\n                                <div className=\"-mr-2\">\n                                    <CloseMenuButton/>\n                                </div>\n                            </div>\n                        </div>\n                        <div key=\"Explore\" className=\"py-6 px-5 space-y-6\">\n                            <div className=\"text-cyan-700\">Explore:</div>\n                            <SmallNavBar tabs={exploreTabs}/>\n                        </div>\n                        <div key=\"Create\" className=\"py-6 px-5 space-y-6\">\n                            <div className=\"text-cyan-700\">Create:</div>\n                            <SmallNavBar tabs={createTabs}/>\n                        </div>\n                        <div className=\"py-6 px-5 space-y-6\">\n                            <SmallNavBar tabs={singleTabs}/>\n                            {wallet.isSignedIn() ? (\n                                <>\n                                    <div className=\"grid grid-cols-2 gap-y-4 gap-x-8\">\n                                        {profileTabs.filter(item => item.name !== 'Sign out').map(({name, path}) => (\n                                            <Link to={path} key={name}>\n                                                <div\n                                                    className=\"cursor-pointer text-base font-medium text-gray-900 hover:text-gray-500\"\n                                                >\n                                                    {name}\n                                                </div>\n                                            </Link>\n                                        ))}\n                                        <Link to=\"/signOut\"\n                                              className=\"cursor-pointer col-span-2 text-center font-medium text-gray-500 hover:text-gray-700\"\n                                        >\n                                            Log out\n                                        </Link>\n                                    </div>\n                                </>\n                            ) : (\n                                <div>\n                                    <Link to=\"/\"\n                                          onClick={signIn}\n                                          className=\"cursor-pointer w-full py-2 flex items-center justify-center font-bold text-lg font-large rounded-md text-white bg-gradient-to-br from-mjol-blue-base to-green-200 hover:from-green-200 hover:to-mjol-blue-base\"\n                                    >\n                                        Sign in\n                                    </Link>\n                                </div>\n                            )}\n                        </div>\n                    </div>\n                </Popover.Panel>\n            </Transition>\n        </Popover>\n    )\n})\n\nexport default Navbar;","import {useDispatch, TypedUseSelectorHook, useSelector} from \"react-redux\";\nimport {AppDispatch, RootState} from \"../state/store\";\n\nexport const useAppDispatch = () => useDispatch<AppDispatch>()\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;","import Navbar from \"./Navbar\";\n\nimport React from 'react';\nimport {useAppSelector} from \"../../hooks/redux\";\n\nconst NavbarContainer = () => {\n    const tabs = useAppSelector(state => state.navbar.tabs)\n\n    return <Navbar tabs={tabs}/>;\n};\n\nexport default NavbarContainer;","import React from 'react';\n\nconst GreetingText = () => {\n    return (\n        <div className=\"max-w-7xl mx-auto w-1/2 space-y-14 h-screen\">\n            <div\n                className=\"text-3xl text-left md:text-6xl font-extrabold text-transparent bg-clip-text bg-gradient-to-br from-mjol-blue-base to-green-200 flex-end\">\n                Welcome to MjolNear\n            </div>\n            <div className=\"text-sm md:text-lg font-mono\">\n                The first Open NFT marketplace on Near blockchain.\n            </div>\n        </div>\n    );\n};\n\nexport default GreetingText;","import React from 'react';\nimport GreetingText from \"./GreetingText\";\n\nconst LandingPage = () => {\n    return (\n        <div className=\"px-8 py-8\">\n            <GreetingText/>\n        </div>\n    )\n};\n\nexport default LandingPage;","import React from 'react';\n\nconst NotFoundPage = React.memo(() => {\n    return (\n        <img className=\"max-w-3xl mx-auto\"\n             src=\"https://cdn.dribbble.com/users/745025/screenshots/6723888/gif_404.gif\"\n             alt=\"not found\"\n        />\n    );\n});\n\nexport default NotFoundPage;","import React from 'react';\n\nconst DarkBlueTitle = ({title, classes = undefined}) => {\n    return (\n        <div\n            className={\n                \"font-extrabold text-transparent bg-clip-text \" +\n                \"bg-gradient-to-br from-teal-900 to-mjol-blue-base \" +\n                (classes ? classes : \"text-center text-5xl md:text-6xl lg:text-7xl\")\n            }\n        >\n            {title}\n        </div>\n    );\n};\n\nexport default DarkBlueTitle;","import React from 'react';\n\n\ninterface PropTypes {\n    size?: number\n}\n\nconst MjolLoader = React.memo<PropTypes>(({size = 30}) => {\n    return (\n        <div className=\"flex items-center justify-center w-full h-full\"\n        >\n            <div\n                style={{\n                    border: \"4px solid #f3f3f3\", /* Light grey */\n                    borderTop: \"4px solid #3498db\", /* Blue */\n                    borderRadius: '50%',\n                    width: size,\n                    height: size,\n                    animation: \"spin 1s linear infinite\"\n                }}/>\n        </div>\n    );\n});\n\nexport default MjolLoader;","import React from 'react';\n\nconst BlueShadowContainer = ({children}) => {\n    return (\n        <div className=\"shadow-mjol-base-blue-drop-xl pt-10\">\n            {children}\n        </div>\n    );\n};\n\nexport default BlueShadowContainer;","const SingleCharLine = (props) => {\n    return (\n        <input\n            type={props.type}\n            name={props.id}\n            id={props.id}\n            className=\"focus:border-cyan-500 flex-1 block w-full rounded-none rounded-md sm:text-sm border-gray-300\"\n            placeholder={props.text}\n            minLength={props.minLength}\n            maxLength={props.maxLength}\n            onChange={(e) => props.setState(e.target.value)}\n        />\n    );\n};\n\nexport default SingleCharLine;","import React from \"react\";\n\nconst SingleNumberLine = (props) => {\n    return (\n        <input\n            type={props.type}\n            name={props.id}\n            id={props.id}\n            className=\"peer focus:ring-indigo-500 focus:border-cyan-500 flex-1 block w-full rounded-none rounded-md sm:text-sm border-gray-300\"\n            placeholder={props.text}\n            min={props.min}\n            max={props.max}\n            onChange={(e) => props.setState(e.target.value)}\n        />\n    );\n};\n\nexport default SingleNumberLine;","import React from \"react\";\nimport SingleCharLine from \"../lines/SingleCharLine\";\nimport SingleNumberLine from \"../lines/SingleNumberLine\";\n\n\nconst SingleLineContainer = (props) => {\n    return (\n        <div className=\"grid grid-cols-3 gap-6\">\n            <div className=\"sm:col-span-2 col-span-3\">\n                <label\n                    className=\"block font-bold text-sm text-gray-700\">\n                    {props.name}{props.required ? <b className=\"text-sm font-large text-red-500\">*</b>:<></>}\n                    {props.extra_name ? <span className={\"font-normal text-gray-400\"}>{props.extra_name}</span>:<></>}\n                </label>\n                <div className=\"mt-1 flex rounded-md shadow-sm\">\n                    {props.type === 'text' ? (\n                        <SingleCharLine name={props.name} text={props.text} type={props.type}\n                                        minLength={props.minLength} maxLength={props.maxLength} id={props.id}\n                                        setState={props.setState}\n                        />\n                    ) : (\n                        <SingleNumberLine name={props.name} text={props.text} type={props.type} min={props.min}\n                                          max={props.max} id={props.id} setState={props.setState}\n                        />\n                    )}\n                </div>\n            </div>\n        </div>\n    )\n};\n\nexport default SingleLineContainer;","import React from \"react\";\n\nconst MultiLineContainer = (props) => {\n    return (\n        <div>\n            <label className=\"block text-sm font-bold text-gray-700\">\n                {props.name}\n            </label>\n            <div className=\"mt-1\">\n                      <textarea\n                          id={props.id}\n                          name={props.id}\n                          rows={props.rows}\n                          className=\"shadow-sm focus:ring-indigo-500 focus:border-cyan-500 mt-1 block w-full sm:text-sm border border-gray-300 rounded-md\"\n                          placeholder={props.text}\n                          defaultValue={''}\n                          maxLength={props.maxLength}\n                          onChange={(e) => props.setState(e.target.value)}\n                      />\n            </div>\n        </div>\n    )\n};\n\nexport default MultiLineContainer;","export default __webpack_public_path__ + \"static/media/doc-img.e24e74e9.png\";","import React from \"react\";\nimport docFileImg from \"../../../../resources/doc-img.png\";\n\nconst UploadFileInput = (props) => {\n    return (\n        <div>\n            <label className=\"block text-sm font-bold text-gray-700\">\n                {props.text}{props.required ? <b className=\"text-sm font-large text-red-500\">*</b> : <></>}\n                {props.extra_text ? <span className={\"font-normal text-gray-400\"}>{props.extra_text}</span> : <></>}\n            </label>\n\n            {props.state === null ? (\n                <div\n                    className=\"flex justify-center mt-1 px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md\">\n                    <div className=\"space-y-1 text-center\">\n                        {props.type === \"file\" ? (\n                            <svg\n                                className=\"mx-auto h-12 w-12 text-red-500\"\n                                height=\"32px\" viewBox=\"0 0 32 32\" width=\"32px\"\n                                aria-hidden=\"true\"\n                            >\n                                <g fill=\"none\" id=\"Page-1\" stroke=\"none\"><g fill=\"#929292\" id=\"icon-93-inbox-upload\"><path d=\"M16,6 L12.75,9.25 L12,8.5 L16.5,4 L21,8.5 L20.25,9.25 L17,6 L17,17 L16,17 L16,6 L16,6 Z M21,19 L27.7750244,19 L23.4000244,12 L18,12 L18,11 L24,11 L29,19 L29,20 L29,28 L4,28 L4,19 L9,11 L15,11 L15,11 L15,12 L9.59997559,12 L5.22497559,19 L12,19 L12,21 C12,22.1045695 12.8958578,23 13.9973917,23 L19.0026083,23 C20.1057373,23 21,22.1122704 21,21 L21,19 L21,19 L21,19 Z\" id=\"inbox-upload\"/></g></g></svg>\n                                ) : (\n                            <svg\n                                className=\"mx-auto h-12 w-12 text-gray-400\"\n                                stroke=\"currentColor\"\n                                fill=\"none\"\n                                viewBox=\"0 0 48 48\"\n                                aria-hidden=\"true\"\n                            >\n                                <path\n                                    d=\"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02\"\n                                    strokeWidth={2}\n                                    strokeLinecap=\"round\"\n                                    strokeLinejoin=\"round\"\n                                />\n                            </svg>\n                        )}\n                        <div className=\"flex text-sm text-gray-600\">\n                            <label\n                                htmlFor={props.id}\n                                className=\"mx-auto cursor-pointer bg-white rounded-md font-medium text-blue-500 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500\"\n                            >\n                                <span>Upload {props.type}</span>\n                                <input id={props.id} name={props.id} type=\"file\" accept={props.accept}\n                                       className=\"sr-only\" onChange={(e) => props.setState(e.target.files[0])}/>\n                            </label>\n                        </div>\n                        <p className=\"text-xs text-gray-500\">{props.file_text}</p>\n                    </div>\n                </div>\n            ) : (\n                <div\n                    className=\"flex justify-start mt-1 px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md\">\n                    <div className=\"relative\">\n                        { props.type === \"file\" ? (\n                            <img width=\"100px\" src={docFileImg} alt=\"file\"/>\n                        ):(\n                            <img width=\"100px\" src={URL.createObjectURL(props.state)} alt=\"nft image\"/>\n                        )\n                        }\n                        <button\n                            className=\"absolute top-0 right-0 -mx-2 -my-2 bg-gray-900 text-white rounded-full hover:bg-gray-500 cursor-pointer\"\n                            onClick={() => props.setState(null)}>\n                            <svg className=\"h-5 w-5\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\"\n                                 stroke=\"currentColor\" aria-hidden=\"true\">\n                                <path d=\"M6 18L18 6M6 6l12 12\"/>\n                            </svg>\n                        </button>\n                    </div>\n                </div>\n\n            )}\n        </div>\n    )\n};\n\nexport default UploadFileInput;","import {NFTStorage} from 'nft.storage'\n\nexport async function storeNFT(name: any, description: any, image: any, traits: any) {\n    const client = new NFTStorage({\n        token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkaWQ6ZXRocjoweDYzZDFBZDhCMWIzMjQyQjFjMkUwNjE2NzcyOUNmMGEwYmIyNDE1OTUiLCJpc3MiOiJuZnQtc3RvcmFnZSIsImlhdCI6MTY0MDExNjI4NTY3OSwibmFtZSI6InRldHMgZm9yIG9wZW4gbmZ0In0.gU_buy_gF4XUwptAU7Ck5_TSrfhZNLva5h2uWAusHNo'\n    })\n\n    return await client.store({\n        name,\n        description,\n        image,\n        traits\n    })\n}\n\nexport async function storeCollection(name: any, description: any, image: any, bannerImage: any, traits: any) {\n    const client = new NFTStorage({\n        token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkaWQ6ZXRocjoweDYzZDFBZDhCMWIzMjQyQjFjMkUwNjE2NzcyOUNmMGEwYmIyNDE1OTUiLCJpc3MiOiJuZnQtc3RvcmFnZSIsImlhdCI6MTY0MDExNjI4NTY3OSwibmFtZSI6InRldHMgZm9yIG9wZW4gbmZ0In0.gU_buy_gF4XUwptAU7Ck5_TSrfhZNLva5h2uWAusHNo'\n    })\n\n    return await client.store({\n        name,\n        description,\n        image,\n        bannerImage,\n        traits\n    })\n}\n\nexport function makeNftLink(nftIpfsLink: string) {\n    if (nftIpfsLink.startsWith('ipfs://')) {\n        return 'https://ipfs.io/ipfs/' + nftIpfsLink.slice(7)\n    }\n    return \"\"\n}\n","import React, {useState} from 'react';\nimport DarkBlueTitle from \"../../../components/Common/text/DarkBlueTitle\";\nimport MjolLoader from \"../../../components/Common/loaders/MjolLoader\";\nimport BlueShadowContainer from \"../../../components/Common/shadow/BlueShadowContainer\";\nimport SingleLineContainer from \"../nft/upload/containers/SingleLineContainer\";\nimport MultiLineContainer from \"../nft/upload/containers/MultiLineContainer\";\nimport UploadFileInput from \"../nft/upload/UploadFileInput\";\nimport {wallet} from \"../../../business-logic/near/enviroment/near\";\nimport {makeNftLink, storeCollection, storeNFT} from \"../../../business-logic/ipfs/upload\";\nimport {createCollection} from \"../../../business-logic/near/api/nfts/mint\";\n\nconst LineAlert = ({state, setState}) => {\n    return (\n        <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative\" role=\"alert\">\n            <span className=\"block sm:inline\">{state}</span>\n            <span className=\"absolute top-0 bottom-0 right-0 px-4 py-3\">\n                <svg className=\"fill-current h-6 w-6 text-red-500\" role=\"button\"\n                     xmlns=\"http://www.w3.org/2000/svg\"\n                     viewBox=\"0 0 20 20\"\n                     onClick={() => setState(\"\")}>\n                    <title>Close</title>\n                    <path d=\"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1\n                    1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1\n                    1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z\"\n                    />\n                </svg>\n            </span>\n        </div>\n    )\n};\n\nconst CreateCollectionPage = () => {\n    const MIN_TITLE_LEN = 3;\n    const MAX_TITLE_LEN = 30;\n    const MAX_DESC_LEN = 250;\n\n\n    const [title, setTitle] = useState('');\n    const [description, setDescription] = useState('');\n    const [fileIcon, setFileIcon] = useState(null);\n    const [fileBanner, setFileBanner] = useState(null);\n    const [fileTraits, setFileTraits] = useState(null);\n    const [isLoading, setIsLoading] = useState(false);\n    const [alertText, setAlertText] = useState(\"\");\n\n    const submitForm = (e) => {\n        e.preventDefault();\n\n        setAlertText(\"\");\n        if (!wallet.isSignedIn()) {\n            return\n        }\n        if (!(title.length <= MAX_TITLE_LEN && title.length >= MIN_TITLE_LEN)) {\n            setAlertText(`Title length must be between ${MIN_TITLE_LEN} and ${MAX_TITLE_LEN} characters`);\n            return\n        }\n        if (!(description.length <= MAX_DESC_LEN)) {\n            setAlertText(`Description length must be less than ${MAX_DESC_LEN} characters`);\n            return\n        }\n        if (fileIcon === null) {\n            setAlertText(`Please upload your collection icon file`);\n            return\n        }\n\n        console.log(\"Create Collection\")\n        setIsLoading(true);\n        if (fileTraits !== null) {\n            let reader = new FileReader();\n            reader.onload = function (event) {\n                let jsonTraits = JSON.parse(event.target.result);\n                storeCollection(title, description, fileIcon, fileBanner, jsonTraits).then(res => {\n                    prepareCollection(res)\n                    setIsLoading(false);\n                })\n            }\n            reader.readAsText(fileTraits);\n        } else {\n            storeCollection(title, description, fileIcon, fileBanner, fileTraits).then(res => {\n                prepareCollection(res)\n                setIsLoading(false);\n            })\n        }\n    }\n\n    const prepareCollection = (res) => {\n        console.log(res);\n        const ipfsMedia = makeNftLink(res.data.image.href);\n        const ipfsBannerMedia = makeNftLink(res.data.bannerImage.href);\n        const ipfsRef = makeNftLink(res.url);\n        const collectionMetadata = {\n            title: title,\n            desc: description,\n            media: ipfsMedia,\n            reference: ipfsRef\n        }\n        createCollection(collectionMetadata).finally(() =>\n            setIsLoading(false)\n        )\n    }\n\n    return (\n        <>\n            {isLoading ? (\n                <MjolLoader size={50}/>\n            ) : (\n                <div className=\"bg-mjol-white\">\n                    <div className=\"bg-white\">\n                        <BlueShadowContainer>\n                            <div className=\"pb-10 px-4 space-y-8\">\n                                <DarkBlueTitle title=\"Create Collection\"/>\n                            </div>\n                        </BlueShadowContainer>\n                    </div>\n                    <div className=\"max-w-7xl py-10 mx-auto px-4 sm:px-6\">\n                        <form onSubmit={submitForm}>\n                            <div className=\"shadow rounded-md overflow-hidden\">\n                                <div className=\"px-4 py-5 bg-white space-y-6 p-6\">\n                                    <SingleLineContainer name={'Title'}\n                                                         required={true}\n                                                         text={'e.g. Super Punks'}\n                                                         type={'text'}\n                                                         minLength={MIN_TITLE_LEN}\n                                                         maxLength={MAX_TITLE_LEN}\n                                                         id={'collection-title'}\n                                                         setState={setTitle}\n                                    />\n                                    <MultiLineContainer name={'Description'}\n                                                        text={'Brief description of your collection'}\n                                                        maxLength={MAX_DESC_LEN}\n                                                        rows={3}\n                                                        id={'ollection-desc'}\n                                                        setState={setDescription}\n                                    />\n\n\n                                    <UploadFileInput text=\"Upload collection's icon image\"\n                                                     extra_text=\" (200x200)\"\n                                                     required={true}\n                                                     type=\"image\"\n                                                     file_text=\"PNG, JPG, GIF up to 10MB\"\n                                                     accept=\"image/gif, image/jpeg, image/png\"\n                                                     state={fileIcon}\n                                                     setState={setFileIcon}\n                                                     id=\"upload-icon\"\n                                    />\n                                    <UploadFileInput text=\"Upload collection's horizontal banner image\"\n                                                     extra_text=\" (1000x300)\"\n                                                     required={false}\n                                                     type=\"image\"\n                                                     file_text=\"PNG, JPG up to 10MB\"\n                                                     accept=\"image/gif, image/jpeg, image/png\"\n                                                     state={fileBanner}\n                                                     setState={setFileBanner}\n                                                     id=\"upload-banner\"\n                                    />\n                                    <UploadFileInput text=\"Upload trait's JSON file\"\n                                                     required={false}\n                                                     type=\"file\"\n                                                     file_text=\"JSON up to 10MB\"\n                                                     accept=\"application/JSON\"\n                                                     state={fileTraits}\n                                                     setState={setFileTraits}\n                                                     id=\"upload-traits\"\n                                    />\n\n                                    {alertText !== \"\" ? (\n                                        <LineAlert state={alertText} setState={setAlertText}/>\n                                    ) : (\n                                        <></>\n                                    )}\n                                </div>\n                                <div className=\"px-4 py-3 bg-gray-50 text-left sm:px-6\">\n                                    <button\n                                        type=\"submit\"\n                                        className=\"inline-flex justify-center py-2 px-6 font-bold text-lg hover:text-gray-900 font-large rounded-md text-white bg-gradient-to-br from-mjol-blue-base to-green-200 hover:from-green-200 hover:to-mjol-blue-base\"\n                                    >\n                                        Create\n                                    </button>\n                                </div>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            )\n            }\n        </>\n    )\n};\nexport default CreateCollectionPage;","import {GAS, SM_DEPOSIT} from \"../../constants\";\nimport {getAccountId} from \"../../enviroment/near\";\nimport {functionCall} from \"../rpc\";\n\nexport function mintToCommonCollection(tokenMetadata, payout, collectionId) {\n    const commonContactId = 'mjol.near';\n\n    const args = {\n        token_owner_id: getAccountId(),\n        token_metadata: tokenMetadata,\n    };\n    if (payout !== null) {\n        args[\"payout\"] = payout\n    }\n    if (collectionId !== null) {\n        args[\"collection_id\"] = collectionId\n    }\n    return functionCall({\n        contractId: commonContactId,\n        methodName: 'nft_mint',\n        args,\n        gas: GAS,\n        attachedDeposit: SM_DEPOSIT\n    })\n}\n\nexport function createCollection(collectionMetadata) {\n    const commonContactId = 'mjol.near';\n\n    const args = {\n        metadata: collectionMetadata,\n    };\n\n    return functionCall({\n        contractId: commonContactId,\n        methodName: 'create_collection',\n        args,\n        gas: GAS,\n        attachedDeposit: SM_DEPOSIT\n    })\n}","import React from \"react\";\n\nconst OptionInputContainer = (props) => {\n    return (\n        <div className=\"grid grid-cols-6 gap-6\">\n            <div className=\"col-span-6 sm:col-span-2\">\n                <label className=\"block text-sm font-bold text-gray-700\">\n                    {props.name}\n                </label>\n                <select\n                    id={props.id}\n                    name={props.id}\n                    className=\"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-cyan-500 sm:text-sm\"\n                    onChange={(e) => props.setCurCollection(e.target.value)}\n                >\n                    {props.myCollections.map(name => (\n                        <option key={name[1]} value={name[1]}>{name[0]}</option>\n                    ))}\n                </select>\n                <p className=\"mt-2 text-sm text-gray-500\">If you want to mint NFT as part of your collection, you can\n                    <b className=\"cursor-pointer\"> create it</b>\n                </p>\n            </div>\n        </div>\n    )\n};\n\nexport default OptionInputContainer;","import {AccountId, ContractId} from \"../../../models/types\";\nimport {viewFunction} from \"../rpc\";\n\nexport const collectionAPI = {\n    /**\n     * Fetches information about user collections.\n     *\n     * @param accountId User\n     */\n    fetchUserCollections: ( accountId: AccountId) =>\n        viewFunction({\n            contractId: \"mjol.near\",\n            methodName: 'get_collections_by_owner_id',\n            args: {\n                owner_id: accountId\n            }\n        }),\n\n}","import {AccountId} from \"../../../models/types\";\nimport {collectionAPI} from \"./api\";\n\n\nexport async function getUserContracts(accountId: AccountId) {\n    return await collectionAPI.fetchUserCollections(accountId)\n}\n","export class NftAPI {\n\n    static async getJsonByURL(url) {\n        try {\n            const response = await fetch(url, {timeout: 30000});\n            if (!response.ok) {\n                return {error: response.statusText + ' (' + response.status + ')'}\n            }\n            try {\n                return await response.json();\n            } catch (err) {\n                return {error: 'Unable to parse json response'}\n            }\n        } catch (error) {\n            return {error}\n        }\n    }\n}","import {NftAPI} from \"../../get-utils\";\n\n\nexport async function getTraitsFromCollectionsLinks(collections) {\n    let res = {}\n    for (let collection of collections) {\n        const response = await NftAPI.getJsonByURL(collection.reference)\n        if (response.error || response.traits === null){\n            res[collection.collection_id] = {}\n        } else {\n            res[collection.collection_id] = response.traits\n        }\n    }\n    return res\n}\n","import React from \"react\";\n\nconst OptionInput = (props) => {\n    return (\n        <select\n            id={props.id}\n            name={props.name}\n            className=\"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-cyan-500 sm:text-sm\"\n            onChange={(e) => props.setCurValues(props.choosenValues.concat({[props.name]: e.target.value}))}\n        >\n            {props.values.map(name => (\n                <option key={name} value={name}>{name}</option>\n            ))}\n        </select>\n    )\n}\n\nexport default OptionInput;","import React, {useEffect, useState} from 'react';\nimport {mintToCommonCollection} from \"../../../business-logic/near/api/nfts/mint\";\nimport SingleLineContainer from \"./upload/containers/SingleLineContainer\";\nimport MultiLineContainer from \"./upload/containers/MultiLineContainer\";\nimport OptionInputContainer from \"./upload/containers/OptionInputContainer\";\nimport UploadFileInput from \"./upload/UploadFileInput\";\nimport {makeNftLink, storeNFT} from \"../../../business-logic/ipfs/upload\";\nimport DarkBlueTitle from \"../../../components/Common/text/DarkBlueTitle\";\nimport MjolLoader from \"../../../components/Common/loaders/MjolLoader\";\nimport BlueShadowContainer from \"../../../components/Common/shadow/BlueShadowContainer\";\nimport {getAccountId, wallet} from \"../../../business-logic/near/enviroment/near\";\nimport {getUserContracts} from \"../../../business-logic/near/api/collections/get-user-collections\";\nimport {getTraitsFromCollectionsLinks} from \"../../../business-logic/near/api/collections/get-collections-traits\";\nimport OptionInput from \"./upload/lines/OptionInput\";\n\n\nconst LineAlert = ({state, setState}) => {\n    return (\n        <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative\" role=\"alert\">\n            <span className=\"block sm:inline\">{state}</span>\n            <span className=\"absolute top-0 bottom-0 right-0 px-4 py-3\">\n                <svg className=\"fill-current h-6 w-6 text-red-500\" role=\"button\"\n                     xmlns=\"http://www.w3.org/2000/svg\"\n                     viewBox=\"0 0 20 20\"\n                     onClick={() => setState(\"\")}>\n                    <title>Close</title>\n                    <path d=\"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1\n                    1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1\n                    1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z\"\n                    />\n                </svg>\n            </span>\n        </div>\n    )\n};\n\nconst CreateNftPage = () => {\n    const MIN_TITLE_LEN = 3;\n    const MAX_TITLE_LEN = 30;\n    const MAX_DESC_LEN = 250;\n    const MIN_ROYALTY = 0;\n    const MAX_ROYALTY = 50;\n\n    let [myCollections, setMyCollections] = useState([])\n    let [collectionTraits, setCollectionTraits] = useState({})\n    let [nftTraits, setNftTraits] = useState([])\n\n    const [curCollection, setCurCollection] = useState('None');\n    const [title, setTitle] = useState('');\n    const [description, setDescription] = useState('');\n    const [royalty, setRoyalty] = useState(0);\n    const [file, setFile] = useState(null);\n    const [isLoading, setIsLoading] = useState(false);\n    const [alertText, setAlertText] = useState(\"\");\n\n    useEffect(() => {\n        if (wallet.isSignedIn()) {\n            getUserContracts(getAccountId()).then(myColls => {\n                console.log(myColls)\n                getTraitsFromCollectionsLinks(myColls).then(traitsDict => {\n                    setCollectionTraits(traitsDict)\n                })\n                setMyCollections([['None', 'None']].concat([].map.call(myColls, (obj) => {\n                    console.log(obj.title, obj.collection_id)\n                    return [obj.title, obj.collection_id];\n                })))\n            });\n        }\n    }, []);\n\n    useEffect(() => {\n        console.log(\"CUR\")\n        console.log(curCollection)\n        setNftTraits([])\n    }, [curCollection])\n\n\n    const preprocessTraits = () => {\n        let traits = {}\n        for (let dictWithOneKey of nftTraits) {\n            let tmpKey = Object.keys(dictWithOneKey)[0];\n            if (dictWithOneKey[tmpKey] === 'None'){\n                delete traits[tmpKey]\n            } else {\n                traits[tmpKey] = dictWithOneKey[tmpKey]\n            }\n        }\n        return traits\n    }\n\n    const submitForm = (e) => {\n        e.preventDefault();\n        setAlertText(\"\");\n        if (!wallet.isSignedIn()) {\n            return\n        }\n        if (!(title.length <= MAX_TITLE_LEN && title.length >= MIN_TITLE_LEN)) {\n            setAlertText(`Title length must be between ${MIN_TITLE_LEN} and ${MAX_TITLE_LEN} characters`);\n            return\n        }\n        if (!(description.length <= MAX_DESC_LEN)) {\n            setAlertText(`Description length must be less than ${MAX_DESC_LEN} characters`);\n            return\n        }\n        if (!(royalty <= MAX_ROYALTY && royalty >= MIN_ROYALTY)) {\n            setAlertText(`Royalty must be less than ${MAX_ROYALTY}`);\n            return\n        }\n        if (file === null) {\n            setAlertText(`Please upload your NFT file`);\n            return\n        }\n\n        setIsLoading(true);\n        storeNFT(title,\n            description,\n            file,\n            preprocessTraits()).then(res => {\n            console.log(res);\n            const ipfsMedia = makeNftLink(res.data.image.href);\n            const ipfsRef = makeNftLink(res.url);\n            let token_metadata = {\n                title: title,\n                description: description,\n                media: ipfsMedia,\n                reference: ipfsRef,\n                copies: 1\n            };\n            let payout = null;\n            if (royalty !== 0) {\n                payout = {\n                    payout: {}\n                };\n                payout[\"payout\"][getAccountId()] = (100 * royalty).toString();\n            }\n            let collectionId = curCollection === 'None' ? null : curCollection;\n            mintToCommonCollection(token_metadata, payout, collectionId);\n            setIsLoading(false);\n        }).catch((e) => {\n                setAlertText(`Error: Can't upload file to ipfs, try again or contact to our support`);\n                setIsLoading(false);\n                console.log(e);\n            }\n        )\n\n\n    };\n\n\n    return (\n        <>\n            {isLoading ? (\n                <MjolLoader size={50}/>\n            ) : (\n                <div className=\"bg-mjol-white\">\n                    <div className=\"bg-white\">\n                        <BlueShadowContainer>\n                            <div className=\"pb-10 px-4 space-y-8\">\n                                <DarkBlueTitle title=\"Create NFT\"/>\n                            </div>\n                        </BlueShadowContainer>\n                    </div>\n                    <div className=\"max-w-7xl py-10 mx-auto px-4 sm:px-6\">\n                        <form onSubmit={submitForm}>\n                            <div className=\"shadow rounded-md overflow-hidden\">\n                                <div className=\"px-4 py-5 bg-white space-y-6 p-6\">\n                                    <SingleLineContainer name={'Title'}\n                                                         required={true}\n                                                         text={'My NFT'}\n                                                         type={'text'}\n                                                         minLength={MIN_TITLE_LEN}\n                                                         maxLength={MAX_TITLE_LEN}\n                                                         id={'mint-title'}\n                                                         setState={setTitle}\n                                    />\n                                    <MultiLineContainer name={'Description'}\n                                                        text={'Brief description for your NFT'}\n                                                        maxLength={MAX_DESC_LEN}\n                                                        rows={3}\n                                                        id={'mint-desc'}\n                                                        setState={setDescription}\n                                    />\n                                    <SingleLineContainer name={'Royalty'}\n                                                         text={'Royalties on secondary sales(%), number from 0-50'}\n                                                         type={'number'}\n                                                         min={MIN_ROYALTY}\n                                                         max={MAX_ROYALTY}\n                                                         id={'mint-royalty'}\n                                                         setState={setRoyalty}\n                                    />\n                                    <OptionInputContainer name={'Collection of NFT'}\n                                                          myCollections={myCollections}\n                                                          id={'mint-collection'}\n                                                          curCollection={curCollection}\n                                                          setCurCollection={setCurCollection}\n                                    />\n                                    {curCollection !== 'None' && Object.keys(collectionTraits[curCollection]).length > 0 ? (\n                                        <div>\n                                            <label className=\"block text-sm font-bold text-gray-700\">\n                                                Traits:\n                                            </label>\n                                            <div className=\"py-2 grid grid-cols-4 gap-4\">\n                                                {Object.keys(collectionTraits[curCollection]).map(traitKey => (\n                                                    <div className={\"sm:col-span-1 col-span-4\"}>\n                                                        <p className={\"px-2 text-sm font-bold text-gray-700\"}>{traitKey}</p>\n                                                        <OptionInput\n                                                            name={traitKey}\n                                                            values={[\"None\"].concat(collectionTraits[curCollection][traitKey])}\n                                                            id={traitKey}\n                                                            choosenValues={nftTraits}\n                                                            setCurValues={setNftTraits}\n                                                        />\n                                                    </div>\n                                                ))}\n                                            </div>\n                                        </div>\n\n                                    ) : (\n                                        <></>\n                                    )}\n                                    <UploadFileInput text=\"Upload artwork file\"\n                                                     required={true}\n                                                     type=\"image\"\n                                                     file_text=\"PNG, JPG, GIF up to 10MB\"\n                                                     accept=\"image/gif, image/jpeg, image/png\"\n                                                     state={file}\n                                                     setState={setFile}\n                                                     id=\"upload-file\"\n                                    />\n                                    {alertText !== \"\" ? (\n                                        <LineAlert state={alertText} setState={setAlertText}/>\n                                    ) : (\n                                        <></>\n                                    )}\n                                </div>\n                                <div className=\"px-4 py-3 bg-gray-50 text-left sm:px-6\">\n                                    <button\n                                        type=\"submit\"\n                                        className=\"inline-flex justify-center py-2 px-6 font-bold text-lg hover:text-gray-900 font-large rounded-md text-white bg-gradient-to-br from-mjol-blue-base to-green-200 hover:from-green-200 hover:to-mjol-blue-base\"\n                                    >\n                                        Mint\n                                    </button>\n                                </div>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            )\n            }\n        </>\n    )\n};\n\nexport default CreateNftPage;\n","import React from 'react';\n\nconst ExploreCollectionsPage = () => {\n    return (\n        <div>\n            Explore collections\n        </div>\n    );\n};\n\nexport default ExploreCollectionsPage;","import {createSlice, PayloadAction} from \"@reduxjs/toolkit\";\nimport {Nft} from \"../../../business-logic/models/nft\";\nimport {act} from \"react-dom/test-utils\";\n\nexport interface PreviewNftState {\n    fetching: boolean,\n    success?: boolean,\n    nft?: Nft,\n    payouts: Record<string, number>\n}\n\n\nconst initialState: PreviewNftState = {\n    payouts: {},\n    fetching: true,\n}\n\nexport const previewNftSlice = createSlice({\n    name: \"preview-nft\",\n    initialState,\n    reducers: {\n        success: (state, action: PayloadAction<Nft>) => {\n            state.nft = action.payload\n        },\n        failure: (state) => {\n            state.nft = undefined\n        },\n        toggleFetching: (state, action: PayloadAction<boolean>) => {\n            state.fetching = action.payload\n        },\n        setPayouts: (state, action: PayloadAction<Record<string, number>>) => {\n            state.payouts = action.payload\n        },\n        reset: () => initialState\n    }\n})\n\nexport const previewNftReducer = previewNftSlice.reducer","import {ContractId, NumberAmount, Optional, StringAmount, TokenId, TokenUID} from \"../../models/types\";\nimport {utils} from \"near-api-js\";\nimport {TokenPrices} from \"./types/response/market\";\n\nexport const formatOptionalPrice = (price: Optional<NumberAmount>): Optional<StringAmount> => {\n    return price === null\n        ? null\n        : formatPrice(price)\n}\n\nexport const getPrice = (uid: TokenUID, tokenPrices: TokenPrices): Optional<StringAmount> => {\n    const price = tokenPrices[uid]\n    return price === undefined\n        ? null\n        : price\n}\n\nexport const formatPrice = (price: NumberAmount): string => {\n    const stringPrice = price.toLocaleString('fullwide', {useGrouping: false})\n    return utils.format.formatNearAmount(stringPrice)\n}\n\n/**\n * Builds UID for token as `contract:token`\n */\nexport const buildUID = (contractId: ContractId, tokenId: TokenId): TokenUID => {\n    return `${contractId}:${tokenId}`\n}","import {JsonType} from './JsonType';\n\nexport type StandardInterfaceId =\n    | 'nep171'\n    | 'nep177'\n    | 'nep178'\n    | 'nep181'\n    | 'nep199'\n\n\n/**\n * Well-known smart contract interface specification\n */\nexport interface StandardInterface {\n    /** Unique interface ID */\n    id: StandardInterfaceId;\n    /** Human-readable interface name */\n    name: string;\n    /** Methods provided by interface */\n    methods: StandardInterfaceMethod[];\n}\n\nexport interface StandardInterfaceArgument {\n    name: string;\n    /**\n     * An argument can support one or multiple types\n     * (e.g. Rust's `Option<String>` becomes `['string', 'null']`)\n     */\n    type: JsonType | JsonType[];\n}\n\nexport interface StandardInterfaceMethod {\n    name: string;\n    args: StandardInterfaceArgument[];\n}\n\n/**\n * Mapping interface ID to interface specification\n */\nexport const interfaces: Readonly<Record<StandardInterfaceId, StandardInterface>> = Object.freeze({\n    nep171: {\n        id: \"nep171\",\n        name: 'NFT Core (NEP-171)',\n        methods: [\n            {\n                name: 'nft_transfer',\n                args: [\n                    {name: 'receiver_id', type: 'string'},\n                    {name: 'token_id', type: 'string'},\n                    {name: 'approval_id', type: ['number', 'null']},\n                    {name: 'memo', type: ['string', 'null']},\n                ],\n            },\n            {\n                name: 'nft_transfer_call',\n                args: [\n                    {name: 'receiver_id', type: 'string'},\n                    {name: 'token_id', type: 'string'},\n                    {name: 'approval_id', type: ['number', 'null']},\n                    {name: 'memo', type: ['string', 'null']},\n                    {name: 'msg', type: 'string'},\n                ],\n            },\n            {\n                name: 'nft_token',\n                args: [{name: 'token_id', type: 'string'}],\n            },\n        ],\n    },\n    nep177: {\n        id: \"nep177\",\n        name: 'NFT Metadata (NEP-177)',\n        methods: [\n            {\n                name: 'nft_metadata',\n                args: [],\n            },\n        ],\n    },\n    nep178: {\n        id: \"nep178\",\n        name: 'NFT Approval Management (NEP-178)',\n        methods: [\n            {\n                name: 'nft_approve',\n                args: [\n                    {name: 'token_id', type: 'string'},\n                    {name: 'account_id', type: 'string'},\n                    {name: 'msg', type: ['string', 'null']},\n                ],\n            },\n            {\n                name: 'nft_revoke',\n                args: [\n                    {name: 'token_id', type: 'string'},\n                    {name: 'account_id', type: 'string'},\n                ],\n            },\n            {\n                name: 'nft_revoke_all',\n                args: [{name: 'token_id', type: 'string'}],\n            },\n            {\n                name: 'nft_is_approved',\n                args: [\n                    {name: 'token_id', type: 'string'},\n                    {name: 'approved_account_id', type: 'string'},\n                    {name: 'approval_id', type: ['number', 'null']},\n                ],\n            },\n        ],\n    },\n    nep181: {\n        id: \"nep181\",\n        name: 'Non-Fungible Token Enumeration (NEP-181)',\n        methods: [\n            {\n                name: 'nft_total_supply',\n                args: [],\n            },\n            {\n                name: 'nft_tokens',\n                args: [\n                    {name: 'from_index', type: ['string', 'null']},\n                    {name: 'limit', type: ['number', 'null']},\n                ],\n            },\n            {\n                name: 'nft_supply_for_owner',\n                args: [{name: 'account_id', type: 'string'}],\n            },\n            {\n                name: 'nft_tokens_for_owner',\n                args: [\n                    {name: 'account_id', type: 'string'},\n                    {name: 'from_index', type: ['string', 'null']},\n                    {name: 'limit', type: ['number', 'null']},\n                ],\n            },\n        ],\n    },\n    nep199: {\n        id: \"nep199\",\n        name: 'Standard for a Multiple-Recipient-Payout mechanic on NFT Contracts (NEP-199)',\n        methods: [\n            {\n                name: 'nft_payout',\n                args: [\n                    {name: 'token_id', type: 'string'},\n                    {name: 'balance', type: 'U128'},\n                    {name: 'max_len_payout', type: 'u32'},\n                ],\n            },\n            {\n                name: 'nft_transfer_payout',\n                args: [\n                    {name: 'receiver_id', type: 'AccountId'},\n                    {name: 'token_id', type: 'string'},\n                    {name: 'approval_id', type: 'u64'},\n                    {name: 'balance', type: 'U128'},\n                    {name: 'max_len_payout', type: 'u32'},\n                ],\n            },\n        ],\n    },\n});\n","export interface TimeoutRequestInit extends RequestInit {\n    timeout: number\n}\n\nexport async function fetchWithTimeout(resource: RequestInfo, options: TimeoutRequestInit) {\n    const {timeout} = options\n    const controller = new AbortController();\n    const id = setTimeout(() => controller.abort(), timeout);\n    const response = await fetch(resource, {\n        ...options,\n        signal: controller.signal\n    });\n    clearTimeout(id);\n    return response;\n}","import {AccountId, ContractId} from \"../../../models/types\";\nimport {QueryResponseKind} from \"near-api-js/lib/providers/provider\";\nimport {JsonRpcProvider} from \"near-api-js/lib/providers\";\nimport {contractAccordance} from \"./parser/methods\";\nimport {parseContract} from \"./parser/lib\";\nimport {fetchWithTimeout} from \"../core\";\n\n\ninterface ViewCode extends QueryResponseKind {\n    code_base64: string\n}\n\n\nexport const contractAPI = {\n    /**\n     * Fetches all NFT stores (contracts) for given users.\n     *\n     * @param accountId NEAR valid account\n     */\n    fetchUserTokenContracts: (accountId: AccountId): Promise<ContractId[]> =>\n        fetchWithTimeout(\n            `https://helper.mainnet.near.org/account/${accountId}/likelyNFts`,\n            {timeout: 8000}\n        ).then(response => response.json()\n        ).catch(() => []),\n\n    /**\n     * Extracts exported functions from NEAR smart contract\n     *\n     * @param contractId NEAR contract\n     */\n    viewMethods: (contractId: ContractId) =>\n        new JsonRpcProvider('https://rpc.mainnet.near.org/')\n            .query<ViewCode>({\n                account_id: contractId,\n                finality: 'final',\n                request_type: 'view_code'\n            })\n            .then(response => contractAccordance(parseContract(response.code_base64)))\n}","export enum Marketplace {\n    MJOL = 'mjol.near',\n    PARAS = 'x.paras.near',\n    MINTBASE = 'mintbase.near',\n    MINTBASE1 = 'mintbase1.near'\n}","import {NftAPI} from \"../../get-utils\";\nimport {viewFunction} from \"../rpc\";\nimport {Nft} from \"../../../models/nft\";\nimport {buildUID, getPrice} from \"../utils\";\nimport {Marketplace} from \"../contracts\";\nimport {TokenPrices} from \"../types/response/market\";\n\nconst isIPFS = require('is-ipfs')\n\nfunction getRealUrl(url: string, urlHash?: string, contractId?: string) {\n    let storageLink = 'https://ipfs.fleek.co/ipfs/';\n\n    if (contractId && contractId.endsWith('mintbase1.near')) {\n        storageLink = 'https://arweave.net/';\n    }\n\n    if (url) {\n        if (url.startsWith(\"http\")) {\n            return url;\n        } else if (isIPFS.cid(url)) {\n            return storageLink + url;\n        }\n    }\n    if (urlHash && isIPFS.cid(urlHash)) {\n        return storageLink + urlHash;\n    }\n    return null\n}\n\nfunction getNftMintedSiteInfo(nft: any, contractId: string) {\n    if (contractId === Marketplace.PARAS) {\n        const holder = nft.token_id.split(':')[0];\n        return {\n            name: 'Paras',\n            nftLink: `https://paras.id/token/x.paras.near::${holder}/${nft.token_id}`\n        }\n    }\n    if (contractId.endsWith('mintbase1.near')) {\n        return {\n            name: 'Mintbase',\n            nftLink: `https://www.mintbase.io/thing/${nft.metadata.reference}:${contractId}`\n        }\n    }\n    // if (contractId === 'pluminite.near') {\n    //     return new MintSite(\n    //         'Pluminite',\n    //         `https://pluminite.com/#/gem/${nft.token_id}`\n    //     )\n    // }\n\n    if (contractId.endsWith('mjol.near')) {\n        return {\n            name: 'MjolNear',\n            nftLink: `https://mjolnear.com/nft/${contractId}/${nft.token_id}`\n        }\n    }\n    return {\n        name: 'unsupported contract',\n        nftLink: ''\n    }\n}\n\n// Input example:\n//\n// token_id: '56178:34',\n// owner_id: 'turk.near',\n// metadata: {\n//   title: 'Scent of a Cloud #34',\n//   description: null,\n//   media: 'bafybeidotqecqjq37mab2o4tlqevevpn5kgjhgeblj7zlscxt6g2rxrkau',\n//   media_hash: null,\n//   copies: 111,\n//   issued_at: '1638389142491715689',\n//   expires_at: null,\n//   starts_at: null,\n//   updated_at: null,\n//   extra: null,\n//   reference: 'bafybeicq6hg6azxaymzay7bi3cu2ozjcd7fclmqy56dzg5o5nttuzaklka',\n//   reference_hash: null\n// },\n// approved_account_ids: {}\nfunction convertStandardNFT(contractId: string, nft: any, tokenPrices: TokenPrices): Promise<Nft> {\n    const metadata = nft.metadata;\n    const mediaUrl = getRealUrl(metadata.media, metadata.media_hash, contractId);\n    if (!mediaUrl) {\n        return Promise.reject(\"Standard NFT has no media URL\")\n    }\n    const uid = buildUID(contractId, nft.token_id)\n    return Promise.resolve({\n        contractId,\n        tokenId: nft.token_id || nft.id,\n        ownerId: nft.owner_id,\n        title: metadata.title,\n        description: metadata.description,\n        copies: metadata.copies,\n        mediaURL: mediaUrl,\n        referenceURL: getRealUrl(metadata.reference, metadata.reference_hash, contractId),\n        mintSite: getNftMintedSiteInfo(nft, contractId),\n        price: getPrice(uid, tokenPrices)\n    })\n}\n\n// nfts example\n// id: 68,\n// owner_id: { Account: 'turk.near' },\n// approvals: {},\n// metadata: {\n//   title: null,\n//   description: null,\n//   media: null,\n//   media_hash: null,\n//   copies: 5,\n//   issued_at: null,\n//   expires_at: null,\n//   starts_at: null,\n//   updated_at: null,\n//   extra: null,\n//   reference: 'MIILJWlP432tEAhhhXTDwGeEMM35XxOmDKy2YFRy96Y',\n//   reference_hash: null\n// },\n// royalty: { split_between: [Object], percentage: [Object] },\n// split_owners: null,\n// minter: 'kiora.near',\n// loan: null,\n// composeable_stats: { local_depth: 0, cross_contract_children: 0 },\n// origin_key: null\n// -----------------------------------------\n// JSON example:\n// category: 'membership',\n// description: 'This token represents Proof of Attendance (PoA) for a single NEAR account at the MetaBUIDL Open House. The bearer of this token was one of the first 100 accounts that registered for the event.',\n// copies: 10,\n// media_hash: 'Zty1W1Xe8pp3sO6nBjJNIGgOfFV2E_xm25Hfm3rb1Dk',\n// lock: null,\n// visibility: 'safe',\n// youtube_url: null,\n// animation_url: null,\n// animation_hash: null,\n// document: null,\n// document_hash: null,\n// royalty: null,\n// royalty_perc: 0.1,\n// split_revenue: null,\n// tags: [ 'nearedu', 'metabuidl', 'hackathon', 'metaverse' ],\n// media: 'https://arweave.net/Zty1W1Xe8pp3sO6nBjJNIGgOfFV2E_xm25Hfm3rb1Dk',\n// extra: [\n// {\n//   trait_type: 'Start Date',\n//   value: 1630521000,\n//   display_type: 'date'\n// },\n// { trait_type: 'End Date', value: 1630521000, display_type: 'date' },\n// { trait_type: 'website', value: 'https://near.university/' }\n// ],\n// title: 'NEAR University Metaverse',\n// store: 'nuniversity.mintbase1.near',\n// external_url: 'https://near.university/',\n// type: 'NEP171'\nasync function getMintbaseNFT(contractId: string, nft: any, tokenPrices: TokenPrices): Promise<Nft> {\n    const metadata = nft.metadata;\n    const url = await viewFunction({\n            contractId,\n            methodName: 'nft_token_uri',\n            args: {\n                token_id: nft.id.toString()\n            }\n        }\n    )\n    const jsonNFT = await NftAPI.getJsonByURL(url)\n    const mediaUrl = getRealUrl(jsonNFT.media, jsonNFT.media_hash, contractId)\n    if (!mediaUrl) {\n        return Promise.reject(\"Mintbase NFT has no media URL\")\n    }\n    const uid = buildUID(contractId, nft.id.toString())\n    return Promise.resolve({\n        contractId,\n        tokenId: nft.id.toString(),\n        ownerId: nft.owner_id.Account,\n        title: jsonNFT.title,\n        description: jsonNFT.description,\n        copies: metadata.copies,\n        mediaURL: mediaUrl,\n        referenceURL: getRealUrl(nft.metadata.reference, nft.metadata.reference_hash, contractId),\n        mintSite: getNftMintedSiteInfo(nft, contractId),\n        price: getPrice(uid, tokenPrices)\n    })\n}\n\nexport async function getConvertedNFT(contractId: string, jsonNft: any, tokenPrices: TokenPrices) {\n    if (contractId.endsWith('mintbase1.near')) {\n        return getMintbaseNFT(contractId, jsonNft, tokenPrices)\n    }\n    return convertStandardNFT(contractId, jsonNft, tokenPrices)\n}","import {viewFunction} from \"../rpc\";\nimport {AccountId, ContractId, StringAmount, TokenId} from \"../../../models/types\";\n\nexport interface Payouts {\n    payout: Record<AccountId, StringAmount>\n}\n\nexport const nftAPI = {\n    /**\n     * Fetches information about NFT.\n     * Currently, supports any type of responses.\n     *\n     * @param contractId NEAR contract where NFT is stored.\n     * @param tokenId NFT token\n     */\n    fetchNft: (contractId: ContractId, tokenId: TokenId) =>\n        viewFunction({\n            contractId,\n            methodName: 'nft_token',\n            args: {\n                token_id: tokenId\n            }\n        }),\n\n\n    /**\n     * Fetches user tokens.\n     * @see [Non-Fungible Token Enumeration (NEP-181)]{@link https://nomicon.io/Standards/NonFungibleToken/Enumeration.html}\n     *\n     * @param contractId NEAR contract where NFT is stored.\n     * @param accountId a valid NEAR account\n     * @param limit the maximum number of tokens to return\n     * @param from a string representing an unsigned 128-bit integer,\n     * representing the starting index of tokens to return\n     */\n    fetchUserTokens: (\n        contractId: ContractId,\n        accountId: AccountId,\n        limit: number = 20,\n        from: number = 0\n    ): Promise<any[]> =>\n        viewFunction({\n            contractId,\n            methodName: 'nft_tokens_for_owner',\n            args: {\n                account_id: accountId,\n                from_index: from.toString(),\n                limit: limit\n            }\n        }),\n\n\n    /**\n     * Fetches standard NFT payouts.\n     * @see [Standard for a Multiple-Recipient-Payout mechanic on NFT Contracts (NEP-199)]{@link https://nomicon.io/Standards/NonFungibleToken/Payout.html}\n     *\n     * @param contractId NEAR contract where NFT is stored.\n     * @param tokenId NFT token\n     */\n    fetchTokenPayouts: (contractId: ContractId, tokenId: TokenId) =>\n        viewFunction<Payouts>({\n            contractId,\n            methodName: 'nft_payout',\n            args: {\n                token_id: tokenId,\n                balance: '100000000',\n                max_len_payout: 10\n            }\n        }),\n\n    /**\n     * Fetches MjolNear NFT royalties.\n     *\n     * @param contractId NEAR contract where NFT is stored.\n     * @param tokenId NFT token\n     */\n    fetchTokenRoyalties: (contractId: ContractId, tokenId: TokenId) =>\n        viewFunction({\n            contractId,\n            methodName: 'nft_royalties',\n            args: {\n                token_id: tokenId,\n                max_len_payout: 10\n            }\n        }),\n\n    fetchMintbaseNft: (url: string) => {\n\n    }\n}","import {mjolViewFunction} from \"../rpc\";\nimport {AccountId, ContractId, NumberAmount, Optional, TokenId} from \"../../../models/types\";\nimport {buildUID, formatOptionalPrice, formatPrice} from \"../utils\";\nimport {MarketTokens, MarketToken, TokenPrices} from \"../types/response/market\";\n\n\nexport const marketAPI = {\n    /**\n     * Fetches NFTs listed on market.<br>\n     * If an error occurred returns empty array.\n     *\n     * @param from  start index for fetching\n     * @param limit maximum amount of fetched tokens\n     */\n    fetchTokens: (from: number, limit: number): Promise<MarketTokens> =>\n        mjolViewFunction<MarketTokens>({\n                methodName: 'get_nfts',\n                args: {\n                    from,\n                    limit\n                }\n            }\n        ).catch(() => ({\n            tokens: [],\n            has_next_batch: false,\n            total_count: 0\n        })),\n\n    /**\n     * Fetches market NFTs prices for given user\n     *\n     * @param accountId NEAR account\n     */\n    fetchUserTokenPrices: (accountId: AccountId): Promise<TokenPrices> => {\n        const prices: TokenPrices = {}\n        return mjolViewFunction<MarketToken[]>({\n                methodName: 'get_user_nfts',\n                args: {\n                    owner_id: accountId\n                }\n            }\n        ).then(tokens => {\n                tokens.forEach(nft => {\n                        const uid = buildUID(nft.nft_contract_id, nft.token_id)\n                        prices[uid] = formatPrice(nft.price)\n                    }\n                )\n                return prices\n            }\n        ).catch(() => prices)\n    },\n\n    /**\n     * Retrieves NFT price if NFT listed on market, otherwise returns null\n     */\n    fetchTokenPrice: (contractId: ContractId, tokenId: TokenId): Promise<TokenPrices> => {\n        const tokenUID = buildUID(contractId, tokenId)\n        return mjolViewFunction<Optional<NumberAmount>>({\n                methodName: 'get_nft_price',\n                args: {\n                    token_uid: tokenUID\n                }\n            }\n        ).then(price => ({\n            [tokenUID]: formatOptionalPrice(price)\n        }))\n    }\n}","export interface BatchResult<R> {\n    values: R[],\n    errors: any[]\n}\n\n/**\n * Batch async requests\n *\n * @param batch list of elements to process\n * @param request any function that accepts value and returns {@link Promise}\n */\nexport async function batchRequest<T, R = any>(\n    batch: T[],\n    request: ((data: T) => Promise<R>)\n): Promise<BatchResult<R>> {\n    let values: R[] = []\n    let errors: any[] = []\n\n    const results = await Promise.all(\n        batch.map(data =>\n            request(data)\n                .then(value => ({value}))\n                .catch(error => ({error}))\n        )\n    )\n\n    results.forEach(result => 'error' in result\n        ? errors.push(result.error)\n        : values.push(result.value)\n    )\n\n    return {values, errors}\n}","import {getConvertedNFT} from \"../standardization\";\nimport {nftAPI} from \"./api\";\nimport {marketAPI} from \"../market\";\nimport {AccountId, ContractId, TokenId} from \"../../../models/types\";\nimport {contractAPI} from \"../contracts\";\nimport {batchRequest} from \"../batch-request\";\n\nexport const getNFTsByContractAndTokenId = async (contractId: ContractId, tokenId: TokenId) => {\n    const jsonNft = await nftAPI.fetchNft(contractId, tokenId)\n    const tokenPrice = await marketAPI.fetchTokenPrice(contractId, tokenId);\n    return getConvertedNFT(contractId, jsonNft, tokenPrice)\n}\n\nexport async function getNftPayouts(contractId: string, tokenId: string) {\n    const TREASURY_PERCENT = 2;\n\n    if (contractId === \"mjol.near\"){\n        return nftAPI.fetchTokenRoyalties(contractId, tokenId).then(rawRoyalties => {\n            let royalties: Record<string, number> = {'treasury': TREASURY_PERCENT};\n            for (let payoutKey in rawRoyalties) {\n                royalties[payoutKey] = parseInt(rawRoyalties[payoutKey]) / 100\n            }\n            delete royalties['undefined'] //delete bad minted Nfts\n            return royalties\n        })\n    }\n\n    return nftAPI.fetchTokenPayouts(contractId, tokenId)\n        .then(payouts => {\n            let royalties: Record<string, number> = {'treasury': TREASURY_PERCENT};\n            let highestPayout = null;\n            for (let payoutKey in payouts['payout']) {\n                const payoutVal = parseInt(payouts['payout'][payoutKey]) / 1000000;\n                if (!highestPayout || highestPayout[1] < payoutVal) {\n                    highestPayout = [payoutKey, payoutVal]\n                }\n                royalties[payoutKey] = payoutVal\n            }\n            if (highestPayout) {\n                delete royalties[highestPayout[0]]\n            }\n            delete royalties['undefined'] //delete bad minted Nfts\n\n            return royalties\n        })\n}\n\nfunction addExtraContracts(curContracts: string[]) {\n    const extraContracts = ['mjol.near'];\n    for (let contract of extraContracts) {\n        if (!curContracts.includes(contract)) {\n            curContracts.push('mjol.near');\n        }\n    }\n    return curContracts\n}\n\nexport async function getUserNfts(accountId: AccountId) {\n\n    let nftContracts = await contractAPI.fetchUserTokenContracts(accountId)\n    nftContracts = addExtraContracts(nftContracts)\n    const tokenPrices = await marketAPI.fetchUserTokenPrices(accountId);\n\n    const fetchNfts = (contractId: ContractId) =>\n        nftAPI.fetchUserTokens(contractId, accountId)\n            .then(nfts => batchRequest(nfts,\n                token => getConvertedNFT(contractId, token, tokenPrices)).then(result => result.values)\n            )\n\n    return batchRequest(nftContracts, fetchNfts)\n        .then(result => result.values.flat())\n}\n\n\n","import React from \"react\";\nimport {wallet} from \"../business-logic/near/enviroment/near\";\n\nexport interface SignedInProps {\n    accountId: string,\n    signedIn: boolean\n}\n\nfunction withAuthData<T>(Child: React.ComponentType<T & SignedInProps>):React.FC<T> {\n    return (props) =>\n        <Child {...props}\n               accountId={wallet.getAccountId()}\n               signedIn={wallet.isSignedIn()}\n        />\n}\n\nexport default withAuthData;","import React from 'react';\n\ninterface PropTypes {\n    link: string\n}\n\nconst PreviewNftImage = React.memo<PropTypes>(({link}) => {\n    return (\n        <div className=\"justify-self-center md:justify-self-end w-full max-w-2xl\">\n            <img src={link}\n                 alt=\"media not supported\"\n                 className=\"w-full max-h-xl object-contain\"\n            />\n        </div>\n    );\n});\n\nexport default PreviewNftImage;","import React from 'react';\n\nconst Hr = React.memo(({color = \"bg-black\"}) => {\n    return <div className={color + \" h-px\"}/>\n});\n\nexport default Hr;","import {ChevronUpIcon} from '@heroicons/react/solid'\nimport React, {useState} from \"react\";\nimport classNames from \"../../../utils/css-utils\";\nimport Hr from \"../borders/Hr\";\n\nexport default function DropDownMjolBlueButton({buttonContent, children, initialVisible = false}) {\n\n    const [visible, setVisible] = useState(initialVisible)\n\n    return (\n        <div>\n            <button onClick={() => setVisible(!visible)}\n                    className={\n                        classNames(visible\n                                ? \"rounded-t-lg\"\n                                : \"rounded-lg\",\n                            \"group flex justify-between p-5 w-full text-md font-semibold text-left bg-blue-100\"\n                        )\n                    }\n            >\n                {buttonContent}\n                <ChevronUpIcon\n                    className={\n                        classNames(visible\n                                ? \"\"\n                                : \"rotate-180\",\n                            \"transform duration-200 w-6 h-6 text-gray-500 group-hover:text-black\"\n                        )\n                    }\n                />\n            </button>\n            {visible &&\n                <>\n                    <div className=\"px-2 bg-blue-100\">\n                        <Hr color=\"bg-gray-600\"/>\n                    </div>\n                    {children}\n                </>\n            }\n        </div>\n    )\n}","import React from 'react';\n\nconst IconText = ({icon, text}) => {\n    return (\n        <div className=\"gap-2 flex flex-row items-center\">\n            {icon}\n            {text}\n        </div>\n    );\n};\n\nexport default IconText;","export enum ItemMarketStatus {\n    // Item is owned by current user and listed on transaction.\n    LISTED = \"LISTED\",\n\n    // Item is owned by current user and not listed on transaction.\n    CAN_SELL = \"CAN_SELL\",\n\n    // Item is owned by another user and listed on transaction\n    CAN_BUY = \"CAN_BUY\",\n\n    // Item is owned by another user and not listed on transaction.\n    FREE = \"FREE\",\n\n    // Item contract is not supported\n    NOT_SUPPORTED = \"NOT_SUPPORTED\",\n}\n\n\nexport interface TransactionStatus {\n    pending: boolean | undefined,\n    success: boolean | undefined\n}","export const shortenString = (string, chunkSize = 5, sizeToSplit = 15) => {\n    if (string.length > sizeToSplit) {\n        return string.slice(0, chunkSize) + '..' + string.slice(-chunkSize)\n    }\n    return string\n}\n\nexport const getPercentage = (\n    value,\n    percentage,\n    minValue = 0,\n    maxValue = MAX_ITEM_PRICE,\n    defaultValue = 0\n) => {\n    if (value < 0 || value > maxValue) {\n        return defaultValue\n    }\n    return (percentage / 100) * value\n}\n\nexport const getStringPercentage = (\n    value,\n    percentage,\n    minValue = 0,\n    maxValue = MAX_ITEM_PRICE,\n    defaultValue = 0,\n    maximumFractionDigits = 4\n) => {\n    return getPercentage(value, percentage, minValue, maxValue, defaultValue)\n        .toLocaleString(\n            'en-US',\n            {maximumFractionDigits}\n        )\n}\n\nexport const MAX_ITEM_PRICE = 10_000_000","import React from 'react';\nimport {shortenString} from \"../../../utils/string\";\nimport ReactTooltip from 'react-tooltip';\n\nconst PreviewAttribute = React.memo(({name, value}) => {\n    let shrinkValue = shortenString(value)\n    return (\n        <div className=\"flex flex-row justify-between\">\n            <div className=\"font-semibold\">{name}</div>\n            <p className=\"cursor-pointer\"\n               data-tip={value}\n               onClick={() => navigator.clipboard.writeText(value)}\n            >\n                {shrinkValue}\n            </p>\n            <ReactTooltip className='text-sm' type='dark' place='bottom' delayShow={200}/>\n        </div>\n    );\n});\n\nexport default PreviewAttribute;","import React from 'react';\nimport PreviewAttribute from \"./PreviewAttribute\";\n\nconst PreviewAttributes = ({attributes}) => {\n    return (\n        <div>\n            {attributes.length === 0\n                ? <div>Not found</div>\n                : attributes.map(attribute =>\n                    <PreviewAttribute key={attribute.name}\n                                      name={attribute.name}\n                                      value={attribute.value}\n                    />\n                )}\n        </div>\n    );\n};\n\nexport default PreviewAttributes;","import React from 'react';\n\ninterface PropTypes {\n    title: string\n}\n\nconst NftPreviewTitle = React.memo<PropTypes>(({title}) => {\n    return (\n        <div className=\"font-extrabold text-mjol-purple-dark text-lg md:text-xl\">\n            {title}\n        </div>\n    );\n});\n\nexport default NftPreviewTitle;","import React from 'react';\n\nconst ShareIcon = () => {\n    return (\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"30\" viewBox=\"0 0 24 24\" fill=\"none\"\n             stroke=\"currentColor\"\n             strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"tw-mr-1\" color=\"black\">\n            <circle cx=\"18\" cy=\"5\" r=\"3\"/>\n            <circle cx=\"6\" cy=\"12\" r=\"3\"/>\n            <circle cx=\"18\" cy=\"19\" r=\"3\"/>\n            <line x1=\"8.59\" y1=\"13.51\" x2=\"15.42\" y2=\"17.49\"/>\n            <line x1=\"15.41\" y1=\"6.51\" x2=\"8.59\" y2=\"10.49\"/>\n        </svg>\n    );\n};\n\nexport default ShareIcon;\n","import React from 'react';\nimport {Link} from \"react-router-dom\";\nimport ShareIcon from \"../../Icons/ShareIcon\";\n\ninterface PropTypes {\n    name: string,\n    link: string\n}\n\nconst NftPreviewCollectionLink = React.memo<PropTypes>(({name, link}) => {\n    return (\n        <div className=\"flex flex-row justify-between\">\n            <div className=\"text-md md:text-lg font-bold text-mjol-purple-dark-t hover:bg-opacity-80 text-center\">\n                <Link to={link}>{name}</Link>\n            </div>\n            <ShareIcon/>\n        </div>\n    );\n});\n\nexport default NftPreviewCollectionLink;","import DropDownMjolBlueButton from \"../../Common/buttons/DropDownMjolBlueButton\";\nimport IconText from \"../../Icons/IconText\";\nimport {BsList} from 'react-icons/bs';\nimport {MdAccountBalanceWallet as MdAcc} from 'react-icons/md'\nimport {GrMoney} from 'react-icons/gr'\nimport {GiBuyCard} from 'react-icons/gi'\nimport {BiDna} from 'react-icons/bi'\nimport PreviewAttributes from \"../Attributes/PreviewAttributes\";\nimport NftPreviewTitle from \"./NftPreviewTitle\";\nimport NftPreviewCollectionLink from \"./NftPreviewCollectionLink\";\nimport {Nft} from \"../../../business-logic/models/nft\";\n\n\nconst NftPreviewInfo = ({nft, payouts, statusElement}) => {\n\n    const ownerAttributes = [\n        {name: \"Owner ID\", value: nft.ownerId || \"Not found\"},\n        {name: \"Token ID\", value: nft.tokenId || \"Not found\"},\n        {name: \"Contract\", value: nft.contractId || \"Not found\"}\n    ]\n\n    const formattedPayouts = Object.entries(payouts).map(kv => {\n        const [name, value] = kv\n        return {name, value: `${value}%`}\n    })\n\n    const tabs = [\n        {name: \"Description\", element: nft.description || \"Not found\", icon: <BsList/>},\n        {name: \"Attributes\", element: <PreviewAttributes attributes={ownerAttributes}/>, icon: <MdAcc/>},\n        {name: \"Royalties\", element: <PreviewAttributes attributes={formattedPayouts}/>, icon: <GrMoney/>},\n        {name: \"History\", element: \"Not found\", icon: <GiBuyCard/>},\n        {name: \"Traits\", element: \"Not found\", icon: <BiDna/>}\n    ]\n\n\n    return (\n        <div className=\"space-y-5 md:max-w-xl\">\n            <div>\n                <NftPreviewTitle title={nft.title}/>\n                <NftPreviewCollectionLink name=\"MOCK\" link=\"\"/>\n            </div>\n            {statusElement}\n            <div className=\"space-y-3\">\n                {tabs.map(tab => (\n                    <DropDownMjolBlueButton key={tab.name}\n                                            buttonContent={\n                                                <IconText icon={tab.icon}\n                                                          text={tab.name}\n                                                />\n                                            }>\n                        <div className=\"rounded-b-lg w-full bg-blue-100 text-black font-medium text-sm px-5 py-2\">\n                            {tab.element}\n                        </div>\n                    </DropDownMjolBlueButton>\n                ))}\n            </div>\n        </div>\n    );\n};\n\nexport default NftPreviewInfo;","import {ItemMarketStatus} from \"../state/transaction/state\";\nimport {Nft} from \"../business-logic/models/nft\";\n\nexport const useNftMarketStatus = (accountId: string, nft: Nft): ItemMarketStatus => {\n\n    const isListed = nft.price !== null\n\n    return (accountId === nft.ownerId) ?\n        isListed\n            ? ItemMarketStatus.LISTED\n            : ItemMarketStatus.CAN_SELL\n        : isListed\n            ? ItemMarketStatus.CAN_BUY\n            : ItemMarketStatus.FREE\n}","import React from 'react';\n\nconst DarkBlueGradientButton = ({title, ...props}) => {\n    return (\n        <button {...props}\n                className=\"w-full text-white font-extrabold\n                           bg-gradient-to-l from-blue-500 to-blue-800 rounded-lg px-10 py-2\n                           hover:from-blue-600\n                           hover:to-blue-800\n                           hover:shadow-mjol-gray-xs\n                           disabled:opacity-50\n                           disabled:cursor-not-allowed\"\n        >\n            {title}\n        </button>\n    )\n}\n\nexport default DarkBlueGradientButton;","import React from 'react';\nimport DarkBlueGradientButton from \"../../../Common/buttons/DarkBlueGradientButton\";\nimport {signIn} from \"../../../../business-logic/near/enviroment/near\";\n\nconst ConnectWalletButton = () => {\n    return <DarkBlueGradientButton title=\"Connect to NEAR\" onClick={signIn}/>\n};\n\nexport default ConnectWalletButton","import React from 'react';\n\nconst DarkBlueMjolText = ({text, classes = undefined}) => {\n    return (\n        <div className={\n            \"text-transparent bg-clip-text bg-gradient-to-bl from-blue-500 to-blue-800 \" +\n            (classes ? classes : \"text-center font-extrabold font-sm\")\n        }\n        >\n            {text}\n        </div>\n    );\n};\n\nexport default DarkBlueMjolText;","export default __webpack_public_path__ + \"static/media/near-protocol-near-logo.3c418991.svg\";","import React from 'react';\nimport logo from '../../../resources/near-protocol-near-logo.svg'\n\ninterface PropTypes {\n    size?: number\n}\n\nconst NearBlackLogo = React.memo<PropTypes>(({size = 15}) => {\n    return <img width={size} height={size} src={logo} alt=\"near\"/>\n});\n\nexport default NearBlackLogo;","import React from 'react';\nimport DarkBlueMjolText from \"../../Common/text/DarkBlueMjolText\";\nimport NearBlackLogo from \"../../Icons/near/NearBlackLogo\";\n\ninterface PriceProps {\n    price: string\n}\n\nconst PreviewNftPrice = React.memo<PriceProps>(({price}) => {\n    return (\n        <div className=\"flex items-center gap-2 text-xl\">\n            <DarkBlueMjolText text={price}/>\n            <NearBlackLogo/>\n        </div>\n    );\n});\n\nexport default PreviewNftPrice;","import React from 'react';\nimport PreviewNftPrice from \"../Blocks/PreviewNftPrice\";\n\ninterface PriceProps {\n    price: string\n}\n\nfunction withPriceContainer<T>(Child: React.ComponentType<T>) {\n    const wrapped: React.FC<T & PriceProps> = (props) => (\n        <div className=\"rounded-lg px-5 py-2 space-y-2 bg-blue-100\">\n            <PreviewNftPrice price={props.price}/>\n            <Child {...props}/>\n        </div>\n    );\n\n    return wrapped\n}\n\nexport default withPriceContainer;","import React from 'react';\nimport DarkBlueGradientButton from \"../../Common/buttons/DarkBlueGradientButton\";\nimport withPriceContainer from \"./withPriceContainer\";\n\nconst BuyNftContainer = (props) => {\n    return <DarkBlueGradientButton title=\"Buy NFT\" {...props}/>;\n};\n\nexport default withPriceContainer(BuyNftContainer);","import {TransactionStatus} from \"../state\";\nimport {createSlice} from \"@reduxjs/toolkit\";\n\nconst initialState: TransactionStatus = {\n    pending: undefined,\n    success: undefined\n}\n\nexport const marketNftTransactionSlice = createSlice({\n    name: 'market-nft-transaction',\n    initialState,\n    reducers: {\n        commit: (state) => {\n            state.pending = true\n        },\n        success: (state) => {\n            state.success = true\n            state.pending = false\n        },\n        failure: (state) => {\n            state.success = false\n            state.pending = false\n        },\n        reset: () => initialState\n    }\n})\n\nexport const marketNftTransactionReducer = marketNftTransactionSlice.reducer","import {utils} from \"near-api-js\";\nimport {GAS, SM_DEPOSIT, YOCTO_NEAR} from \"../../constants\";\nimport {functionCall, mjolFunctionCall} from \"../rpc\";\nimport BN from \"bn.js\";\nimport {MJOL_MARKET_CONTRACT_ID} from \"../../enviroment/contract-names\";\nimport {ContractId, StringAmount, TokenId} from \"../../../models/types\";\nimport {Nft} from \"../../../models/nft\";\n\n\nexport function giveApprove(contractId: ContractId, tokenId: TokenId, stringPrice: StringAmount, nft: Nft) {\n    const price = utils.format.parseNearAmount(stringPrice.toString());\n\n    const json_nft = {\n        \"contract_id\": nft.contractId,\n        \"token_id\": nft.tokenId,\n        \"owner_id\": nft.ownerId,\n        \"title\": nft.title,\n        \"description\": nft.description,\n        \"copies\": nft.copies ? (nft.copies).toString() : \"1\",\n        \"media_url\": nft.mediaURL,\n        \"reference_url\": nft.referenceURL,\n        \"mint_site\": nft.mintSite ? {\n            \"name\": nft.mintSite.name,\n            \"nft_link\": nft.mintSite.nftLink\n        } : {\n            \"name\": \"\",\n            \"nft_link\": \"\"\n        },\n        \"price\":price\n    }\n\n    console.log(JSON.stringify({json_nft}));\n\n    return functionCall({\n        contractId,\n        methodName: 'nft_approve',\n        args: {\n            token_id: tokenId,\n            account_id: MJOL_MARKET_CONTRACT_ID,\n            msg: JSON.stringify({json_nft})\n        },\n        gas: GAS,\n        attachedDeposit: SM_DEPOSIT\n    })\n}\n\nexport function buyNftWithPayouts(contractId: ContractId, tokenId: TokenId, price: StringAmount) {\n    const nearAmount = utils.format.parseNearAmount(price) || \"0\";\n    return mjolFunctionCall({\n        methodName: 'buy_with_payouts',\n        args: {\n            nft_contract_id: contractId,\n            token_id: tokenId\n        },\n        gas: GAS,\n        attachedDeposit: new BN(nearAmount)\n    })\n}\n\nexport function unlistNFT(contractId: ContractId, tokenId: TokenId) {\n    return mjolFunctionCall({\n        methodName: 'remove_from_market',\n        args: {\n            nft_contract_id: contractId,\n            token_id: tokenId\n        },\n        gas: GAS,\n        attachedDeposit: YOCTO_NEAR\n    })\n}","import {AppDispatch} from \"../../store\";\nimport {marketNftTransactionSlice} from \"./slice\";\nimport {buyNftWithPayouts, giveApprove, unlistNFT} from \"../../../business-logic/near/api/market/transaction\";\nimport {Nft} from \"../../../business-logic/models/nft\";\n\nexport const sellNft = (contractId: string, tokenId: string, price: string, nft: Nft) =>\n    async (dispatch: AppDispatch) => {\n        dispatch(marketNftTransactionSlice.actions.commit())\n        giveApprove(contractId, tokenId, price, nft)\n            .then(() => dispatch(marketNftTransactionSlice.actions.success()))\n            .catch(() => dispatch(marketNftTransactionSlice.actions.failure()))\n    }\n\nexport const buyNft = (contractId: string, tokenId: string, price: string) =>\n    async (dispatch: AppDispatch) => {\n        dispatch(marketNftTransactionSlice.actions.commit())\n        buyNftWithPayouts(contractId, tokenId, price)\n            .then(() => dispatch(marketNftTransactionSlice.actions.success()))\n            .catch(() => dispatch(marketNftTransactionSlice.actions.failure()))\n    }\n\n\nexport const unlistNft = (contractId: string, tokenId: string) =>\n    async (dispatch: AppDispatch) => {\n        dispatch(marketNftTransactionSlice.actions.commit())\n        unlistNFT(contractId, tokenId)\n            .then(() => dispatch(marketNftTransactionSlice.actions.success()))\n            .catch(() => dispatch(marketNftTransactionSlice.actions.failure()))\n    }\n","import React, {useEffect, useRef} from 'react'\n\nconst Modal = ({\n    close = () => {\n    },\n    closeOnBgClick = true,\n    closeOnEscape = true,\n    children,\n    style = {},\n}) => {\n    const modalRef = useRef(null)\n\n    useEffect(() => {\n        const onKeydown = (event) => {\n            if (event.key === 'Escape') {\n                close()\n            }\n        }\n\n        if (closeOnEscape) {\n            document.addEventListener('keydown', onKeydown)\n        }\n\n        return () => {\n            document.removeEventListener('keydown', onKeydown)\n        }\n    }, [])\n\n    const _bgClick = (event) => {\n        if (closeOnBgClick && event.target === modalRef.current) {\n            close()\n        }\n    }\n\n    return (\n        <div\n            ref={modalRef}\n            onClick={_bgClick}\n            className=\"fixed inset-0 z-50 flex items-center p-4\"\n            style={{\n                backgroundColor: `rgba(0, 0, 0, 0.8)`,\n                ...style,\n            }}\n        >\n            {children}\n        </div>\n    )\n}\n\nexport default Modal","import React from 'react';\nimport NearBlackLogo from \"../../../../Icons/near/NearBlackLogo\";\n\nconst SinglePayout = ({name, value}) => {\n    return (\n        <div className=\"mt-2 text-black font-bold flex items-center justify-between\">\n            <span>{name}</span>\n            <span className=\"flex gap-2 items-center\">\n                <span>{value}</span>\n                <NearBlackLogo/>\n            </span>\n        </div>\n    );\n};\n\nexport default SinglePayout;","import React from 'react';\nimport {getStringPercentage} from \"../../../../../utils/string\";\nimport SinglePayout from \"./SinglePayout\";\n\nconst PayoutsPreview = ({price, payouts}) => {\n\n    const {treasury, ...rest} = payouts\n    const royalties = Object.values(rest).reduce((a, b) => a + b, 0)\n    const receive = 100 - treasury - royalties\n\n    return (\n        <div className=\"py-3\">\n            <SinglePayout name=\"Receive:\" value={getStringPercentage(price, receive)}/>\n            <SinglePayout name=\"Fee:\" value={getStringPercentage(price, treasury)}/>\n            <SinglePayout name=\"Royalty:\" value={getStringPercentage(price, royalties)}/>\n        </div>\n    );\n};\n\nexport default PayoutsPreview;","import React from 'react';\nimport Modal from \"../../../Common/modal/Modal\";\nimport DarkBlueGradientButton from \"../../../Common/buttons/DarkBlueGradientButton\";\nimport {AiOutlineClose} from 'react-icons/ai'\nimport NearBlackLogo from \"../../../Icons/near/NearBlackLogo\";\nimport DarkBlueMjolText from \"../../../Common/text/DarkBlueMjolText\";\nimport {useForm} from \"react-hook-form\";\nimport {MAX_ITEM_PRICE} from \"../../../../utils/string\";\nimport PayoutsPreview from \"./recieve/PayoutsPreview\";\n\nconst InputPriceModal = ({close, onClick, payouts, imgSrc}) => {\n\n        const closeModal = () => {\n            close()\n            reset()\n        }\n\n        const {\n            register,\n            watch,\n            handleSubmit,\n            reset,\n            formState: {\n                isValid, errors\n            }\n        } = useForm({\n                        mode: \"onChange\",\n                        defaultValues: {\n                            price: \"\"\n                        }\n                    })\n\n        const onSubmit = ({price}) => {\n            onClick(price)\n            closeModal()\n        }\n\n        const price = watch(\"price\")\n\n        return (\n            <Modal close={closeModal}>\n                <div className=\"max-w-xs md:max-w-lg p-4 bg-gray-100 mx-2 xs:mx-auto rounded-md relative\">\n                    <div className=\"absolute right-0 top-0 pr-4 pt-4\">\n                        <AiOutlineClose onClick={closeModal} className=\"cursor-pointer\" size={20}/>\n                    </div>\n                    <DarkBlueMjolText text=\"List NFT for sale\" classes=\"text-2xl text-left font-black pb-4 text-center\"/>\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-5\">\n                        <form onSubmit={handleSubmit(onSubmit)}>\n                            <div className=\"flex flex-col justify-between h-full\">\n                                <div className=\"space-y-1\">\n                                    <div className=\"text-sm text-gray-900 font-semibold\">\n                                        Price\n                                    </div>\n                                    <div className=\"flex justify-between gap-3\">\n                                        <input\n                                            min=\"0\"\n                                            className=\"\n                                               w-full\n                                               px-3 py-2 rounded-lg border-transparent text-gray-800 text-base\n                                               bg-black bg-opacity-5\n                                               focus:bg-opacity-10\n                                               focus:text-black\n                                               focus:border-transparent\n                                               focus:ring-0\n                                               \"\n                                            type=\"number\"\n                                            step=\"any\"\n                                            placeholder=\"NFT price\"\n                                            {...register(\"price\", {\n                                                required: true,\n                                                max: {\n                                                    value: MAX_ITEM_PRICE,\n                                                    message: `Maximum price is ${MAX_ITEM_PRICE} `\n                                                },\n                                                min: {\n                                                    value: 0,\n                                                    message: \"Minimum price is 0 \"\n                                                },\n                                            })}\n                                        />\n                                        <NearBlackLogo/>\n                                    </div>\n                                    {!isValid &&\n                                        <div\n                                            className=\"hidden md:block pt-1\n                                                       text-center text-gray-700 text-xs font-semibold\"\n                                        >\n                                            {errors?.price?.message}\n                                        </div>\n                                    }\n                                </div>\n                                <PayoutsPreview price={price} payouts={payouts}/>\n                            </div>\n                        </form>\n                        <img src={imgSrc} alt=\"loading\" className=\"hidden md:block rounded-2xl\" style={{\n                            width: \"100%\",\n                            objectFit: \"contain\",\n                            aspectRatio: \"1/1\"\n                        }}/>\n                    </div>\n                    <div className=\"items-center flex flex-col\">\n                        <p className=\"text-black mt-4 text-sm text-center opacity-60\">\n                            You will be redirected to\n                            NEAR Web Wallet to confirm your transaction.\n                        </p>\n                        <div className=\"mt-6\">\n                            <DarkBlueGradientButton title=\"Complete listing\"\n                                                    disabled={!isValid}\n                                                    onClick={() => handleSubmit(onSubmit)(price)}\n                                                    style={{\n                                                        width: \"300px\"\n                                                    }}/>\n                        </div>\n                    </div>\n                </div>\n            </Modal>\n        );\n    }\n;\n\nexport default InputPriceModal;","import React, {useState} from 'react';\nimport DarkBlueGradientButton from \"../../../Common/buttons/DarkBlueGradientButton\";\nimport InputPriceModal from \"./InputPriceModal\";\n\n\nconst SellNftContainer = ({onClick, payouts, imgSrc}) => {\n\n    const [visible, setVisible] = useState(false)\n\n    return (\n        <div>\n            <DarkBlueGradientButton title=\"Sell NFT\" onClick={() => setVisible(!visible)}/>\n            {visible &&\n                <InputPriceModal close={() => setVisible(false)}\n                                 onClick={onClick}\n                                 payouts={payouts}\n                                 imgSrc={imgSrc}\n                />\n            }\n        </div>\n    );\n};\n\nexport default SellNftContainer;","import React from 'react';\nimport withPriceContainer from \"./withPriceContainer\";\nimport DarkBlueGradientButton from \"../../Common/buttons/DarkBlueGradientButton\";\n\nconst UnlistNftContainer = (props: any) => {\n    return <DarkBlueGradientButton title=\"Unlist NFT\" {...props}/>;\n};\n\nexport default withPriceContainer(UnlistNftContainer);","import React from 'react';\n\nconst NftContractNotSupported = () => {\n    return (\n        <div className=\"text-center rounded-2xl bg-gray-900 p-2 font-medium text-md md:text-lg text-blue-300\">\n            Nft contract not supported\n            <div className=\"text-xs text-blue-900\">\n                See here for more information about supported NFTs.\n            </div>\n        </div>\n    );\n};\n\nexport default NftContractNotSupported;","import React from 'react';\n\nconst NotListedNftContainer = () => {\n    return (\n        <div className=\"text-center rounded-lg bg-gray-900 p-2 font-medium text-md md:text-lg text-blue-300\">\n            Nft not listed on market\n        </div>\n    );\n};\n\nexport default NotListedNftContainer;","import React, {useEffect} from 'react';\nimport {useAppDispatch, useAppSelector} from \"../../../hooks/redux\";\nimport {fetchNft} from \"../../../state/preview/nft/thunk\";\nimport withAuthData, {SignedInProps} from \"../../../hoc/withAuthData\";\nimport NotFoundPage from \"../../not-found/NotFoundPage\";\nimport {previewNftSlice} from \"../../../state/preview/nft/slice\";\nimport {useParams} from \"react-router\";\nimport MjolLoader from \"../../../components/Common/loaders/MjolLoader\";\nimport PreviewNftImage from \"../../../components/Preview/PreviewNftImage\";\nimport NftPreviewInfo from \"../../../components/Preview/Blocks/NftPreviewInfo\";\nimport {useNftMarketStatus} from \"../../../hooks/useNftMarketStatus\";\nimport ConnectWalletButton from \"../../../components/Preview/Status/connect-wallet/ConnectWalletButton\";\nimport {ItemMarketStatus} from \"../../../state/transaction/state\";\nimport BuyNftContainer from \"../../../components/Preview/Status/BuyNftContainer\";\nimport {buyNft, sellNft, unlistNft} from \"../../../state/transaction/nft/thunk\";\nimport SellNftContainer from \"../../../components/Preview/Status/sell/SellNftContainer\";\nimport UnlistNftContainer from \"../../../components/Preview/Status/UnlistNftContainer\";\nimport NftContractNotSupported from \"../../../components/Preview/Status/NftContractNotSupported\";\nimport NotListedNftContainer from \"../../../components/Preview/Status/NotListedNftContainer\";\n\ninterface PropTypes extends SignedInProps {\n}\n\ntype ParamTypes = {\n    contractId: string,\n    tokenId: string,\n}\n\nconst PreviewNftPage: React.FC<PropTypes> = ({accountId}) => {\n    const {contractId, tokenId} = useParams<ParamTypes>()\n    const {nft, fetching, payouts} = useAppSelector(state => state.preview.nft)\n    const dispatch = useAppDispatch()\n\n    if (!contractId || !tokenId) {\n        return <NotFoundPage/>\n    }\n\n    useEffect(() => {\n        dispatch(fetchNft(contractId, tokenId))\n        return () => {\n            dispatch(previewNftSlice.actions.reset())\n        }\n    }, [accountId])\n\n    if (fetching) {\n        return <MjolLoader/>\n    }\n    if (!nft) {\n        return <NotFoundPage/>\n    }\n\n    const getStatus = () => {\n        if (!accountId) {\n            return <ConnectWalletButton/>\n        }\n\n        const nftStatus = useNftMarketStatus(accountId, nft)\n        switch (nftStatus) {\n            case ItemMarketStatus.CAN_BUY:\n                return <BuyNftContainer price={nft.price}\n                                        onClick={\n                                            () => dispatch(buyNft(contractId, tokenId, nft.price || ''))\n                                        }\n                />\n            case ItemMarketStatus.CAN_SELL:\n                return <SellNftContainer imgSrc={nft.mediaURL}\n                                         payouts={payouts}\n                                         onClick={\n                                             (price: string) => dispatch(sellNft(contractId, tokenId, price, nft))\n                                         }\n                />\n            case ItemMarketStatus.LISTED:\n                return <UnlistNftContainer price={nft.price}\n                                           onClick={\n                                               () => dispatch(unlistNft(contractId, tokenId))\n                                           }/>\n            case ItemMarketStatus.NOT_SUPPORTED:\n                return <NftContractNotSupported/>\n            case ItemMarketStatus.FREE:\n                return <NotListedNftContainer/>\n        }\n    }\n\n\n    return (\n        <div className=\"grid md:grid-cols-2 gap-8 min-h-screen bg-mjol-white p-5 xs:p-10 md:items-start\">\n            <PreviewNftImage link={nft.mediaURL}/>\n            <NftPreviewInfo nft={nft}\n                            payouts={payouts}\n                            statusElement={getStatus()}\n            />\n        </div>\n    )\n};\n\nexport default withAuthData(PreviewNftPage);\n","import {AppDispatch} from \"../../store\";\nimport {previewNftSlice} from \"./slice\";\nimport {getNftPayouts, getNFTsByContractAndTokenId} from \"../../../business-logic/near/api/nfts/get-user-nfts\";\n\nexport const fetchNft = (contractId: string, tokenId: string) =>\n    async (dispatch: AppDispatch) => {\n\n        dispatch(previewNftSlice.actions.toggleFetching(true))\n\n        Promise.all([\n                getNFTsByContractAndTokenId(contractId, tokenId)\n                    .then(nft => dispatch(previewNftSlice.actions.success(nft)))\n                    .catch(() => dispatch(previewNftSlice.actions.failure())),\n\n                getNftPayouts(contractId, tokenId)\n                    .then(p => dispatch(previewNftSlice.actions.setPayouts(p)))\n            ]\n        ).finally(() => dispatch(previewNftSlice.actions.toggleFetching(false)))\n    }","import React, {useEffect} from 'react';\nimport {Navigate, useNavigate} from 'react-router-dom'\nimport {signOut} from \"../../business-logic/near/enviroment/near\";\nimport MjolLoader from \"../../components/Common/loaders/MjolLoader\";\n\nconst Logout = () => {\n    const navigate = useNavigate()\n    useEffect(() => {\n        signOut()\n        navigate(\"/\")\n    }, [])\n\n    return <MjolLoader/>\n};\n\nexport default Logout;","import React from 'react';\nimport {FaSearch} from 'react-icons/fa'\n\nconst SearchInput = ({placeholder, isTyping, onCancel, onSearch}) => {\n    return (\n        <div className=\"flex text-xs xs:text-md\">\n            <input className=\"rounded-l-3xl w-full sm:w-88\n                              focus:outline-0 outline-none py-2 px-5 ring-1 ring-inset ring-blue-100\"\n                   placeholder={placeholder}\n                   type=\"search\"\n            />\n            <div className=\"rounded-r-3xl px-5 bg-gradient-to-b from-blue-400 to-blue-900 grid place-items-center cursor-pointer\">\n                <FaSearch color=\"white\"/>\n            </div>\n        </div>\n    );\n};\n\nexport default SearchInput;","import React from 'react';\nimport BlueShadowContainer from \"../../../components/Common/shadow/BlueShadowContainer\";\nimport DarkBlueTitle from \"../../../components/Common/text/DarkBlueTitle\";\nimport SearchInput from \"../../../components/Filter/search/SearchInput\";\n\nconst NftFilters = () => {\n    return (\n        <BlueShadowContainer>\n            <div className=\"pb-10 px-4 space-y-8\">\n                <DarkBlueTitle title=\"Explore NFTs\"/>\n                <div className=\"flex justify-center\">\n                    <SearchInput placeholder=\"Search by NFT name\"/>\n                </div>\n            </div>\n        </BlueShadowContainer>\n    );\n};\n\nexport default NftFilters;","import React from 'react';\n\ninterface PropTypes {\n    size?: number,\n    className?: string\n}\n\nconst CardLoader = React.memo<PropTypes>(({size = 300, ...props}) => {\n    const gradient = (direction: string) =>\n        `linear-gradient(to ${direction}, rgb(229, 232, 235), rgba(255, 255, 255, 0))`\n\n    return (\n        <div {...props}>\n            <div className=\"flex flex-col ring-1 rounded-xl ring-gray-200 overflow-hidden pulse-animation w-full\n                        transform hover:shadow-mjol-gray-xs hover:ring-inset\"\n            >\n                {/* Image block */}\n                <div style={{\n                    width: size,\n                    height: size,\n                    background: gradient('right')\n                }}>\n                </div>\n\n                <div className=\"py-2 px-2 xxs:px-5 space-y-0.5 mt-0.5\">\n                    {/* Title block */}\n                    <div className=\"inline-flex justify-between w-full rounded-lg overflow-hidden\"\n                         style={{\n                             height: '18px'\n                         }}\n                    >\n                        <div style={{\n                            background: gradient('right'),\n                            width: \"35%\",\n                        }}/>\n                        <div style={{\n                            background: gradient('left'),\n                            width: \"20%\"\n                        }}/>\n                    </div>\n\n                    {/* Subtitle block */}\n                    <div className=\"inline-flex justify-between w-full rounded-lg overflow-hidden\"\n                         style={{\n                             height: \"15px\"\n                         }}\n                    >\n                        <div style={{\n                            background: gradient('right'),\n                            width: \"50%\",\n                        }}/>\n                        <div style={{\n                            background: gradient('left'),\n                            width: \"25%\"\n                        }}/>\n                    </div>\n                </div>\n\n                {/* Price block */}\n                <div className=\"w-full mt-4 px-2 xxs:px-5 pt-3 pb-1\"\n                     style={{\n                         background: \"linear-gradient(rgba(229, 232, 235, 0.392) 0%, rgb(255, 255, 255) 20%)\"\n                     }}>\n                    <div className=\"inline-flex w-full justify-between rounded-lg overflow-hidden\"\n                         style={{\n                             height: '17px'\n                         }}\n                    >\n                        <div style={{\n                            background: gradient('right'),\n                            width: \"50%\",\n                        }}/>\n                        <div style={{\n                            background: gradient('left'),\n                            width: \"25%\"\n                        }}/>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n});\n\nexport default CardLoader;","import React from 'react';\n\nconst CardsGridContainer: React.FC = ({children}) => {\n    return (\n        <div className=\"grid gap-6 lg:gap-7 2xl:gap-10 justify-center\n                                 grid-cols-1\n                                 xxs:grid-cols-1nft-300\n                                 sm:grid-cols-2nft-300\n                                 lg:grid-cols-3nft-300\n                                 xl:grid-cols-4nft-300\"\n        >\n            {children}\n        </div>\n    );\n};\n\nexport default CardsGridContainer;","import CardLoader from \"../Card/CardLoader\";\nimport React from \"react\";\nimport CardsGridContainer from \"./CardsGridContainer\";\n\n/**\n * Returns NFT card skeleton loader component\n */\nconst CardListLoader = React.memo(() => {\n    return (\n        <CardsGridContainer>\n            <CardLoader/>\n            <CardLoader className=\"hidden sm:block\"/>\n            <CardLoader className=\"hidden lg:block\"/>\n            <CardLoader className=\"hidden xl:block\"/>\n        </CardsGridContainer>\n    )\n});\n\nexport default CardListLoader","import {motion} from 'framer-motion';\nimport React, {useState} from 'react';\nimport {LazyLoadImage, ScrollPosition} from 'react-lazy-load-image-component';\nimport 'react-lazy-load-image-component/src/effects/opacity.css';\nimport MjolLoader from \"../../Common/loaders/MjolLoader\";\n\ninterface PropTypes {\n    path: string,\n    scrollPosition?: ScrollPosition\n}\n\nconst ImageBlock: React.FC<PropTypes> = ({path, scrollPosition}) => {\n\n    const [loading, setLoading] = useState(true)\n\n    return (\n        <div className=\"aspect-w-1 aspect-h-1 justify-center\">\n            <LazyLoadImage src={path}\n                           alt=\"media not supported\"\n                           effect=\"opacity\"\n                           threshold={100}\n                           scrollPosition={scrollPosition}\n                           afterLoad={() => setLoading(false)}\n                           style={{\n                               width: \"100%\",\n                               height: \"100%\",\n                               objectFit: \"contain\",\n                           }}\n            />\n            {loading &&\n                <div className=\"flex items-center justify-center\">\n                    <MjolLoader/>\n                </div>\n            }\n        </div>\n    );\n};\n\nexport default ImageBlock;","import React from 'react';\nimport {GoUnverified, GoVerified} from \"react-icons/go\";\nimport DarkBlueMjolText from \"../../Common/text/DarkBlueMjolText\";\n\n\ninterface PropsTypes {\n    market?: string,\n    link?: string\n}\n\nconst MintedBlock = React.memo<PropsTypes>(({market, link}) => {\n    return (\n        <>\n            <div className=\"flex gap-1 items-center\">\n                {market !== 'unsupported contract'\n                    ? <GoVerified size={14} color=\"#18b3cc\"/>\n                    : <GoUnverified size={14} color=\"\"/>\n                }\n                <a className=\"text-mjol-purple-dark opacity-80 font-bold text-tiny-4 hover:opacity-90\"\n                   href={link}\n                   target=\"_blank\"\n                >\n                    {market === 'unsupported contract' ? 'Not verified' : `Minted on ${market}`}\n                </a>\n            </div>\n            <hr className=\"border-mjol-purple-dark\"/>\n        </>\n    );\n});\n\nexport default MintedBlock;","import React from 'react';\n\ninterface PropTypes {\n    title: string,\n}\n\nconst TitleBlock = React.memo<PropTypes>(({title}) => {\n    return (\n        <div className=\"font-bold text-mjol-purple-dark truncate text-md\">\n            {title}\n        </div>\n    );\n});\n\nexport default TitleBlock;","import React from 'react';\ninterface PropTypes {\n    name: string,\n}\n\nconst CollectionBlock = React.memo<PropTypes>(({name}) => {\n    return (\n        <div className=\"text-xs-2 font-semibold truncate text-mjol-purple-dark opacity-75 hover:opacity-90\">\n            {name}\n        </div>\n    );\n});\n\nexport default CollectionBlock;","import React from 'react';\nimport NearBlackLogo from \"../../Icons/near/NearBlackLogo\";\nimport DarkBlueMjolText from \"../../Common/text/DarkBlueMjolText\";\n\ninterface PropTypes {\n    price: string | null\n}\n\nconst PriceBlock = React.memo<PropTypes>(({price}) => {\n    const isListed = price !== null\n    return (\n        <div className=\"mt-2 mb-1 grid place-items-end\">\n            <div className=\"flex items-center gap-2\">\n                <p className=\"text-mjol-cyan-base font-black text-lg\">\n                    {isListed ? price : \"Not listed\"}\n                </p>\n                {isListed && <NearBlackLogo/>}\n            </div>\n        </div>\n    );\n});\n\nexport default PriceBlock;","import React from 'react';\nimport ImageBlock from \"./Blocks/ImageBlock\";\nimport MintedBlock from \"./Blocks/MintedBlock\";\nimport TitleBlock from \"./Blocks/TitleBlock\";\nimport CollectionBlock from \"./Blocks/CollectionBlock\";\nimport PriceBlock from \"./Blocks/PriceBlock\";\nimport {Nft} from \"../../business-logic/models/nft\";\nimport {Link} from \"react-router-dom\";\nimport {ScrollPosition} from \"react-lazy-load-image-component\";\n\ninterface PropTypes {\n    nft: Nft,\n    scrollPosition?: ScrollPosition\n}\n\nconst Card: React.FC<PropTypes> = ({nft, scrollPosition}) => {\n    const previewLink = `/nft/${nft.contractId}/${nft.tokenId}`\n    return (\n        <div className=\"flex flex-col justify-between overflow-hidden w-full rounded-xl\n                        ring-1 ring-blue-300 select-none\n                        transform hover:shadow-mjol-medium-blue-all-xs\"\n        >\n            <Link to={previewLink}>\n                <ImageBlock path={nft.mediaURL} scrollPosition={scrollPosition}/>\n            </Link>\n            <div className=\"px-2 xxs:px-5 mt-1\">\n                <div className=\"flex flex-col mb-4\">\n                    <Link to={previewLink}>\n                        <TitleBlock title={nft.title}/>\n                    </Link>\n                    <Link to=\"MOCK\">\n                        <CollectionBlock name=\"Mock collection\"/>\n                    </Link>\n                </div>\n                <MintedBlock market={nft.mintSite?.name} link={nft.mintSite?.nftLink}/>\n                <PriceBlock price={nft.price}/>\n            </div>\n        </div>\n    );\n};\n\nexport default Card;","import Card from \"../Card/Card\";\nimport React from \"react\";\nimport {Nft} from \"../../business-logic/models/nft\";\nimport CardsGridContainer from \"./CardsGridContainer\";\nimport {ScrollPosition} from \"react-lazy-load-image-component\";\nimport {buildUID} from \"../../business-logic/near/api/utils\";\n\ninterface PropTypes {\n    nfts: Nft[],\n    scrollPosition?: ScrollPosition\n}\n\n/**\n * Returns NFT items grid component\n *\n * @param nfts array of {@link Nft} items\n * @param scrollPosition\n */\nconst CardGrid: React.FC<PropTypes> = ({nfts, scrollPosition}) => {\n    return (\n        <CardsGridContainer>\n            {nfts.map(nft => {\n                    const uid = buildUID(nft.contractId, nft.tokenId)\n                    return <Card key={uid} nft={nft} scrollPosition={scrollPosition}/>\n                }\n            )}\n        </CardsGridContainer>\n    )\n};\n\nexport default CardGrid;\n","import {createSlice, PayloadAction} from \"@reduxjs/toolkit\";\nimport {Nft} from \"../../../business-logic/models/nft\";\nimport {MarketPage} from \"../../../business-logic/near/api/market/get-nfts-market\";\n\nexport interface ExploreNftsState {\n    nfts: Nft[],\n    fetching: boolean,\n    from: number,\n    limit: number,\n    hasMore: boolean,\n    total: number\n}\n\nconst initialState: ExploreNftsState = {\n    nfts: [],\n    fetching: false,\n    from: 0,\n    limit: 12,\n    hasMore: true,\n    total: 0\n}\n\nexport const exploreNftsSlice = createSlice({\n    name: \"explore-nfts\",\n    initialState,\n    reducers: {\n        setPageData: (state, action: PayloadAction<MarketPage>) => {\n            state.nfts = state.nfts.concat(action.payload.tokens)\n            state.total = action.payload.total\n            state.hasMore = action.payload.hasMore\n            state.from += state.limit\n        },\n        toggleFetching: (state, action: PayloadAction<boolean>) => {\n            state.fetching = action.payload\n        },\n        reset: () => initialState\n    }\n})\n\nexport const exploreNftsReducer = exploreNftsSlice.reducer;","import {getConvertedNFT} from \"../standardization\";\nimport {viewFunction} from \"../rpc\";\nimport {marketAPI} from \"./api\";\nimport {buildUID, formatOptionalPrice} from \"../utils\";\nimport {batchRequest} from \"../batch-request\";\nimport {Nft} from \"../../../models/nft\";\nimport {MarketToken} from \"../types/response/market\";\n\nexport interface MarketPage {\n    tokens: Nft[],\n    hasMore: boolean,\n    total: number\n}\n\n\nexport async function getMarketNfts(from = 0, limit = 50): Promise<MarketPage> {\n    const marketNfts = await marketAPI.fetchTokens(from, limit)\n    return batchRequest<MarketToken, Nft>(marketNfts.tokens, async token => {\n        const {price, token_id, nft_contract_id: contractId} = token\n        return viewFunction({\n                contractId,\n                methodName: 'nft_token',\n                args: {token_id}\n            }\n        ).then(response => {\n                const uid = buildUID(contractId, token_id)\n                const tokenPrice = {[uid]: formatOptionalPrice(price)}\n                return getConvertedNFT(contractId, response, tokenPrice)\n            }\n        )\n    }).then(result => ({\n        tokens: result.values,\n        hasMore: marketNfts.has_next_batch,\n        total: marketNfts.total_count\n    }))\n}\n\n","import {AppDispatch} from \"../../store\";\nimport {exploreNftsSlice} from \"./slice\";\nimport {getMarketNfts} from \"../../../business-logic/near/api/market/get-nfts-market\";\n\nexport const fetchMarketNfts = (from: number, limit: number) =>\n    async (dispatch: AppDispatch) => {\n        dispatch(exploreNftsSlice.actions.toggleFetching(true))\n        getMarketNfts(from, limit)\n            .then(data => dispatch(exploreNftsSlice.actions.setPageData(data)))\n            .finally(() => dispatch(exploreNftsSlice.actions.toggleFetching(false)))\n    }","import {createSlice, PayloadAction} from \"@reduxjs/toolkit\";\nimport {Nft} from \"../../../business-logic/models/nft\";\nimport {ContractId} from \"../../../business-logic/models/types\";\n\nexport enum ProfileNftsTab {\n    All = \"All NFTs\",\n    Listed = \"Listed NFTs\",\n    History = \"My History\"\n}\n\nexport interface ProfileState {\n    tabs: ProfileNftsTab[],\n    activeTab: ProfileNftsTab,\n    contracts: ContractId[],\n    fetching: boolean,\n    nfts: Nft[],\n    history: []\n}\n\nconst initialState: ProfileState = {\n    tabs: [ProfileNftsTab.All, ProfileNftsTab.Listed, ProfileNftsTab.History],\n    activeTab: ProfileNftsTab.All,\n    fetching: false,\n    contracts: [],\n    nfts: [],\n    history: []\n}\n\nexport const profileNftsSlice = createSlice({\n    name: \"profile-nfts\",\n    initialState,\n    reducers: {\n        changeTab: (state, action: PayloadAction<ProfileNftsTab>) => {\n            state.activeTab = action.payload\n        },\n        setPageData: (state, action: PayloadAction<Nft[]>) => {\n            state.nfts = action.payload\n        },\n        addNft: (state, action: PayloadAction<any>) => {\n            state.nfts.push(action.payload)\n        },\n        toggleFetching: (state, action: PayloadAction<boolean>) => {\n            state.fetching = action.payload\n        },\n        resetNfts: (state) => {\n            state.nfts = []\n            state.fetching = true\n        }\n    }\n})\n\nexport const profileNftsReducer = profileNftsSlice.reducer","import React, {useEffect} from 'react';\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport CardListLoader from \"./CardListLoader\";\nimport CardGrid from \"./CardGrid\";\nimport {useAppDispatch, useAppSelector} from \"../../hooks/redux\";\nimport {fetchMarketNfts} from \"../../state/explore/nfts/thunk\";\nimport {exploreNftsSlice} from \"../../state/explore/nfts/slice\";\nimport DarkBlueMjolText from \"../Common/text/DarkBlueMjolText\";\nimport {ScrollPosition, trackWindowScroll} from \"react-lazy-load-image-component\";\n\n\ninterface PropTypes {\n    scrollPosition: ScrollPosition\n}\n\nconst CardList: React.FC<PropTypes> = ({scrollPosition}) => {\n\n    const {nfts, hasMore, fetching, from, limit} = useAppSelector(state => state.explore.nfts)\n    const dispatch = useAppDispatch()\n\n    useEffect(() => {\n        dispatch(fetchMarketNfts(from, limit))\n        return () => {\n            dispatch(exploreNftsSlice.actions.reset())\n        }\n    }, [])\n\n    const fetchNextTokens = () => {\n        if (hasMore && !fetching) {\n            return dispatch(fetchMarketNfts(from, limit))\n        }\n    }\n\n    return (\n        <InfiniteScroll\n            next={fetchNextTokens}\n            scrollThreshold=\"100px\"\n            hasMore={hasMore}\n            className={\"py-5 \" + (nfts.length !== 0 ? \"space-y-6 lg:space-y-7 2xl:space-y-10\" : \"\")}\n            loader={<CardListLoader/>}\n            dataLength={nfts.length}\n            endMessage={<DarkBlueMjolText text=\"No more items on market\"/>}\n        >\n            <CardGrid nfts={nfts} scrollPosition={scrollPosition}/>\n        </InfiniteScroll>\n    );\n};\n\nexport default trackWindowScroll(CardList);","import React from 'react';\nimport {useAppSelector} from \"../../../hooks/redux\";\n\n\nimport NftFilters from \"./NftFilters\";\nimport CardList from \"../../../components/CardList/CardList\";\n\nconst ExploreNftsPage = () => {\n\n    const totalItems = useAppSelector(state => state.explore.nfts.total)\n\n    return (\n        <>\n            <NftFilters/>\n            <div className=\"my-5 font-mono text-center text-gray-600\">\n                Total items: {totalItems}\n            </div>\n            <CardList/>\n        </>\n    )\n\n};\n\nexport default ExploreNftsPage;","import React from 'react';\n\nconst ProfileCollectionsPage = () => {\n    return (\n        <div>\n\n        </div>\n    );\n};\n\nexport default ProfileCollectionsPage;","import React, {useEffect} from 'react';\nimport DarkBlueMjolText from \"../../../components/Common/text/DarkBlueMjolText\";\n\n\ninterface PropTypes {\n    accountId: string\n}\n\nconst ProfileHistoryFetch: React.FC<PropTypes> = ({accountId}) => {\n\n    useEffect(() => {\n\n    }, [accountId])\n\n    return (\n        <DarkBlueMjolText text=\"History\"/>\n    );\n};\n\nexport default ProfileHistoryFetch;","import React from 'react';\nimport {motion} from \"framer-motion\";\nimport {Link} from \"react-router-dom\";\nimport {grayGradient} from \"../../utils/css-utils\";\n\ninterface PropTypes {\n    width?: number,\n    height?: number\n}\n\n/**\n * Returns empty card list animated component\n */\nconst EmptyCardList: React.FC<PropTypes> = React.memo(({width = 150, height = 190}) => {\n    return (\n        <div className=\"w-full flex flex-col justify-center items-center gap-10\">\n            <div className=\"inline-flex place-items-end gap-4\">\n                <motion.div className=\"rounded-lg shadow-mjol-gray-xs\"\n                            style={{\n                                width,\n                                height,\n                                background: grayGradient(\"left\")\n                            }}\n                            initial={{\n                                rotate: -3,\n                            }}\n                            animate={{\n                                rotate: -10,\n                            }}\n                            transition={{\n                                repeatType: \"reverse\",\n                                duration: 1,\n                                repeat: Infinity,\n                            }}\n                />\n                <motion.div\n                    className=\"rounded-lg shadow-mjol-gray-xs\"\n                    style={{\n                        width: width * 0.7,\n                        height: height * 0.7,\n                        background: grayGradient(\"right\")\n                    }}\n                    initial={{\n                        rotate: 6,\n                    }}\n                    animate={{\n                        rotate: 20,\n                    }}\n                    transition={{\n                        repeatType: \"reverse\",\n                        duration: 1,\n                        repeat: Infinity\n                    }}\n                >\n                </motion.div>\n            </div>\n            <div className=\"inline-flex gap-1 items-baseline text-sm\">\n                <div className=\"text-gray-600\">\n                    No items found. You can buy NFTs on\n                </div>\n                <Link to=\"/nfts\" className=\"text-blue-600 font-black\">\n                    market\n                </Link>\n            </div>\n        </div>\n    );\n});\n\nexport default EmptyCardList;","import React, {useEffect} from 'react';\nimport {useAppDispatch, useAppSelector} from \"../../../hooks/redux\";\nimport {ProfileNftsTab, profileNftsSlice} from \"../../../state/profile/nfts/slice\";\nimport {fetchMyNfts} from \"../../../state/profile/nfts/thunk\";\nimport CardGrid from \"../../../components/CardList/CardGrid\";\nimport CardListLoader from \"../../../components/CardList/CardListLoader\";\nimport EmptyCardList from \"../../../components/CardList/EmptyCardList\";\n\ninterface PropTypes {\n    accountId: string\n}\n\nconst ProfileNftsFetch: React.FC<PropTypes> = ({accountId}) => {\n    const {nfts, fetching, activeTab} = useAppSelector(state => state.profile.nfts)\n    const dispatch = useAppDispatch()\n\n    useEffect(() => {\n        dispatch(fetchMyNfts(accountId))\n        return () => {\n            dispatch(profileNftsSlice.actions.resetNfts())\n        }\n    }, [accountId])\n\n    return (\n        <>\n            {fetching\n                ? <CardListLoader/>\n                : nfts.length === 0\n                    ? <EmptyCardList/>\n                    : <CardGrid nfts={\n                        activeTab === ProfileNftsTab.Listed\n                            ? nfts.filter(nft => nft.price !== null)\n                            : nfts\n                    }/>\n            }\n        </>\n    );\n};\n\nexport default ProfileNftsFetch;","import {getUserNfts} from \"../../../business-logic/near/api/nfts/get-user-nfts\";\n\nimport {AppDispatch} from \"../../store\";\nimport {profileNftsSlice} from \"./slice\";\n\nexport const fetchMyNfts = (accountId: string) =>\n    async (dispatch: AppDispatch) => {\n        dispatch(profileNftsSlice.actions.toggleFetching(true))\n        getUserNfts(accountId)\n            .then(nfts => dispatch(profileNftsSlice.actions.setPageData(nfts)))\n            .finally(() => dispatch(profileNftsSlice.actions.toggleFetching(false)))\n    }","import React from 'react';\nimport classNames from \"../../../utils/css-utils\";\nimport DarkBlueMjolText from \"../text/DarkBlueMjolText\";\n\nconst MjolBlueGradientButton = ({title, onClick, isActive = true}) => {\n\n    return (\n        <button onClick={onClick}\n                className={\n                    classNames(isActive\n                            ? \"from-blue-500 to-blue-800\"\n                            : \"hover:shadow-mjol-blue-button hover:ring-1 hover:ring-inset hover:ring-blue-400\"\n                        ,\n                        \"bg-gradient-to-l from-transparent to-transparent rounded-lg group px-6 py-1 transform duration-200\"\n                    )\n                }\n        >\n            {isActive\n                ? <div className=\"text-white font-extrabold\">{title}</div>\n                : <DarkBlueMjolText text={title}/>\n            }\n        </button>\n    );\n};\n\nexport default MjolBlueGradientButton;","import React, {useMemo} from 'react';\nimport MjolBlueGradientButton from \"../../../../components/Common/buttons/MjolBlueGradientButton\";\nimport DarkBlueTitle from \"../../../../components/Common/text/DarkBlueTitle\";\nimport BlueShadowContainer from \"../../../../components/Common/shadow/BlueShadowContainer\";\nimport {ProfileNftsTab} from \"../../../../state/profile/nfts/slice\";\n\ninterface PropTypes {\n    tabs: ProfileNftsTab[],\n    activeTab: ProfileNftsTab,\n    changeTab: (tab: ProfileNftsTab) => void\n}\n\nconst ProfileNavigationBar: React.FC<PropTypes> = ({changeTab, activeTab, tabs}) => {\n    return (\n        <BlueShadowContainer>\n            <div className=\"pb-10 space-y-10\">\n                <DarkBlueTitle title=\"My NFTs\"/>\n                <div className=\"text-center\">\n                    <div className=\"inline-flex flex-col gap-2 sm:flex-row sm:gap-5 md:text-lg\">\n                        {tabs.map(item => (\n                            <MjolBlueGradientButton\n                                key={item}\n                                title={item}\n                                isActive={item === activeTab}\n                                onClick={() => changeTab(item)}\n                            />)\n                        )}\n                    </div>\n                </div>\n            </div>\n        </BlueShadowContainer>\n    );\n};\n\nexport default ProfileNavigationBar;","import React, {useMemo} from 'react';\nimport {useAppDispatch, useAppSelector} from \"../../../hooks/redux\";\nimport withAuthData, {SignedInProps} from \"../../../hoc/withAuthData\";\nimport {ProfileNftsTab, profileNftsSlice} from \"../../../state/profile/nfts/slice\";\nimport ProfileHistoryFetch from \"./ProfileHistoryFetch\";\nimport ProfileNftsFetch from \"./ProfileNftsFetch\";\nimport ProfileNavigationBar from \"./navbar/ProfileNavigationBar\";\n\ninterface PropTypes extends SignedInProps {\n}\n\n\nconst ProfileFetch: React.FC<PropTypes> = ({accountId}) => {\n    const {activeTab, tabs} = useAppSelector(state => state.profile.nfts)\n    const dispatch = useAppDispatch()\n\n    const changeTab = (tab: ProfileNftsTab) => {\n        dispatch(profileNftsSlice.actions.changeTab(tab))\n    }\n\n    const child = useMemo(() => {\n        switch (activeTab) {\n            case ProfileNftsTab.All:\n            case ProfileNftsTab.Listed:\n                return <ProfileNftsFetch accountId={accountId}/>\n            case ProfileNftsTab.History:\n                return <ProfileHistoryFetch accountId={accountId}/>\n        }\n    }, [activeTab])\n\n    return (\n        <div className=\"space-y-8 pb-4 min-h-screen\">\n            <ProfileNavigationBar changeTab={changeTab}\n                                  activeTab={activeTab}\n                                  tabs={tabs}/>\n\n            {child}\n        </div>\n    )\n};\n\nexport default withAuthData(ProfileFetch);","import React from 'react';\nimport {Route, Routes} from \"react-router\";\nimport LandingPage from \"./pages/landing/LandingPage\";\nimport NotFoundPage from \"./pages/not-found/NotFoundPage\";\nimport CreateCollectionPage from \"./pages/create/collection/CreateCollectionPage\";\nimport CreateNftPage from \"./pages/create/nft/CreateNftPage\";\nimport ExploreCollectionsPage from \"./pages/explore/collection/ExploreCollectionsPage\";\nimport PreviewNftPage from \"./pages/preview/nft/PreviewNftPage\";\nimport Logout from \"./hoc/auth/Logout\";\nimport ExploreNftsPage from \"./pages/explore/nft/ExploreNftsPage\";\nimport ProfileCollectionsPage from \"./pages/profile/collections/ProfileCollectionsPage\";\nimport ProfileNftsPage from \"./pages/profile/nfts/ProfileNftsPage\";\n\nconst AppRouter = () => {\n    return (\n        <Routes>\n            <Route path=\"/\" element={<LandingPage/>}/>\n            <Route path=\"logout\" element={<Logout/>}/>\n            <Route path=\"nfts\" element={<ExploreNftsPage/>}/>\n            <Route path=\"nft/:contractId/:tokenId\" element={<PreviewNftPage/>}/>\n            <Route path=\"collections\" element={<ExploreCollectionsPage/>}/>\n\n            <Route path=\"create-nft\" element={<CreateNftPage/>}/>\n            <Route path=\"create-collection\" element={<CreateCollectionPage/>}/>\n\n            {/*<Route path=\"profile/\">*/}\n            <Route path=\"profile/nfts\" element={<ProfileNftsPage/>}/>\n            <Route path=\"profile/collections\" element={<ProfileCollectionsPage/>}/>\n            {/*</Route>*/}\n\n            <Route path=\"*\" element={<NotFoundPage/>}/>\n        </Routes>\n    );\n};\n\nexport default AppRouter;\n\n\n\n","import React, {useEffect} from 'react'\nimport {collectionAPI} from \"./business-logic/near/api/collection\";\nimport NearConnectButton from \"./components/Common/buttons/NearConnectButton\";\nimport WalletConnectionPage from \"./pages/auth/WalletConnectionPage\";\nimport NavbarContainer from \"./pages/navbar/NavbarContainer\";\nimport AppRouter from \"./AppRouter\";\n\nexport default function App() {\n\n    useEffect(() => {\n        collectionAPI.fetchNfts('collection-2', 0, 1).then(r => console.log(r))\n    })\n\n    return (\n        <div>\n            {/*<WalletConnectionPage/>*/}\n            <NavbarContainer/>\n            <AppRouter/>\n        </div>\n    )\n}","import {combineReducers} from \"redux\";\nimport {previewNftReducer} from \"./nft/slice\";\n\nexport const previewReducer = combineReducers({\n    nft: previewNftReducer\n})","import {createSlice} from \"@reduxjs/toolkit\";\n\nconst initialState = {\n    tabs: {\n        explore: [\n            {name: 'NFTs', path: '/nfts'},\n            {name: 'Collections', path: '/collections'},\n        ],\n        create: [\n            {name: 'NFT', path: '/create-nft'},\n            {name: 'Collection', path: '/create-collection'}\n        ],\n        profile: [\n            {name: 'My NFTs', path: '/profile/nfts'},\n            {name: 'My Collections', path: '/profile/collections'},\n            {name: 'Sign out', path: '/logout'}\n        ],\n        single: [\n            {name: 'Launchpad', path: '/launchpad'},\n            {name: 'Docs', path: '/docs'}\n        ]\n    }\n}\n\nexport const navbarSlice = createSlice({\n    name: \"navbar\",\n    initialState,\n    reducers: {}\n})\n\nexport const navbarReducer = navbarSlice.reducer","import {combineReducers} from \"redux\";\nimport {exploreNftsReducer} from \"./nfts/slice\";\n\nexport const exploreReducer = combineReducers({\n    nfts: exploreNftsReducer\n})","import {combineReducers} from \"redux\";\nimport {profileNftsReducer} from \"./nfts/slice\";\n\nexport const profileReducer = combineReducers({\n    nfts: profileNftsReducer\n})\n","import {configureStore} from \"@reduxjs/toolkit\";\nimport {combineReducers} from \"redux\";\nimport {previewReducer} from \"./preview/reducer\";\nimport {navbarReducer} from \"./navbar/slice\";\nimport {exploreReducer} from \"./explore/reducer\";\nimport {profileReducer} from \"./profile/reducer\";\n\n\nexport const rootReducer = combineReducers({\n    navbar: navbarReducer,\n    profile: profileReducer,\n    preview: previewReducer,\n    explore: exploreReducer\n})\n\nexport const setupStore = () => {\n    return configureStore({\n        reducer: rootReducer\n    })\n}\n\nexport type RootState = ReturnType<typeof rootReducer>\nexport type AppStore = ReturnType<typeof setupStore>\nexport type AppDispatch = AppStore['dispatch']","import './index.css';\nimport React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport {BrowserRouter, HashRouter} from \"react-router-dom\";\nimport {Provider} from \"react-redux\";\nimport App from \"./App\";\nimport {setupStore} from \"./state/store\";\n\nconst store = setupStore()\n\nReactDOM.render(\n    <React.StrictMode>\n        <HashRouter>\n            <Provider store={store}>\n                <App/>\n            </Provider>\n        </HashRouter>\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n)","import {decode} from '@webassemblyjs/wasm-parser';\n\n/**\n * Converts a base64-encoded string to a byte array. Works in browser and Node\n * environments.\n *\n * @param strb64 base64 string\n * @returns Decoded byte array\n */\nfunction base64StringToUint8Array(strb64: string): Uint8Array {\n    if (typeof Buffer !== 'undefined') {\n        // Node\n        return Buffer.from(strb64, 'base64');\n    } else {\n        // Browser\n        return new Uint8Array(\n            atob(strb64.toString().trim())\n                .split('')\n                .map(c => c.charCodeAt(0)),\n        );\n    }\n}\n\n/**\n * Parse base64-encoded WASM into AST\n *\n * @param wasmb64 base64-encoded WASM binary\n * @returns WASM abstract syntax tree\n */\nexport function parseWasm(wasmb64: string): any {\n    return decode(base64StringToUint8Array(wasmb64));\n}\n"],"sourceRoot":""}