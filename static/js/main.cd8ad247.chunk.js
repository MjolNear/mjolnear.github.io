(this.webpackJsonpmarketplace=this.webpackJsonpmarketplace||[]).push([[0],{156:function(e,t,n){},170:function(e,t){},180:function(e,t){},281:function(e,t,n){"use strict";n.r(t);n(156);var r,a=n(1),c=n.n(a),s=n(68),i=n.n(s),o=n(19),l=n(70),u=n(12),d=n(40);!function(e){e.MAINNET="mainnet",e.TESTNET="testnet",e.DEVELOPMENT="development",e.BETANET="betanet",e.PRODUCTION="production",e.LOCAL="local",e.TEST="test",e.CI="ci",e.CI_BETANET="ci-betanet"}(r||(r={}));var m="market.mjol.near",j=function(e){switch(e){case r.PRODUCTION:case r.MAINNET:return{networkId:"mainnet",nodeUrl:"https://rpc.mainnet.near.org",contractName:m,walletUrl:"https://wallet.near.org",helperUrl:"https://helper.mainnet.near.org",explorerUrl:"https://explorer.mainnet.near.org"};case r.DEVELOPMENT:case r.TESTNET:return{networkId:"testnet",nodeUrl:"https://rpc.testnet.near.org",contractName:m,walletUrl:"https://wallet.testnet.near.org",helperUrl:"https://helper.testnet.near.org",explorerUrl:"https://explorer.testnet.near.org"};case r.BETANET:return{networkId:"betanet",nodeUrl:"https://rpc.betanet.near.org",contractName:m,walletUrl:"https://wallet.betanet.near.org",helperUrl:"https://helper.betanet.near.org",explorerUrl:"https://explorer.betanet.near.org"};case r.LOCAL:return{networkId:"local",nodeUrl:"http://localhost:3030",keyPath:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).HOME,"/.near/validator_key.json"),walletUrl:"http://localhost:4000/wallet",contractName:m};case r.TEST:case r.CI:return{networkId:"shared-test",nodeUrl:"https://rpc.ci-testnet.near.org",contractName:m,masterAccount:"test.near"};case r.CI_BETANET:return{networkId:"shared-test-staging",nodeUrl:"https://rpc.ci-betanet.near.org",contractName:m,masterAccount:"test.near"};default:throw Error("Unconfigured environment '".concat(e,"'. Can be configured in src/config.js."))}}(r.MAINNET),b=new d.Near(Object(u.a)({keyStore:new d.keyStores.BrowserLocalStorageKeyStore},j)),x=new d.WalletConnection(b,j.contractName),f=(new d.Contract(x.account(),j.contractName,{viewMethods:["get_nfts","get_user_nfts","get_nft_price"],changeMethods:["buy_with_payouts","remove_from_market"]}),function(){return x.getAccountId()}),p=function(){x.requestSignIn(j.contractName).then().catch()},h=n(29),g=n.n(h),O=new g.a("300000000000000"),v=new g.a("100000000000000000000000"),y=new g.a("1");function N(e){var t=e.contractId,n=e.methodName,r=e.args;return x.account().viewFunction(t,n,r)}var w=function(e){var t=e.contractId,n=e.methodName,r=e.args,a=e.gas,c=e.attachedDeposit,s=e.walletCallbackUrl;return x.account().functionCall({contractId:t,methodName:n,args:r,gas:a,attachedDeposit:c,walletCallbackUrl:s})};function k(e){var t=e.methodName,n=e.args;return N({contractId:m,methodName:t,args:n})}var _=function(e){var t=e.methodName,n=e.args,r=e.gas,a=void 0===r?O:r,c=e.attachedDeposit,s=void 0===c?v:c,i=e.walletCallbackUrl;return w({contractId:m,methodName:t,args:n,gas:a,attachedDeposit:s,walletCallbackUrl:i})},S=function(e,t,n){return k({methodName:"get_nfts_from_collection",args:{collection_id:e,from:t,limit:n}})},L=n(287),I=n(288);function C(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}var T=function(e){return"linear-gradient(to ".concat(e,", rgb(229, 232, 235), rgba(255, 255, 255, 0))")},E=n(103),F=n(86),U=n(2),M=function(){return Object(U.jsxs)(L.a.Button,{className:"bg-white rounded-md p-2 inline-flex nfts-center justify-center text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500",children:[Object(U.jsx)("span",{className:"sr-only",children:"Close menu"}),Object(U.jsx)(E.b,{className:"h-6 w-6","aria-hidden":"true"})]})},P=function(e){var t=e.isOpen,n=e.tabName;return Object(U.jsxs)(L.a.Button,{className:C(t?"text-gray-900":"text-cyan-700","group bg-light_white rounded-md inline-flex items-center text-lg font-extrabold hover:text-gray-900 focus:outline-none focus:bg-light_white"),children:[n,Object(U.jsx)(F.a,{className:C(t?"text-gray-900":"text-cyan-700","ml-2 h-5 w-5 group-hover:text-gray-900"),"aria-hidden":"true"})]})},A=function(){return Object(U.jsxs)(L.a.Button,{className:"bg-white rounded-md p-2 inline-flex nfts-center justify-center text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500",children:[Object(U.jsx)("span",{className:"sr-only",children:"Open menu"}),Object(U.jsx)(E.a,{className:"h-6 w-6","aria-hidden":"true"})]})},R=function(e){var t=e.name,n=e.tabs,r=e.isProfile;return Object(U.jsx)(L.a,{className:"relative",children:function(e){var c=e.isOpen;return Object(U.jsxs)("div",{children:[Object(U.jsx)(P,{isOpen:c,tabName:t}),Object(U.jsx)(I.a,{as:a.Fragment,enter:"transition ease-out duration-200",enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-1",children:Object(U.jsx)(L.a.Panel,{className:C(r?"-ml-20":"-ml-4","absolute z-10 -ml-4 mt-3 transform px-2"),children:Object(U.jsx)("div",{className:"rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 overflow-hidden",children:Object(U.jsx)("div",{className:"relative grid gap-6 bg-white px-5 py-6 sm:gap-8 sm:p-8",children:n.map((function(e){var t=e.path,n=e.name;return Object(U.jsx)(o.b,{to:t,children:Object(U.jsx)("div",{className:"cursor-pointer -m-3 p-3 flex items-start rounded-lg hover:bg-gray-100",children:Object(U.jsx)("p",{className:"text-medium font-medium text-gray-900",children:n})})},n)}))})})})})]},t)}})},D=n.p+"static/media/hammer.743d332f.png",B=n.p+"static/media/label6.5b6747ff.png";function J(e){var t=e.tabs;return Object(U.jsx)("div",{className:"grid grid-cols-2 gap-y-4 gap-x-8",children:t.map((function(e){var t=e.path,n=e.name;return Object(U.jsx)(U.Fragment,{children:"Launchpad"===n||"Docs"===n?Object(U.jsx)("div",{className:"cursor-not-allowed text-base font-medium text-gray-900 hover:text-gray-500",children:n}):Object(U.jsx)(o.b,{to:t,children:Object(U.jsx)("div",{className:"cursor-pointer text-base font-medium text-gray-900 hover:text-gray-500",children:n})},n)})}))})}var z=c.a.memo((function(e){var t=e.tabs,n=t.explore,r=t.create,c=t.profile,s=t.single;return Object(U.jsxs)(L.a,{className:"bg-white",children:[Object(U.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:Object(U.jsxs)("div",{className:"flex justify-between items-center py-6 md:justify-start md:space-x-10",children:[Object(U.jsx)("div",{className:"flex justify-start lg:w-0 lg:flex-1",children:Object(U.jsxs)(o.b,{to:"/",children:[Object(U.jsx)("img",{className:"inline-block h-8 w-auto sm:h-10",src:D,alt:""}),Object(U.jsx)("img",{className:"inline-block h-8 w-auto sm:h-10",src:B,alt:""})]})}),Object(U.jsx)("div",{className:"-mr-2 -my-2 md:hidden",children:Object(U.jsx)(A,{})}),Object(U.jsxs)(L.a.Group,{as:"nav",className:"hidden md:flex space-x-10",children:[Object(U.jsx)(R,{name:"Explore",tabs:n,isProfile:!1},"Explore"),Object(U.jsx)(R,{name:"Create",tabs:r,isProfile:!1},"Create"),s.map((function(e){var t=e.name;e.path;return Object(U.jsx)("div",{className:C("Launchpad"===t||"Docs"===t?"cursor-not-allowed":"cursor-pointer","text-lg font-extrabold text-cyan-700 hover:text-gray-900"),children:t})}))]}),x.isSignedIn()?Object(U.jsx)("div",{className:"hidden md:flex items-center justify-end md:flex-1 lg:w-0",children:Object(U.jsx)(R,{name:"Profile",tabs:c,isProfile:!0})}):Object(U.jsx)("div",{className:"hidden md:flex items-center justify-end md:flex-1 lg:w-0",children:Object(U.jsx)(o.b,{to:"/",onClick:p,className:"inline-flex justify-center py-1.5 px-4 font-bold text-lg font-large rounded-md text-white bg-gradient-to-br from-mjol-blue-base to-green-200 hover:from-green-200 hover:to-mjol-blue-base",children:"Sign in"})})]})}),Object(U.jsx)(I.a,{as:a.Fragment,enter:"duration-200 ease-out",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"duration-100 ease-in",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:Object(U.jsx)(L.a.Panel,{focus:!0,className:"absolute top-0 inset-x-0 p-2 transition transform origin-top-right md:hidden",children:Object(U.jsxs)("div",{className:"rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 bg-white divide-y-2 divide-gray-50",children:[Object(U.jsx)("div",{className:"pt-5 pb-6 px-5",children:Object(U.jsxs)("div",{className:"flex items-center justify-between",children:[Object(U.jsx)("div",{children:Object(U.jsx)(o.b,{to:"/",children:Object(U.jsx)("img",{className:"h-8 w-auto",src:D,alt:"logo"})})}),Object(U.jsx)("div",{className:"-mr-2",children:Object(U.jsx)(M,{})})]})}),Object(U.jsxs)("div",{className:"py-6 px-5 space-y-6",children:[Object(U.jsx)("div",{className:"text-cyan-700",children:"Explore:"}),Object(U.jsx)(J,{tabs:n})]},"Explore"),Object(U.jsxs)("div",{className:"py-6 px-5 space-y-6",children:[Object(U.jsx)("div",{className:"text-cyan-700",children:"Create:"}),Object(U.jsx)(J,{tabs:r})]},"Create"),Object(U.jsxs)("div",{className:"py-6 px-5 space-y-6",children:[Object(U.jsx)(J,{tabs:s}),x.isSignedIn()?Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)("div",{className:"grid grid-cols-2 gap-y-4 gap-x-8",children:[c.filter((function(e){return"Sign out"!==e.name})).map((function(e){var t=e.name,n=e.path;return Object(U.jsx)(o.b,{to:n,children:Object(U.jsx)("div",{className:"cursor-pointer text-base font-medium text-gray-900 hover:text-gray-500",children:t})},t)})),Object(U.jsx)(o.b,{to:"/signOut",className:"cursor-pointer col-span-2 text-center font-medium text-gray-500 hover:text-gray-700",children:"Log out"})]})}):Object(U.jsx)("div",{children:Object(U.jsx)(o.b,{to:"/",onClick:p,className:"cursor-pointer w-full py-2 flex items-center justify-center font-bold text-lg font-large rounded-md text-white bg-gradient-to-br from-mjol-blue-base to-green-200 hover:from-green-200 hover:to-mjol-blue-base",children:"Sign in"})})]})]})})})]})})),W=function(){return Object(l.b)()},Z=l.c,G=function(){var e=Z((function(e){return e.navbar.tabs}));return Object(U.jsx)(z,{tabs:e})},H=n(6),Y=function(){return Object(U.jsxs)("div",{className:"max-w-7xl mx-auto w-1/2 space-y-14 h-screen",children:[Object(U.jsx)("div",{className:"text-3xl text-left md:text-6xl font-extrabold text-transparent bg-clip-text bg-gradient-to-br from-mjol-blue-base to-green-200 flex-end",children:"Welcome to MjolNear"}),Object(U.jsx)("div",{className:"text-sm md:text-lg font-mono",children:"The first Open NFT marketplace on Near blockchain."})]})},V=function(){return Object(U.jsx)("div",{className:"px-8 py-8",children:Object(U.jsx)(Y,{})})},q=c.a.memo((function(){return Object(U.jsx)("img",{className:"max-w-3xl mx-auto",src:"https://cdn.dribbble.com/users/745025/screenshots/6723888/gif_404.gif",alt:"not found"})})),Q=n(7),K=function(e){var t=e.title,n=e.classes,r=void 0===n?void 0:n;return Object(U.jsx)("div",{className:"font-extrabold text-transparent bg-clip-text bg-gradient-to-br from-teal-900 to-mjol-blue-base "+(r||"text-center text-5xl md:text-6xl lg:text-7xl"),children:t})},X=c.a.memo((function(e){var t=e.size,n=void 0===t?30:t;return Object(U.jsx)("div",{className:"flex items-center justify-center w-full h-full",children:Object(U.jsx)("div",{style:{border:"4px solid #f3f3f3",borderTop:"4px solid #3498db",borderRadius:"50%",width:n,height:n,animation:"spin 1s linear infinite"}})})})),$=function(e){var t=e.children;return Object(U.jsx)("div",{className:"shadow-mjol-base-blue-drop-xl pt-10",children:t})},ee=function(e){return Object(U.jsx)("input",{type:e.type,name:e.id,id:e.id,className:"focus:border-cyan-500 flex-1 block w-full rounded-none rounded-md sm:text-sm border-gray-300",placeholder:e.text,minLength:e.minLength,maxLength:e.maxLength,onChange:function(t){return e.setState(t.target.value)}})},te=function(e){return Object(U.jsx)("input",{type:e.type,name:e.id,id:e.id,className:"peer focus:ring-indigo-500 focus:border-cyan-500 flex-1 block w-full rounded-none rounded-md sm:text-sm border-gray-300",placeholder:e.text,min:e.min,max:e.max,onChange:function(t){return e.setState(t.target.value)}})},ne=function(e){return Object(U.jsx)("div",{className:"grid grid-cols-3 gap-6",children:Object(U.jsxs)("div",{className:"sm:col-span-2 col-span-3",children:[Object(U.jsxs)("label",{className:"block font-bold text-sm text-gray-700",children:[e.name,e.required?Object(U.jsx)("b",{className:"text-sm font-large text-red-500",children:"*"}):Object(U.jsx)(U.Fragment,{}),e.extra_name?Object(U.jsx)("span",{className:"font-normal text-gray-400",children:e.extra_name}):Object(U.jsx)(U.Fragment,{})]}),Object(U.jsx)("div",{className:"mt-1 flex rounded-md shadow-sm",children:"text"===e.type?Object(U.jsx)(ee,{name:e.name,text:e.text,type:e.type,minLength:e.minLength,maxLength:e.maxLength,id:e.id,setState:e.setState}):Object(U.jsx)(te,{name:e.name,text:e.text,type:e.type,min:e.min,max:e.max,id:e.id,setState:e.setState})})]})})},re=function(e){return Object(U.jsxs)("div",{children:[Object(U.jsx)("label",{className:"block text-sm font-bold text-gray-700",children:e.name}),Object(U.jsx)("div",{className:"mt-1",children:Object(U.jsx)("textarea",{id:e.id,name:e.id,rows:e.rows,className:"shadow-sm focus:ring-indigo-500 focus:border-cyan-500 mt-1 block w-full sm:text-sm border border-gray-300 rounded-md",placeholder:e.text,defaultValue:"",maxLength:e.maxLength,onChange:function(t){return e.setState(t.target.value)}})})]})},ae=n.p+"static/media/doc-img.e24e74e9.png",ce=function(e){return Object(U.jsxs)("div",{children:[Object(U.jsxs)("label",{className:"block text-sm font-bold text-gray-700",children:[e.text,e.required?Object(U.jsx)("b",{className:"text-sm font-large text-red-500",children:"*"}):Object(U.jsx)(U.Fragment,{}),e.extra_text?Object(U.jsx)("span",{className:"font-normal text-gray-400",children:e.extra_text}):Object(U.jsx)(U.Fragment,{})]}),null===e.state?Object(U.jsx)("div",{className:"flex justify-center mt-1 px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:Object(U.jsxs)("div",{className:"space-y-1 text-center",children:["file"===e.type?Object(U.jsx)("svg",{className:"mx-auto h-12 w-12 text-red-500",height:"32px",viewBox:"0 0 32 32",width:"32px","aria-hidden":"true",children:Object(U.jsx)("g",{fill:"none",id:"Page-1",stroke:"none",children:Object(U.jsx)("g",{fill:"#929292",id:"icon-93-inbox-upload",children:Object(U.jsx)("path",{d:"M16,6 L12.75,9.25 L12,8.5 L16.5,4 L21,8.5 L20.25,9.25 L17,6 L17,17 L16,17 L16,6 L16,6 Z M21,19 L27.7750244,19 L23.4000244,12 L18,12 L18,11 L24,11 L29,19 L29,20 L29,28 L4,28 L4,19 L9,11 L15,11 L15,11 L15,12 L9.59997559,12 L5.22497559,19 L12,19 L12,21 C12,22.1045695 12.8958578,23 13.9973917,23 L19.0026083,23 C20.1057373,23 21,22.1122704 21,21 L21,19 L21,19 L21,19 Z",id:"inbox-upload"})})})}):Object(U.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:Object(U.jsx)("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),Object(U.jsx)("div",{className:"flex text-sm text-gray-600",children:Object(U.jsxs)("label",{htmlFor:e.id,className:"mx-auto cursor-pointer bg-white rounded-md font-medium text-blue-500 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500",children:[Object(U.jsxs)("span",{children:["Upload ",e.type]}),Object(U.jsx)("input",{id:e.id,name:e.id,type:"file",accept:e.accept,className:"sr-only",onChange:function(t){return e.setState(t.target.files[0])}})]})}),Object(U.jsx)("p",{className:"text-xs text-gray-500",children:e.file_text})]})}):Object(U.jsx)("div",{className:"flex justify-start mt-1 px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:Object(U.jsxs)("div",{className:"relative",children:["file"===e.type?Object(U.jsx)("img",{width:"100px",src:ae,alt:"file"}):Object(U.jsx)("img",{width:"100px",src:URL.createObjectURL(e.state),alt:"nft image"}),Object(U.jsx)("button",{className:"absolute top-0 right-0 -mx-2 -my-2 bg-gray-900 text-white rounded-full hover:bg-gray-500 cursor-pointer",onClick:function(){return e.setState(null)},children:Object(U.jsx)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:Object(U.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})})})]})})]})},se=n(5),ie=n(3),oe=n.n(ie),le=n(104);function ue(){return(ue=Object(se.a)(oe.a.mark((function e(t,n,r,a){var c;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=new le.a({token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkaWQ6ZXRocjoweDYzZDFBZDhCMWIzMjQyQjFjMkUwNjE2NzcyOUNmMGEwYmIyNDE1OTUiLCJpc3MiOiJuZnQtc3RvcmFnZSIsImlhdCI6MTY0MDExNjI4NTY3OSwibmFtZSI6InRldHMgZm9yIG9wZW4gbmZ0In0.gU_buy_gF4XUwptAU7Ck5_TSrfhZNLva5h2uWAusHNo"}),e.next=3,c.store({name:t,description:n,image:r,traits:a});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(e,t,n,r,a){return me.apply(this,arguments)}function me(){return(me=Object(se.a)(oe.a.mark((function e(t,n,r,a,c){var s;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new le.a({token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkaWQ6ZXRocjoweDYzZDFBZDhCMWIzMjQyQjFjMkUwNjE2NzcyOUNmMGEwYmIyNDE1OTUiLCJpc3MiOiJuZnQtc3RvcmFnZSIsImlhdCI6MTY0MDExNjI4NTY3OSwibmFtZSI6InRldHMgZm9yIG9wZW4gbmZ0In0.gU_buy_gF4XUwptAU7Ck5_TSrfhZNLva5h2uWAusHNo"}),e.next=3,s.store({name:t,description:n,image:r,bannerImage:a,traits:c});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function je(e){return e.startsWith("ipfs://")?"https://ipfs.io/ipfs/"+e.slice(7):""}var be=function(e){var t=e.state,n=e.setState;return Object(U.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[Object(U.jsx)("span",{className:"block sm:inline",children:t}),Object(U.jsx)("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:Object(U.jsxs)("svg",{className:"fill-current h-6 w-6 text-red-500",role:"button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",onClick:function(){return n("")},children:[Object(U.jsx)("title",{children:"Close"}),Object(U.jsx)("path",{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"})]})})]})},xe=function(){var e=Object(a.useState)(""),t=Object(Q.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),s=Object(Q.a)(c,2),i=s[0],o=s[1],l=Object(a.useState)(null),u=Object(Q.a)(l,2),d=u[0],m=u[1],j=Object(a.useState)(null),b=Object(Q.a)(j,2),f=b[0],p=b[1],h=Object(a.useState)(null),g=Object(Q.a)(h,2),y=g[0],N=g[1],k=Object(a.useState)(!1),_=Object(Q.a)(k,2),S=_[0],L=_[1],I=Object(a.useState)(""),C=Object(Q.a)(I,2),T=C[0],E=C[1],F=function(e){console.log(e);var t=je(e.data.image.href),r=(je(e.data.bannerImage.href),je(e.url));(function(e){return w({contractId:"mjol.near",methodName:"create_collection",args:{metadata:e},gas:O,attachedDeposit:v})})({title:n,desc:i,media:t,reference:r}).finally((function(){return L(!1)}))};return Object(U.jsx)(U.Fragment,{children:S?Object(U.jsx)(X,{size:50}):Object(U.jsxs)("div",{className:"bg-mjol-white",children:[Object(U.jsx)("div",{className:"bg-white",children:Object(U.jsx)($,{children:Object(U.jsx)("div",{className:"pb-10 px-4 space-y-8",children:Object(U.jsx)(K,{title:"Create Collection"})})})}),Object(U.jsx)("div",{className:"max-w-7xl py-10 mx-auto px-4 sm:px-6",children:Object(U.jsx)("form",{onSubmit:function(e){if(e.preventDefault(),E(""),x.isSignedIn())if(n.length<=30&&n.length>=3)if(i.length<=250)if(null!==d)if(console.log("Create Collection"),L(!0),null!==y){var t=new FileReader;t.onload=function(e){var t=JSON.parse(e.target.result);de(n,i,d,f,t).then((function(e){F(e),L(!1)}))},t.readAsText(y)}else de(n,i,d,f,y).then((function(e){F(e),L(!1)}));else E("Please upload your collection icon file");else E("Description length must be less than ".concat(250," characters"));else E("Title length must be between ".concat(3," and ").concat(30," characters"))},children:Object(U.jsxs)("div",{className:"shadow rounded-md overflow-hidden",children:[Object(U.jsxs)("div",{className:"px-4 py-5 bg-white space-y-6 p-6",children:[Object(U.jsx)(ne,{name:"Title",required:!0,text:"e.g. Super Punks",type:"text",minLength:3,maxLength:30,id:"collection-title",setState:r}),Object(U.jsx)(re,{name:"Description",text:"Brief description of your collection",maxLength:250,rows:3,id:"\u0441ollection-desc",setState:o}),Object(U.jsx)(ce,{text:"Upload collection's icon image",extra_text:" (200x200)",required:!0,type:"image",file_text:"PNG, JPG, GIF up to 10MB",accept:"image/gif, image/jpeg, image/png",state:d,setState:m,id:"upload-icon"}),Object(U.jsx)(ce,{text:"Upload collection's horizontal banner image",extra_text:" (1000x300)",required:!1,type:"image",file_text:"PNG, JPG up to 10MB",accept:"image/gif, image/jpeg, image/png",state:f,setState:p,id:"upload-banner"}),Object(U.jsx)(ce,{text:"Upload trait's JSON file",required:!1,type:"file",file_text:"JSON up to 10MB",accept:"application/JSON",state:y,setState:N,id:"upload-traits"}),""!==T?Object(U.jsx)(be,{state:T,setState:E}):Object(U.jsx)(U.Fragment,{})]}),Object(U.jsx)("div",{className:"px-4 py-3 bg-gray-50 text-left sm:px-6",children:Object(U.jsx)("button",{type:"submit",className:"inline-flex justify-center py-2 px-6 font-bold text-lg hover:text-gray-900 font-large rounded-md text-white bg-gradient-to-br from-mjol-blue-base to-green-200 hover:from-green-200 hover:to-mjol-blue-base",children:"Create"})})]})})})]})})},fe=n(15),pe=function(e){return Object(U.jsx)("div",{className:"grid grid-cols-6 gap-6",children:Object(U.jsxs)("div",{className:"col-span-6 sm:col-span-2",children:[Object(U.jsx)("label",{className:"block text-sm font-bold text-gray-700",children:e.name}),Object(U.jsx)("select",{id:e.id,name:e.id,className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-cyan-500 sm:text-sm",onChange:function(t){return e.setCurCollection(t.target.value)},children:e.myCollections.map((function(e){return Object(U.jsx)("option",{value:e[1],children:e[0]},e[1])}))}),Object(U.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:["If you want to mint NFT as part of your collection, you can",Object(U.jsx)("b",{className:"cursor-pointer",children:" create it"})]})]})})},he=function(e){return N({contractId:"mjol.near",methodName:"get_collections_by_owner_id",args:{owner_id:e}})};function ge(){return(ge=Object(se.a)(oe.a.mark((function e(t){return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Oe=n(54),ve=n(55),ye=function(){function e(){Object(Oe.a)(this,e)}return Object(ve.a)(e,null,[{key:"getJsonByURL",value:function(){var e=Object(se.a)(oe.a.mark((function e(t){var n;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{timeout:3e4});case 3:if((n=e.sent).ok){e.next=6;break}return e.abrupt("return",{error:n.statusText+" ("+n.status+")"});case 6:return e.prev=6,e.next=9,n.json();case 9:return e.abrupt("return",e.sent);case 12:return e.prev=12,e.t0=e.catch(6),e.abrupt("return",{error:"Unable to parse json response"});case 15:e.next=20;break;case 17:return e.prev=17,e.t1=e.catch(0),e.abrupt("return",{error:e.t1});case 20:case"end":return e.stop()}}),e,null,[[0,17],[6,12]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Ne(){return(Ne=Object(se.a)(oe.a.mark((function e(t){var n,r,a,c,s;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={},r=Object(fe.a)(t),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=12;break}return c=a.value,e.next=8,ye.getJsonByURL(c.reference);case 8:(s=e.sent).error||null===s.traits?n[c.collection_id]={}:n[c.collection_id]=s.traits;case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),r.e(e.t0);case 17:return e.prev=17,r.f(),e.finish(17);case 20:return e.abrupt("return",n);case 21:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})))).apply(this,arguments)}var we=n(22),ke=function(e){return Object(U.jsx)("select",{id:e.id,name:e.name,className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-cyan-500 sm:text-sm",onChange:function(t){return e.setCurValues(e.choosenValues.concat(Object(we.a)({},e.name,t.target.value)))},children:e.values.map((function(e){return Object(U.jsx)("option",{value:e,children:e},e)}))})},_e=function(e){var t=e.state,n=e.setState;return Object(U.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[Object(U.jsx)("span",{className:"block sm:inline",children:t}),Object(U.jsx)("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:Object(U.jsxs)("svg",{className:"fill-current h-6 w-6 text-red-500",role:"button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",onClick:function(){return n("")},children:[Object(U.jsx)("title",{children:"Close"}),Object(U.jsx)("path",{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"})]})})]})},Se=function(){var e=Object(a.useState)([]),t=Object(Q.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)({}),s=Object(Q.a)(c,2),i=s[0],o=s[1],l=Object(a.useState)([]),u=Object(Q.a)(l,2),d=u[0],m=u[1],j=Object(a.useState)("None"),b=Object(Q.a)(j,2),p=b[0],h=b[1],g=Object(a.useState)(""),y=Object(Q.a)(g,2),N=y[0],k=y[1],_=Object(a.useState)(""),S=Object(Q.a)(_,2),L=S[0],I=S[1],C=Object(a.useState)(0),T=Object(Q.a)(C,2),E=T[0],F=T[1],M=Object(a.useState)(null),P=Object(Q.a)(M,2),A=P[0],R=P[1],D=Object(a.useState)(!1),B=Object(Q.a)(D,2),J=B[0],z=B[1],W=Object(a.useState)(""),Z=Object(Q.a)(W,2),G=Z[0],H=Z[1];Object(a.useEffect)((function(){x.isSignedIn()&&function(e){return ge.apply(this,arguments)}(f()).then((function(e){console.log(e),function(e){return Ne.apply(this,arguments)}(e).then((function(e){o(e)})),r([["None","None"]].concat([].map.call(e,(function(e){return console.log(e.title,e.collection_id),[e.title,e.collection_id]}))))}))}),[]),Object(a.useEffect)((function(){console.log("CUR"),console.log(p),m([])}),[p]);return Object(U.jsx)(U.Fragment,{children:J?Object(U.jsx)(X,{size:50}):Object(U.jsxs)("div",{className:"bg-mjol-white",children:[Object(U.jsx)("div",{className:"bg-white",children:Object(U.jsx)($,{children:Object(U.jsx)("div",{className:"pb-10 px-4 space-y-8",children:Object(U.jsx)(K,{title:"Create NFT"})})})}),Object(U.jsx)("div",{className:"max-w-7xl py-10 mx-auto px-4 sm:px-6",children:Object(U.jsx)("form",{onSubmit:function(e){e.preventDefault(),H(""),x.isSignedIn()&&(N.length<=30&&N.length>=3?L.length<=250?E<=50&&E>=0?null!==A?(z(!0),function(e,t,n,r){return ue.apply(this,arguments)}(N,L,A,function(){var e,t={},n=Object(fe.a)(d);try{for(n.s();!(e=n.n()).done;){var r=e.value,a=Object.keys(r)[0];"None"===r[a]?delete t[a]:t[a]=r[a]}}catch(c){n.e(c)}finally{n.f()}return t}()).then((function(e){console.log(e);var t=je(e.data.image.href),n=je(e.url),r={title:N,description:L,media:t,reference:n,copies:1},a=null;0!==E&&((a={payout:{}}).payout[f()]=(100*E).toString()),function(e,t,n){var r={token_owner_id:f(),token_metadata:e};null!==t&&(r.payout=t),null!==n&&(r.collection_id=n),w({contractId:"mjol.near",methodName:"nft_mint",args:r,gas:O,attachedDeposit:v})}(r,a,"None"===p?null:p),z(!1)})).catch((function(e){H("Error: Can't upload file to ipfs, try again or contact to our support"),z(!1),console.log(e)}))):H("Please upload your NFT file"):H("Royalty must be less than ".concat(50)):H("Description length must be less than ".concat(250," characters")):H("Title length must be between ".concat(3," and ").concat(30," characters")))},children:Object(U.jsxs)("div",{className:"shadow rounded-md overflow-hidden",children:[Object(U.jsxs)("div",{className:"px-4 py-5 bg-white space-y-6 p-6",children:[Object(U.jsx)(ne,{name:"Title",required:!0,text:"My NFT",type:"text",minLength:3,maxLength:30,id:"mint-title",setState:k}),Object(U.jsx)(re,{name:"Description",text:"Brief description for your NFT",maxLength:250,rows:3,id:"mint-desc",setState:I}),Object(U.jsx)(ne,{name:"Royalty",text:"Royalties on secondary sales(%), number from 0-50",type:"number",min:0,max:50,id:"mint-royalty",setState:F}),Object(U.jsx)(pe,{name:"Collection of NFT",myCollections:n,id:"mint-collection",curCollection:p,setCurCollection:h}),"None"!==p&&Object.keys(i[p]).length>0?Object(U.jsxs)("div",{children:[Object(U.jsx)("label",{className:"block text-sm font-bold text-gray-700",children:"Traits:"}),Object(U.jsx)("div",{className:"py-2 grid grid-cols-4 gap-4",children:Object.keys(i[p]).map((function(e){return Object(U.jsxs)("div",{className:"sm:col-span-1 col-span-4",children:[Object(U.jsx)("p",{className:"px-2 text-sm font-bold text-gray-700",children:e}),Object(U.jsx)(ke,{name:e,values:["None"].concat(i[p][e]),id:e,choosenValues:d,setCurValues:m})]})}))})]}):Object(U.jsx)(U.Fragment,{}),Object(U.jsx)(ce,{text:"Upload artwork file",required:!0,type:"image",file_text:"PNG, JPG, GIF up to 10MB",accept:"image/gif, image/jpeg, image/png",state:A,setState:R,id:"upload-file"}),""!==G?Object(U.jsx)(_e,{state:G,setState:H}):Object(U.jsx)(U.Fragment,{})]}),Object(U.jsx)("div",{className:"px-4 py-3 bg-gray-50 text-left sm:px-6",children:Object(U.jsx)("button",{type:"submit",className:"inline-flex justify-center py-2 px-6 font-bold text-lg hover:text-gray-900 font-large rounded-md text-white bg-gradient-to-br from-mjol-blue-base to-green-200 hover:from-green-200 hover:to-mjol-blue-base",children:"Mint"})})]})})})]})})},Le=function(){return Object(U.jsx)("div",{children:"Explore collections"})},Ie=n(35),Ce={payouts:{},fetching:!0},Te=Object(Ie.b)({name:"preview-nft",initialState:Ce,reducers:{success:function(e,t){e.nft=t.payload},failure:function(e){e.nft=void 0},toggleFetching:function(e,t){e.fetching=t.payload},setPayouts:function(e,t){e.payouts=t.payload},reset:function(){return Ce}}}),Ee=Te.reducer,Fe=function(e){return null===e?null:Me(e)},Ue=function(e,t){var n=t[e];return void 0===n?null:n},Me=function(e){var t=e.toLocaleString("fullwide",{useGrouping:!1});return d.utils.format.formatNearAmount(t)},Pe=function(e,t){return"".concat(e,":").concat(t)};n(50),Object.freeze({nep171:{id:"nep171",name:"NFT Core (NEP-171)",methods:[{name:"nft_transfer",args:[{name:"receiver_id",type:"string"},{name:"token_id",type:"string"},{name:"approval_id",type:["number","null"]},{name:"memo",type:["string","null"]}]},{name:"nft_transfer_call",args:[{name:"receiver_id",type:"string"},{name:"token_id",type:"string"},{name:"approval_id",type:["number","null"]},{name:"memo",type:["string","null"]},{name:"msg",type:"string"}]},{name:"nft_token",args:[{name:"token_id",type:"string"}]}]},nep177:{id:"nep177",name:"NFT Metadata (NEP-177)",methods:[{name:"nft_metadata",args:[]}]},nep178:{id:"nep178",name:"NFT Approval Management (NEP-178)",methods:[{name:"nft_approve",args:[{name:"token_id",type:"string"},{name:"account_id",type:"string"},{name:"msg",type:["string","null"]}]},{name:"nft_revoke",args:[{name:"token_id",type:"string"},{name:"account_id",type:"string"}]},{name:"nft_revoke_all",args:[{name:"token_id",type:"string"}]},{name:"nft_is_approved",args:[{name:"token_id",type:"string"},{name:"approved_account_id",type:"string"},{name:"approval_id",type:["number","null"]}]}]},nep181:{id:"nep181",name:"Non-Fungible Token Enumeration (NEP-181)",methods:[{name:"nft_total_supply",args:[]},{name:"nft_tokens",args:[{name:"from_index",type:["string","null"]},{name:"limit",type:["number","null"]}]},{name:"nft_supply_for_owner",args:[{name:"account_id",type:"string"}]},{name:"nft_tokens_for_owner",args:[{name:"account_id",type:"string"},{name:"from_index",type:["string","null"]},{name:"limit",type:["number","null"]}]}]},nep199:{id:"nep199",name:"Standard for a Multiple-Recipient-Payout mechanic on NFT Contracts (NEP-199)",methods:[{name:"nft_payout",args:[{name:"token_id",type:"string"},{name:"balance",type:"U128"},{name:"max_len_payout",type:"u32"}]},{name:"nft_transfer_payout",args:[{name:"receiver_id",type:"AccountId"},{name:"token_id",type:"string"},{name:"approval_id",type:"u64"},{name:"balance",type:"U128"},{name:"max_len_payout",type:"u32"}]}]}});n(83);function Ae(){return(Ae=Object(se.a)(oe.a.mark((function e(t,n){var r,a,c,s;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.timeout,a=new AbortController,c=setTimeout((function(){return a.abort()}),r),e.next=5,fetch(t,Object(u.a)(Object(u.a)({},n),{},{signal:a.signal}));case 5:return s=e.sent,clearTimeout(c),e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Re,De=function(e){return function(e,t){return Ae.apply(this,arguments)}("https://helper.mainnet.near.org/account/".concat(e,"/likelyNFts"),{timeout:8e3}).then((function(e){return e.json()})).catch((function(){return[]}))};!function(e){e.MJOL="mjol.near",e.PARAS="x.paras.near",e.MINTBASE="mintbase.near",e.MINTBASE1="mintbase1.near"}(Re||(Re={}));var Be=n(255);function Je(e,t,n){var r="https://ipfs.fleek.co/ipfs/";if(n&&n.endsWith("mintbase1.near")&&(r="https://arweave.net/"),e){if(e.startsWith("http"))return e;if(Be.cid(e))return r+e}return t&&Be.cid(t)?r+t:null}function ze(e,t){if(t===Re.PARAS){var n=e.token_id.split(":")[0];return{name:"Paras",nftLink:"https://paras.id/token/x.paras.near::".concat(n,"/").concat(e.token_id)}}return t.endsWith("mintbase1.near")?{name:"Mintbase",nftLink:"https://www.mintbase.io/thing/".concat(e.metadata.reference,":").concat(t)}:t.endsWith("mjol.near")?{name:"MjolNear",nftLink:"https://mjolnear.com/nft/".concat(t,"/").concat(e.token_id)}:{name:"unsupported contract",nftLink:""}}function We(e,t,n){var r=t.metadata,a=Je(r.media,r.media_hash,e);if(!a)return Promise.reject("Standard NFT has no media URL");var c=Pe(e,t.token_id);return Promise.resolve({contractId:e,tokenId:t.token_id||t.id,ownerId:t.owner_id,title:r.title,description:r.description,copies:r.copies,mediaURL:a,referenceURL:Je(r.reference,r.reference_hash,e),mintSite:ze(t,e),price:Ue(c,n)})}function Ze(e,t,n){return Ge.apply(this,arguments)}function Ge(){return(Ge=Object(se.a)(oe.a.mark((function e(t,n,r){var a,c,s,i,o;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.metadata,e.next=3,N({contractId:t,methodName:"nft_token_uri",args:{token_id:n.id.toString()}});case 3:return c=e.sent,e.next=6,ye.getJsonByURL(c);case 6:if(s=e.sent,i=Je(s.media,s.media_hash,t)){e.next=10;break}return e.abrupt("return",Promise.reject("Mintbase NFT has no media URL"));case 10:return o=Pe(t,n.id.toString()),e.abrupt("return",Promise.resolve({contractId:t,tokenId:n.id.toString(),ownerId:n.owner_id.Account,title:s.title,description:s.description,copies:a.copies,mediaURL:i,referenceURL:Je(n.metadata.reference,n.metadata.reference_hash,t),mintSite:ze(n,t),price:Ue(o,r)}));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function He(e,t,n){return Ye.apply(this,arguments)}function Ye(){return(Ye=Object(se.a)(oe.a.mark((function e(t,n,r){return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.endsWith("mintbase1.near")){e.next=2;break}return e.abrupt("return",Ze(t,n,r));case 2:return e.abrupt("return",We(t,n,r));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ve=function(e,t){return N({contractId:e,methodName:"nft_token",args:{token_id:t}})},qe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return N({contractId:e,methodName:"nft_tokens_for_owner",args:{account_id:t,from_index:r.toString(),limit:n}})},Qe=function(e,t){return N({contractId:e,methodName:"nft_payout",args:{token_id:t,balance:"100000000",max_len_payout:10}})},Ke=function(e,t){return N({contractId:e,methodName:"nft_royalties",args:{token_id:t,max_len_payout:10}})},Xe=function(e,t){return k({methodName:"get_nfts",args:{from:e,limit:t}}).catch((function(){return{tokens:[],has_next_batch:!1,total_count:0}}))},$e=function(e){var t={};return k({methodName:"get_user_nfts",args:{owner_id:e}}).then((function(e){return e.forEach((function(e){var n=Pe(e.nft_contract_id,e.token_id);t[n]=Me(e.price)})),t})).catch((function(){return t}))},et=function(e,t){var n=Pe(e,t);return k({methodName:"get_nft_price",args:{token_uid:n}}).then((function(e){return Object(we.a)({},n,Fe(e))}))};function tt(e,t){return nt.apply(this,arguments)}function nt(){return(nt=Object(se.a)(oe.a.mark((function e(t,n){var r,a;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],a=[],e.next=4,Promise.all(t.map((function(e){return n(e).then((function(e){return{value:e}})).catch((function(e){return{error:e}}))})));case 4:return e.sent.forEach((function(e){return"error"in e?a.push(e.error):r.push(e.value)})),e.abrupt("return",{values:r,errors:a});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var rt=function(){var e=Object(se.a)(oe.a.mark((function e(t,n){var r,a;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve(t,n);case 2:return r=e.sent,e.next=5,et(t,n);case 5:return a=e.sent,e.abrupt("return",He(t,r,a));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function at(e,t){return ct.apply(this,arguments)}function ct(){return(ct=Object(se.a)(oe.a.mark((function e(t,n){var r;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=2,"mjol.near"!==t){e.next=3;break}return e.abrupt("return",Ke(t,n).then((function(e){var t={treasury:r};for(var n in e)t[n]=parseInt(e[n])/100;return delete t[void 0],t})));case 3:return e.abrupt("return",Qe(t,n).then((function(e){var t={treasury:r},n=null;for(var a in e.payout){var c=parseInt(e.payout[a])/1e6;(!n||n[1]<c)&&(n=[a,c]),t[a]=c}return n&&delete t[n[0]],delete t[void 0],t})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function st(e){for(var t=0,n=["mjol.near"];t<n.length;t++){var r=n[t];e.includes(r)||e.push("mjol.near")}return e}function it(e){return ot.apply(this,arguments)}function ot(){return(ot=Object(se.a)(oe.a.mark((function e(t){var n,r,a;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De(t);case 2:return n=st(n=e.sent),e.next=6,$e(t);case 6:return r=e.sent,a=function(e){return qe(e,t).then((function(t){return tt(t,(function(t){return He(e,t,r)})).then((function(e){return e.values}))}))},e.abrupt("return",tt(n,a).then((function(e){return e.values.flat()})));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var lt=function(e){return function(t){return Object(U.jsx)(e,Object(u.a)(Object(u.a)({},t),{},{accountId:x.getAccountId(),signedIn:x.isSignedIn()}))}},ut=c.a.memo((function(e){var t=e.link;return Object(U.jsx)("div",{className:"justify-self-center md:justify-self-end w-full max-w-2xl",children:Object(U.jsx)("img",{src:t,alt:"media not supported",className:"w-full max-h-xl object-contain"})})})),dt=c.a.memo((function(e){var t=e.color,n=void 0===t?"bg-black":t;return Object(U.jsx)("div",{className:n+" h-px"})}));function mt(e){var t=e.buttonContent,n=e.children,r=e.initialVisible,c=void 0!==r&&r,s=Object(a.useState)(c),i=Object(Q.a)(s,2),o=i[0],l=i[1];return Object(U.jsxs)("div",{children:[Object(U.jsxs)("button",{onClick:function(){return l(!o)},className:C(o?"rounded-t-lg":"rounded-lg","group flex justify-between p-5 w-full text-md font-semibold text-left bg-blue-100"),children:[t,Object(U.jsx)(F.b,{className:C(o?"":"rotate-180","transform duration-200 w-6 h-6 text-gray-500 group-hover:text-black")})]}),o&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("div",{className:"px-2 bg-blue-100",children:Object(U.jsx)(dt,{color:"bg-gray-600"})}),n]})]})}var jt,bt=function(e){var t=e.icon,n=e.text;return Object(U.jsxs)("div",{className:"gap-2 flex flex-row items-center",children:[t,n]})},xt=n(146),ft=n(147),pt=n(148),ht=n(149),gt=n(150),Ot=function(e,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:yt,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return e<0||e>n?r:t/100*e},vt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:yt,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:4;return Ot(e,t,n,r,a).toLocaleString("en-US",{maximumFractionDigits:c})},yt=1e7,Nt=n(145),wt=c.a.memo((function(e){var t=e.name,n=e.value,r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15;return e.length>n?e.slice(0,t)+".."+e.slice(-t):e}(n);return Object(U.jsxs)("div",{className:"flex flex-row justify-between",children:[Object(U.jsx)("div",{className:"font-semibold",children:t}),Object(U.jsx)("p",{className:"cursor-pointer","data-tip":n,onClick:function(){return navigator.clipboard.writeText(n)},children:r}),Object(U.jsx)(Nt.a,{className:"text-sm",type:"dark",place:"bottom",delayShow:200})]})})),kt=wt,_t=function(e){var t=e.attributes;return Object(U.jsx)("div",{children:0===t.length?Object(U.jsx)("div",{children:"Not found"}):t.map((function(e){return Object(U.jsx)(kt,{name:e.name,value:e.value},e.name)}))})},St=c.a.memo((function(e){var t=e.title;return Object(U.jsx)("div",{className:"font-extrabold text-mjol-purple-dark text-lg md:text-xl",children:t})})),Lt=function(){return Object(U.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"30",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"tw-mr-1",color:"black",children:[Object(U.jsx)("circle",{cx:"18",cy:"5",r:"3"}),Object(U.jsx)("circle",{cx:"6",cy:"12",r:"3"}),Object(U.jsx)("circle",{cx:"18",cy:"19",r:"3"}),Object(U.jsx)("line",{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"}),Object(U.jsx)("line",{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"})]})},It=c.a.memo((function(e){var t=e.name,n=e.link;return Object(U.jsxs)("div",{className:"flex flex-row justify-between",children:[Object(U.jsx)("div",{className:"text-md md:text-lg font-bold text-mjol-purple-dark-t hover:bg-opacity-80 text-center",children:Object(U.jsx)(o.b,{to:n,children:t})}),Object(U.jsx)(Lt,{})]})})),Ct=function(e){var t=e.nft,n=e.payouts,r=e.statusElement,a=[{name:"Owner ID",value:t.ownerId||"Not found"},{name:"Token ID",value:t.tokenId||"Not found"},{name:"Contract",value:t.contractId||"Not found"}],c=Object.entries(n).map((function(e){var t=Object(Q.a)(e,2),n=t[0],r=t[1];return{name:n,value:"".concat(r,"%")}})),s=[{name:"Description",element:t.description||"Not found",icon:Object(U.jsx)(xt.a,{})},{name:"Attributes",element:Object(U.jsx)(_t,{attributes:a}),icon:Object(U.jsx)(ft.a,{})},{name:"Royalties",element:Object(U.jsx)(_t,{attributes:c}),icon:Object(U.jsx)(pt.a,{})},{name:"History",element:"Not found",icon:Object(U.jsx)(ht.a,{})},{name:"Traits",element:"Not found",icon:Object(U.jsx)(gt.a,{})}];return Object(U.jsxs)("div",{className:"space-y-5 md:max-w-xl",children:[Object(U.jsxs)("div",{children:[Object(U.jsx)(St,{title:t.title}),Object(U.jsx)(It,{name:"MOCK",link:""})]}),r,Object(U.jsx)("div",{className:"space-y-3",children:s.map((function(e){return Object(U.jsx)(mt,{buttonContent:Object(U.jsx)(bt,{icon:e.icon,text:e.name}),children:Object(U.jsx)("div",{className:"rounded-b-lg w-full bg-blue-100 text-black font-medium text-sm px-5 py-2",children:e.element})},e.name)}))})]})};!function(e){e.LISTED="LISTED",e.CAN_SELL="CAN_SELL",e.CAN_BUY="CAN_BUY",e.FREE="FREE",e.NOT_SUPPORTED="NOT_SUPPORTED"}(jt||(jt={}));var Tt=n(56),Et=["title"],Ft=function(e){var t=e.title,n=Object(Tt.a)(e,Et);return Object(U.jsx)("button",Object(u.a)(Object(u.a)({},n),{},{className:"w-full text-white font-extrabold bg-gradient-to-l from-blue-500 to-blue-800 rounded-lg px-10 py-2 hover:from-blue-600 hover:to-blue-800 hover:shadow-mjol-gray-xs disabled:opacity-50 disabled:cursor-not-allowed",children:t}))},Ut=function(){return Object(U.jsx)(Ft,{title:"Connect to NEAR",onClick:p})},Mt=function(e){var t=e.text,n=e.classes,r=void 0===n?void 0:n;return Object(U.jsx)("div",{className:"text-transparent bg-clip-text bg-gradient-to-bl from-blue-500 to-blue-800 "+(r||"text-center font-extrabold font-sm"),children:t})},Pt=n.p+"static/media/near-protocol-near-logo.3c418991.svg",At=c.a.memo((function(e){var t=e.size,n=void 0===t?15:t;return Object(U.jsx)("img",{width:n,height:n,src:Pt,alt:"near"})})),Rt=c.a.memo((function(e){var t=e.price;return Object(U.jsxs)("div",{className:"flex items-center gap-2 text-xl",children:[Object(U.jsx)(Mt,{text:t}),Object(U.jsx)(At,{})]})}));var Dt=function(e){return function(t){return Object(U.jsxs)("div",{className:"rounded-lg px-5 py-2 space-y-2 bg-blue-100",children:[Object(U.jsx)(Rt,{price:t.price}),Object(U.jsx)(e,Object(u.a)({},t))]})}},Bt=Dt((function(e){return Object(U.jsx)(Ft,Object(u.a)({title:"Buy NFT"},e))})),Jt={pending:void 0,success:void 0},zt=Object(Ie.b)({name:"market-nft-transaction",initialState:Jt,reducers:{commit:function(e){e.pending=!0},success:function(e){e.success=!0,e.pending=!1},failure:function(e){e.success=!1,e.pending=!1},reset:function(){return Jt}}});zt.reducer;function Wt(e,t,n,r){var a=d.utils.format.parseNearAmount(n.toString()),c={contract_id:r.contractId,token_id:r.tokenId,owner_id:r.ownerId,title:r.title,description:r.description,copies:r.copies?r.copies.toString():"1",media_url:r.mediaURL,reference_url:r.referenceURL,mint_site:r.mintSite?{name:r.mintSite.name,nft_link:r.mintSite.nftLink}:{name:"",nft_link:""},price:a};return console.log(JSON.stringify({json_nft:c})),w({contractId:e,methodName:"nft_approve",args:{token_id:t,account_id:m,msg:JSON.stringify({json_nft:c})},gas:O,attachedDeposit:v})}function Zt(e,t,n){var r=d.utils.format.parseNearAmount(n)||"0";return _({methodName:"buy_with_payouts",args:{nft_contract_id:e,token_id:t},gas:O,attachedDeposit:new g.a(r)})}function Gt(e,t){return _({methodName:"remove_from_market",args:{nft_contract_id:e,token_id:t},gas:O,attachedDeposit:y})}var Ht=function(e){var t=e.close,n=void 0===t?function(){}:t,r=e.closeOnBgClick,c=void 0===r||r,s=e.closeOnEscape,i=void 0===s||s,o=e.children,l=e.style,d=void 0===l?{}:l,m=Object(a.useRef)(null);Object(a.useEffect)((function(){var e=function(e){"Escape"===e.key&&n()};return i&&document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[]);return Object(U.jsx)("div",{ref:m,onClick:function(e){c&&e.target===m.current&&n()},className:"fixed inset-0 z-50 flex items-center p-4",style:Object(u.a)({backgroundColor:"rgba(0, 0, 0, 0.8)"},d),children:o})},Yt=n(152),Vt=n(151),qt=function(e){var t=e.name,n=e.value;return Object(U.jsxs)("div",{className:"mt-2 text-black font-bold flex items-center justify-between",children:[Object(U.jsx)("span",{children:t}),Object(U.jsxs)("span",{className:"flex gap-2 items-center",children:[Object(U.jsx)("span",{children:n}),Object(U.jsx)(At,{})]})]})},Qt=["treasury"],Kt=function(e){var t=e.price,n=e.payouts,r=n.treasury,a=Object(Tt.a)(n,Qt),c=Object.values(a).reduce((function(e,t){return e+t}),0),s=100-r-c;return Object(U.jsxs)("div",{className:"py-3",children:[Object(U.jsx)(qt,{name:"Receive:",value:vt(t,s)}),Object(U.jsx)(qt,{name:"Fee:",value:vt(t,r)}),Object(U.jsx)(qt,{name:"Royalty:",value:vt(t,c)})]})},Xt=function(e){var t,n=e.close,r=e.onClick,a=e.payouts,c=e.imgSrc,s=function(){n(),m()},i=Object(Vt.a)({mode:"onChange",defaultValues:{price:""}}),o=i.register,l=i.watch,d=i.handleSubmit,m=i.reset,j=i.formState,b=j.isValid,x=j.errors,f=function(e){var t=e.price;r(t),s()},p=l("price");return Object(U.jsx)(Ht,{close:s,children:Object(U.jsxs)("div",{className:"max-w-xs md:max-w-lg p-4 bg-gray-100 mx-2 xs:mx-auto rounded-md relative",children:[Object(U.jsx)("div",{className:"absolute right-0 top-0 pr-4 pt-4",children:Object(U.jsx)(Yt.a,{onClick:s,className:"cursor-pointer",size:20})}),Object(U.jsx)(Mt,{text:"List NFT for sale",classes:"text-2xl text-left font-black pb-4 text-center"}),Object(U.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[Object(U.jsx)("form",{onSubmit:d(f),children:Object(U.jsxs)("div",{className:"flex flex-col justify-between h-full",children:[Object(U.jsxs)("div",{className:"space-y-1",children:[Object(U.jsx)("div",{className:"text-sm text-gray-900 font-semibold",children:"Price"}),Object(U.jsxs)("div",{className:"flex justify-between gap-3",children:[Object(U.jsx)("input",Object(u.a)({min:"0",className:" w-full px-3 py-2 rounded-lg border-transparent text-gray-800 text-base bg-black bg-opacity-5 focus:bg-opacity-10 focus:text-black focus:border-transparent focus:ring-0 ",type:"number",step:"any",placeholder:"NFT price"},o("price",{required:!0,max:{value:yt,message:"Maximum price is ".concat(yt," \u24c3")},min:{value:0,message:"Minimum price is 0 \u24c3"}}))),Object(U.jsx)(At,{})]}),!b&&Object(U.jsx)("div",{className:"hidden md:block pt-1 text-center text-gray-700 text-xs font-semibold",children:null===x||void 0===x||null===(t=x.price)||void 0===t?void 0:t.message})]}),Object(U.jsx)(Kt,{price:p,payouts:a})]})}),Object(U.jsx)("img",{src:c,alt:"loading",className:"hidden md:block rounded-2xl",style:{width:"100%",objectFit:"contain",aspectRatio:"1/1"}})]}),Object(U.jsxs)("div",{className:"items-center flex flex-col",children:[Object(U.jsx)("p",{className:"text-black mt-4 text-sm text-center opacity-60",children:"You will be redirected to NEAR Web Wallet to confirm your transaction."}),Object(U.jsx)("div",{className:"mt-6",children:Object(U.jsx)(Ft,{title:"Complete listing",disabled:!b,onClick:function(){return d(f)(p)},style:{width:"300px"}})})]})]})})},$t=function(e){var t=e.onClick,n=e.payouts,r=e.imgSrc,c=Object(a.useState)(!1),s=Object(Q.a)(c,2),i=s[0],o=s[1];return Object(U.jsxs)("div",{children:[Object(U.jsx)(Ft,{title:"Sell NFT",onClick:function(){return o(!i)}}),i&&Object(U.jsx)(Xt,{close:function(){return o(!1)},onClick:t,payouts:n,imgSrc:r})]})},en=Dt((function(e){return Object(U.jsx)(Ft,Object(u.a)({title:"Unlist NFT"},e))})),tn=function(){return Object(U.jsxs)("div",{className:"text-center rounded-2xl bg-gray-900 p-2 font-medium text-md md:text-lg text-blue-300",children:["Nft contract not supported",Object(U.jsx)("div",{className:"text-xs text-blue-900",children:"See here for more information about supported NFTs."})]})},nn=function(){return Object(U.jsx)("div",{className:"text-center rounded-lg bg-gray-900 p-2 font-medium text-md md:text-lg text-blue-300",children:"Nft not listed on market"})},rn=lt((function(e){var t=e.accountId,n=Object(H.g)(),r=n.contractId,c=n.tokenId,s=Z((function(e){return e.preview.nft})),i=s.nft,o=s.fetching,l=s.payouts,u=W();if(!r||!c)return Object(U.jsx)(q,{});if(Object(a.useEffect)((function(){return u(function(e,t){return function(){var n=Object(se.a)(oe.a.mark((function n(r){return oe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r(Te.actions.toggleFetching(!0)),Promise.all([rt(e,t).then((function(e){return r(Te.actions.success(e))})).catch((function(){return r(Te.actions.failure())})),at(e,t).then((function(e){return r(Te.actions.setPayouts(e))}))]).finally((function(){return r(Te.actions.toggleFetching(!1))}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(r,c)),function(){u(Te.actions.reset())}}),[t]),o)return Object(U.jsx)(X,{});if(!i)return Object(U.jsx)(q,{});return Object(U.jsxs)("div",{className:"grid md:grid-cols-2 gap-8 min-h-screen bg-mjol-white p-5 xs:p-10 md:items-start",children:[Object(U.jsx)(ut,{link:i.mediaURL}),Object(U.jsx)(Ct,{nft:i,payouts:l,statusElement:function(){if(!t)return Object(U.jsx)(Ut,{});var e=function(e,t){var n=null!==t.price;return e===t.ownerId?n?jt.LISTED:jt.CAN_SELL:n?jt.CAN_BUY:jt.FREE}(t,i);switch(e){case jt.CAN_BUY:return Object(U.jsx)(Bt,{price:i.price,onClick:function(){return u(function(e,t,n){return function(){var r=Object(se.a)(oe.a.mark((function r(a){return oe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:a(zt.actions.commit()),Zt(e,t,n).then((function(){return a(zt.actions.success())})).catch((function(){return a(zt.actions.failure())}));case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}(r,c,i.price||""))}});case jt.CAN_SELL:return Object(U.jsx)($t,{imgSrc:i.mediaURL,payouts:l,onClick:function(e){return u(function(e,t,n,r){return function(){var a=Object(se.a)(oe.a.mark((function a(c){return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:c(zt.actions.commit()),Wt(e,t,n,r).then((function(){return c(zt.actions.success())})).catch((function(){return c(zt.actions.failure())}));case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(r,c,e,i))}});case jt.LISTED:return Object(U.jsx)(en,{price:i.price,onClick:function(){return u(function(e,t){return function(){var n=Object(se.a)(oe.a.mark((function n(r){return oe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r(zt.actions.commit()),Gt(e,t).then((function(){return r(zt.actions.success())})).catch((function(){return r(zt.actions.failure())}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(r,c))}});case jt.NOT_SUPPORTED:return Object(U.jsx)(tn,{});case jt.FREE:return Object(U.jsx)(nn,{})}}()})]})})),an=function(){var e=Object(H.f)();return Object(a.useEffect)((function(){x.signOut(),e("/")}),[]),Object(U.jsx)(X,{})},cn=n(153),sn=function(e){var t=e.placeholder;e.isTyping,e.onCancel,e.onSearch;return Object(U.jsxs)("div",{className:"flex text-xs xs:text-md",children:[Object(U.jsx)("input",{className:"rounded-l-3xl w-full sm:w-88 focus:outline-0 outline-none py-2 px-5 ring-1 ring-inset ring-blue-100",placeholder:t,type:"search"}),Object(U.jsx)("div",{className:"rounded-r-3xl px-5 bg-gradient-to-b from-blue-400 to-blue-900 grid place-items-center cursor-pointer",children:Object(U.jsx)(cn.a,{color:"white"})})]})},on=function(){return Object(U.jsx)($,{children:Object(U.jsxs)("div",{className:"pb-10 px-4 space-y-8",children:[Object(U.jsx)(K,{title:"Explore NFTs"}),Object(U.jsx)("div",{className:"flex justify-center",children:Object(U.jsx)(sn,{placeholder:"Search by NFT name"})})]})})},ln=n(154),un=["size"],dn=c.a.memo((function(e){var t=e.size,n=void 0===t?300:t,r=Object(Tt.a)(e,un),a=function(e){return"linear-gradient(to ".concat(e,", rgb(229, 232, 235), rgba(255, 255, 255, 0))")};return Object(U.jsx)("div",Object(u.a)(Object(u.a)({},r),{},{children:Object(U.jsxs)("div",{className:"flex flex-col ring-1 rounded-xl ring-gray-200 overflow-hidden pulse-animation w-full transform hover:shadow-mjol-gray-xs hover:ring-inset",children:[Object(U.jsx)("div",{style:{width:n,height:n,background:a("right")}}),Object(U.jsxs)("div",{className:"py-2 px-2 xxs:px-5 space-y-0.5 mt-0.5",children:[Object(U.jsxs)("div",{className:"inline-flex justify-between w-full rounded-lg overflow-hidden",style:{height:"18px"},children:[Object(U.jsx)("div",{style:{background:a("right"),width:"35%"}}),Object(U.jsx)("div",{style:{background:a("left"),width:"20%"}})]}),Object(U.jsxs)("div",{className:"inline-flex justify-between w-full rounded-lg overflow-hidden",style:{height:"15px"},children:[Object(U.jsx)("div",{style:{background:a("right"),width:"50%"}}),Object(U.jsx)("div",{style:{background:a("left"),width:"25%"}})]})]}),Object(U.jsx)("div",{className:"w-full mt-4 px-2 xxs:px-5 pt-3 pb-1",style:{background:"linear-gradient(rgba(229, 232, 235, 0.392) 0%, rgb(255, 255, 255) 20%)"},children:Object(U.jsxs)("div",{className:"inline-flex w-full justify-between rounded-lg overflow-hidden",style:{height:"17px"},children:[Object(U.jsx)("div",{style:{background:a("right"),width:"50%"}}),Object(U.jsx)("div",{style:{background:a("left"),width:"25%"}})]})})]})}))})),mn=function(e){var t=e.children;return Object(U.jsx)("div",{className:"grid gap-6 lg:gap-7 2xl:gap-10 justify-center grid-cols-1 xxs:grid-cols-1nft-300 sm:grid-cols-2nft-300 lg:grid-cols-3nft-300 xl:grid-cols-4nft-300",children:t})},jn=c.a.memo((function(){return Object(U.jsxs)(mn,{children:[Object(U.jsx)(dn,{}),Object(U.jsx)(dn,{className:"hidden sm:block"}),Object(U.jsx)(dn,{className:"hidden lg:block"}),Object(U.jsx)(dn,{className:"hidden xl:block"})]})})),bn=n(85),xn=(n(280),function(e){var t=e.path,n=e.scrollPosition,r=Object(a.useState)(!0),c=Object(Q.a)(r,2),s=c[0],i=c[1];return Object(U.jsxs)("div",{className:"aspect-w-1 aspect-h-1 justify-center",children:[Object(U.jsx)(bn.LazyLoadImage,{src:t,alt:"media not supported",effect:"opacity",threshold:100,scrollPosition:n,afterLoad:function(){return i(!1)},style:{width:"100%",height:"100%",objectFit:"contain"}}),s&&Object(U.jsx)("div",{className:"flex items-center justify-center",children:Object(U.jsx)(X,{})})]})}),fn=n(102),pn=c.a.memo((function(e){var t=e.market,n=e.link;return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)("div",{className:"flex gap-1 items-center",children:["unsupported contract"!==t?Object(U.jsx)(fn.b,{size:14,color:"#18b3cc"}):Object(U.jsx)(fn.a,{size:14,color:""}),Object(U.jsx)("a",{className:"text-mjol-purple-dark opacity-80 font-bold text-tiny-4 hover:opacity-90",href:n,target:"_blank",children:"unsupported contract"===t?"Not verified":"Minted on ".concat(t)})]}),Object(U.jsx)("hr",{className:"border-mjol-purple-dark"})]})})),hn=c.a.memo((function(e){var t=e.title;return Object(U.jsx)("div",{className:"font-bold text-mjol-purple-dark truncate text-md",children:t})})),gn=c.a.memo((function(e){var t=e.name;return Object(U.jsx)("div",{className:"text-xs-2 font-semibold truncate text-mjol-purple-dark opacity-75 hover:opacity-90",children:t})})),On=c.a.memo((function(e){var t=e.price,n=null!==t;return Object(U.jsx)("div",{className:"mt-2 mb-1 grid place-items-end",children:Object(U.jsxs)("div",{className:"flex items-center gap-2",children:[Object(U.jsx)("p",{className:"text-mjol-cyan-base font-black text-lg",children:n?t:"Not listed"}),n&&Object(U.jsx)(At,{})]})})})),vn=function(e){var t,n,r=e.nft,a=e.scrollPosition,c="/nft/".concat(r.contractId,"/").concat(r.tokenId);return Object(U.jsxs)("div",{className:"flex flex-col justify-between overflow-hidden w-full rounded-xl ring-1 ring-blue-300 select-none transform hover:shadow-mjol-medium-blue-all-xs",children:[Object(U.jsx)(o.b,{to:c,children:Object(U.jsx)(xn,{path:r.mediaURL,scrollPosition:a})}),Object(U.jsxs)("div",{className:"px-2 xxs:px-5 mt-1",children:[Object(U.jsxs)("div",{className:"flex flex-col mb-4",children:[Object(U.jsx)(o.b,{to:c,children:Object(U.jsx)(hn,{title:r.title})}),Object(U.jsx)(o.b,{to:"MOCK",children:Object(U.jsx)(gn,{name:"Mock collection"})})]}),Object(U.jsx)(pn,{market:null===(t=r.mintSite)||void 0===t?void 0:t.name,link:null===(n=r.mintSite)||void 0===n?void 0:n.nftLink}),Object(U.jsx)(On,{price:r.price})]})]})},yn=function(e){var t=e.nfts,n=e.scrollPosition;return Object(U.jsx)(mn,{children:t.map((function(e){var t=Pe(e.contractId,e.tokenId);return Object(U.jsx)(vn,{nft:e,scrollPosition:n},t)}))})},Nn={nfts:[],fetching:!1,from:0,limit:12,hasMore:!0,total:0},wn=Object(Ie.b)({name:"explore-nfts",initialState:Nn,reducers:{setPageData:function(e,t){e.nfts=e.nfts.concat(t.payload.tokens),e.total=t.payload.total,e.hasMore=t.payload.hasMore,e.from+=e.limit},toggleFetching:function(e,t){e.fetching=t.payload},reset:function(){return Nn}}}),kn=wn.reducer;function _n(){return Sn.apply(this,arguments)}function Sn(){return Sn=Object(se.a)(oe.a.mark((function e(){var t,n,r,a=arguments;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:0,n=a.length>1&&void 0!==a[1]?a[1]:50,e.next=4,Xe(t,n);case 4:return r=e.sent,e.abrupt("return",tt(r.tokens,function(){var e=Object(se.a)(oe.a.mark((function e(t){var n,r,a;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.price,r=t.token_id,a=t.nft_contract_id,e.abrupt("return",N({contractId:a,methodName:"nft_token",args:{token_id:r}}).then((function(e){var t=Pe(a,r),c=Object(we.a)({},t,Fe(n));return He(a,e,c)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){return{tokens:e.values,hasMore:r.has_next_batch,total:r.total_count}})));case 6:case"end":return e.stop()}}),e)}))),Sn.apply(this,arguments)}var Ln,In=function(e,t){return function(){var n=Object(se.a)(oe.a.mark((function n(r){return oe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r(wn.actions.toggleFetching(!0)),_n(e,t).then((function(e){return r(wn.actions.setPageData(e))})).finally((function(){return r(wn.actions.toggleFetching(!1))}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},Cn=Object(bn.trackWindowScroll)((function(e){var t=e.scrollPosition,n=Z((function(e){return e.explore.nfts})),r=n.nfts,c=n.hasMore,s=n.fetching,i=n.from,o=n.limit,l=W();Object(a.useEffect)((function(){return l(In(i,o)),function(){l(wn.actions.reset())}}),[]);return Object(U.jsx)(ln.a,{next:function(){if(c&&!s)return l(In(i,o))},scrollThreshold:"100px",hasMore:c,className:"py-5 "+(0!==r.length?"space-y-6 lg:space-y-7 2xl:space-y-10":""),loader:Object(U.jsx)(jn,{}),dataLength:r.length,endMessage:Object(U.jsx)(Mt,{text:"No more items on market"}),children:Object(U.jsx)(yn,{nfts:r,scrollPosition:t})})})),Tn=function(){var e=Z((function(e){return e.explore.nfts.total}));return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(on,{}),Object(U.jsxs)("div",{className:"my-5 font-mono text-center text-gray-600",children:["Total items: ",e]}),Object(U.jsx)(Cn,{})]})},En=function(){return Object(U.jsx)("div",{})};!function(e){e.All="All NFTs",e.Listed="Listed NFTs",e.History="My History"}(Ln||(Ln={}));var Fn={tabs:[Ln.All,Ln.Listed,Ln.History],activeTab:Ln.All,fetching:!1,contracts:[],nfts:[],history:[]},Un=Object(Ie.b)({name:"profile-nfts",initialState:Fn,reducers:{changeTab:function(e,t){e.activeTab=t.payload},setPageData:function(e,t){e.nfts=t.payload},addNft:function(e,t){e.nfts.push(t.payload)},toggleFetching:function(e,t){e.fetching=t.payload},resetNfts:function(e){e.nfts=[],e.fetching=!0}}}),Mn=Un.reducer,Pn=function(e){var t=e.accountId;return Object(a.useEffect)((function(){}),[t]),Object(U.jsx)(Mt,{text:"History"})},An=n(286),Rn=c.a.memo((function(e){var t=e.width,n=void 0===t?150:t,r=e.height,a=void 0===r?190:r;return Object(U.jsxs)("div",{className:"w-full flex flex-col justify-center items-center gap-10",children:[Object(U.jsxs)("div",{className:"inline-flex place-items-end gap-4",children:[Object(U.jsx)(An.a.div,{className:"rounded-lg shadow-mjol-gray-xs",style:{width:n,height:a,background:T("left")},initial:{rotate:-3},animate:{rotate:-10},transition:{repeatType:"reverse",duration:1,repeat:1/0}}),Object(U.jsx)(An.a.div,{className:"rounded-lg shadow-mjol-gray-xs",style:{width:.7*n,height:.7*a,background:T("right")},initial:{rotate:6},animate:{rotate:20},transition:{repeatType:"reverse",duration:1,repeat:1/0}})]}),Object(U.jsxs)("div",{className:"inline-flex gap-1 items-baseline text-sm",children:[Object(U.jsx)("div",{className:"text-gray-600",children:"No items found. You can buy NFTs on"}),Object(U.jsx)(o.b,{to:"/nfts",className:"text-blue-600 font-black",children:"market"})]})]})})),Dn=function(e){var t=e.accountId,n=Z((function(e){return e.profile.nfts})),r=n.nfts,c=n.fetching,s=n.activeTab,i=W();return Object(a.useEffect)((function(){return i(function(e){return function(){var t=Object(se.a)(oe.a.mark((function t(n){return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Un.actions.toggleFetching(!0)),it(e).then((function(e){return n(Un.actions.setPageData(e))})).finally((function(){return n(Un.actions.toggleFetching(!1))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t)),function(){i(Un.actions.resetNfts())}}),[t]),Object(U.jsx)(U.Fragment,{children:c?Object(U.jsx)(jn,{}):0===r.length?Object(U.jsx)(Rn,{}):Object(U.jsx)(yn,{nfts:s===Ln.Listed?r.filter((function(e){return null!==e.price})):r})})},Bn=function(e){var t=e.title,n=e.onClick,r=e.isActive,a=void 0===r||r;return Object(U.jsx)("button",{onClick:n,className:C(a?"from-blue-500 to-blue-800":"hover:shadow-mjol-blue-button hover:ring-1 hover:ring-inset hover:ring-blue-400","bg-gradient-to-l from-transparent to-transparent rounded-lg group px-6 py-1 transform duration-200"),children:a?Object(U.jsx)("div",{className:"text-white font-extrabold",children:t}):Object(U.jsx)(Mt,{text:t})})},Jn=function(e){var t=e.changeTab,n=e.activeTab,r=e.tabs;return Object(U.jsx)($,{children:Object(U.jsxs)("div",{className:"pb-10 space-y-10",children:[Object(U.jsx)(K,{title:"My NFTs"}),Object(U.jsx)("div",{className:"text-center",children:Object(U.jsx)("div",{className:"inline-flex flex-col gap-2 sm:flex-row sm:gap-5 md:text-lg",children:r.map((function(e){return Object(U.jsx)(Bn,{title:e,isActive:e===n,onClick:function(){return t(e)}},e)}))})})]})})},zn=lt((function(e){var t=e.accountId,n=Z((function(e){return e.profile.nfts})),r=n.activeTab,c=n.tabs,s=W(),i=Object(a.useMemo)((function(){switch(r){case Ln.All:case Ln.Listed:return Object(U.jsx)(Dn,{accountId:t});case Ln.History:return Object(U.jsx)(Pn,{accountId:t})}}),[r]);return Object(U.jsxs)("div",{className:"space-y-8 pb-4 min-h-screen",children:[Object(U.jsx)(Jn,{changeTab:function(e){s(Un.actions.changeTab(e))},activeTab:r,tabs:c}),i]})})),Wn=function(){return Object(U.jsxs)(H.c,{children:[Object(U.jsx)(H.a,{path:"/",element:Object(U.jsx)(V,{})}),Object(U.jsx)(H.a,{path:"logout",element:Object(U.jsx)(an,{})}),Object(U.jsx)(H.a,{path:"nfts",element:Object(U.jsx)(Tn,{})}),Object(U.jsx)(H.a,{path:"nft/:contractId/:tokenId",element:Object(U.jsx)(rn,{})}),Object(U.jsx)(H.a,{path:"collections",element:Object(U.jsx)(Le,{})}),Object(U.jsx)(H.a,{path:"create-nft",element:Object(U.jsx)(Se,{})}),Object(U.jsx)(H.a,{path:"create-collection",element:Object(U.jsx)(xe,{})}),Object(U.jsx)(H.a,{path:"profile/nfts",element:Object(U.jsx)(zn,{})}),Object(U.jsx)(H.a,{path:"profile/collections",element:Object(U.jsx)(En,{})}),Object(U.jsx)(H.a,{path:"*",element:Object(U.jsx)(q,{})})]})};function Zn(){return Object(a.useEffect)((function(){S("collection-2",0,1).then((function(e){return console.log(e)}))})),Object(U.jsxs)("div",{children:[Object(U.jsx)(G,{}),Object(U.jsx)(Wn,{})]})}var Gn=n(21),Hn=Object(Gn.b)({nft:Ee}),Yn=Object(Ie.b)({name:"navbar",initialState:{tabs:{explore:[{name:"NFTs",path:"/nfts"},{name:"Collections",path:"/collections"}],create:[{name:"NFT",path:"/create-nft"},{name:"Collection",path:"/create-collection"}],profile:[{name:"My NFTs",path:"/profile/nfts"},{name:"My Collections",path:"/profile/collections"},{name:"Sign out",path:"/logout"}],single:[{name:"Launchpad",path:"/launchpad"},{name:"Docs",path:"/docs"}]}},reducers:{}}).reducer,Vn=Object(Gn.b)({nfts:kn}),qn=Object(Gn.b)({nfts:Mn}),Qn=Object(Gn.b)({navbar:Yn,profile:qn,preview:Hn,explore:Vn}),Kn=Object(Ie.a)({reducer:Qn});i.a.render(Object(U.jsx)(c.a.StrictMode,{children:Object(U.jsx)(o.a,{children:Object(U.jsx)(l.a,{store:Kn,children:Object(U.jsx)(Zn,{})})})}),document.getElementById("root"))},83:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var r=n(143);function a(t){return Object(r.a)((n=t,"undefined"!==typeof e?e.from(n,"base64"):new Uint8Array(atob(n.toString().trim()).split("").map((function(e){return e.charCodeAt(0)})))));var n}}).call(this,n(32).Buffer)}},[[281,1,2]]]);
//# sourceMappingURL=main.cd8ad247.chunk.js.map